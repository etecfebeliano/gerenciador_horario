import"firebase/compat/app";import"firebase/compat/auth";import"firebase/compat/firestore";import{z as ne}from"zod";import Au from"exceljs";import Lu from"jspdf";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function rf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ou={exports:{}},_l={},Ru={exports:{}},re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ho=Symbol.for("react.element"),of=Symbol.for("react.portal"),lf=Symbol.for("react.fragment"),af=Symbol.for("react.strict_mode"),sf=Symbol.for("react.profiler"),uf=Symbol.for("react.provider"),cf=Symbol.for("react.context"),df=Symbol.for("react.forward_ref"),ff=Symbol.for("react.suspense"),pf=Symbol.for("react.memo"),mf=Symbol.for("react.lazy"),gs=Symbol.iterator;function hf(e){return e===null||typeof e!="object"?null:(e=gs&&e[gs]||e["@@iterator"],typeof e=="function"?e:null)}var Fu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},zu=Object.assign,Mu={};function xr(e,t,n){this.props=e,this.context=t,this.refs=Mu,this.updater=n||Fu}xr.prototype.isReactComponent={};xr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};xr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function $u(){}$u.prototype=xr.prototype;function ya(e,t,n){this.props=e,this.context=t,this.refs=Mu,this.updater=n||Fu}var wa=ya.prototype=new $u;wa.constructor=ya;zu(wa,xr.prototype);wa.isPureReactComponent=!0;var vs=Array.isArray,ju=Object.prototype.hasOwnProperty,xa={current:null},Hu={key:!0,ref:!0,__self:!0,__source:!0};function Bu(e,t,n){var r,o={},l=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(l=""+t.key),t)ju.call(t,r)&&!Hu.hasOwnProperty(r)&&(o[r]=t[r]);var a=arguments.length-2;if(a===1)o.children=n;else if(1<a){for(var s=Array(a),p=0;p<a;p++)s[p]=arguments[p+2];o.children=s}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)o[r]===void 0&&(o[r]=a[r]);return{$$typeof:ho,type:e,key:l,ref:i,props:o,_owner:xa.current}}function gf(e,t){return{$$typeof:ho,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Sa(e){return typeof e=="object"&&e!==null&&e.$$typeof===ho}function vf(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ys=/\/+/g;function Ql(e,t){return typeof e=="object"&&e!==null&&e.key!=null?vf(""+e.key):t.toString(36)}function Bo(e,t,n,r,o){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(l){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case ho:case of:i=!0}}if(i)return i=e,o=o(i),e=r===""?"."+Ql(i,0):r,vs(o)?(n="",e!=null&&(n=e.replace(ys,"$&/")+"/"),Bo(o,t,n,"",function(p){return p})):o!=null&&(Sa(o)&&(o=gf(o,n+(!o.key||i&&i.key===o.key?"":(""+o.key).replace(ys,"$&/")+"/")+e)),t.push(o)),1;if(i=0,r=r===""?".":r+":",vs(e))for(var a=0;a<e.length;a++){l=e[a];var s=r+Ql(l,a);i+=Bo(l,t,n,s,o)}else if(s=hf(e),typeof s=="function")for(e=s.call(e),a=0;!(l=e.next()).done;)l=l.value,s=r+Ql(l,a++),i+=Bo(l,t,n,s,o);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Co(e,t,n){if(e==null)return e;var r=[],o=0;return Bo(e,r,"","",function(l){return t.call(n,l,o++)}),r}function yf(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ge={current:null},Uo={transition:null},wf={ReactCurrentDispatcher:Ge,ReactCurrentBatchConfig:Uo,ReactCurrentOwner:xa};function Uu(){throw Error("act(...) is not supported in production builds of React.")}re.Children={map:Co,forEach:function(e,t,n){Co(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Co(e,function(){t++}),t},toArray:function(e){return Co(e,function(t){return t})||[]},only:function(e){if(!Sa(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};re.Component=xr;re.Fragment=lf;re.Profiler=sf;re.PureComponent=ya;re.StrictMode=af;re.Suspense=ff;re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wf;re.act=Uu;re.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=zu({},e.props),o=e.key,l=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,i=xa.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(s in t)ju.call(t,s)&&!Hu.hasOwnProperty(s)&&(r[s]=t[s]===void 0&&a!==void 0?a[s]:t[s])}var s=arguments.length-2;if(s===1)r.children=n;else if(1<s){a=Array(s);for(var p=0;p<s;p++)a[p]=arguments[p+2];r.children=a}return{$$typeof:ho,type:e.type,key:o,ref:l,props:r,_owner:i}};re.createContext=function(e){return e={$$typeof:cf,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:uf,_context:e},e.Consumer=e};re.createElement=Bu;re.createFactory=function(e){var t=Bu.bind(null,e);return t.type=e,t};re.createRef=function(){return{current:null}};re.forwardRef=function(e){return{$$typeof:df,render:e}};re.isValidElement=Sa;re.lazy=function(e){return{$$typeof:mf,_payload:{_status:-1,_result:e},_init:yf}};re.memo=function(e,t){return{$$typeof:pf,type:e,compare:t===void 0?null:t}};re.startTransition=function(e){var t=Uo.transition;Uo.transition={};try{e()}finally{Uo.transition=t}};re.unstable_act=Uu;re.useCallback=function(e,t){return Ge.current.useCallback(e,t)};re.useContext=function(e){return Ge.current.useContext(e)};re.useDebugValue=function(){};re.useDeferredValue=function(e){return Ge.current.useDeferredValue(e)};re.useEffect=function(e,t){return Ge.current.useEffect(e,t)};re.useId=function(){return Ge.current.useId()};re.useImperativeHandle=function(e,t,n){return Ge.current.useImperativeHandle(e,t,n)};re.useInsertionEffect=function(e,t){return Ge.current.useInsertionEffect(e,t)};re.useLayoutEffect=function(e,t){return Ge.current.useLayoutEffect(e,t)};re.useMemo=function(e,t){return Ge.current.useMemo(e,t)};re.useReducer=function(e,t,n){return Ge.current.useReducer(e,t,n)};re.useRef=function(e){return Ge.current.useRef(e)};re.useState=function(e){return Ge.current.useState(e)};re.useSyncExternalStore=function(e,t,n){return Ge.current.useSyncExternalStore(e,t,n)};re.useTransition=function(){return Ge.current.useTransition()};re.version="18.3.1";Ru.exports=re;var b=Ru.exports;const Fn=rf(b);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xf=b,Sf=Symbol.for("react.element"),Ef=Symbol.for("react.fragment"),Cf=Object.prototype.hasOwnProperty,kf=xf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Nf={key:!0,ref:!0,__self:!0,__source:!0};function Wu(e,t,n){var r,o={},l=null,i=null;n!==void 0&&(l=""+n),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)Cf.call(t,r)&&!Nf.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:Sf,type:e,key:l,ref:i,props:o,_owner:kf.current}}_l.Fragment=Ef;_l.jsx=Wu;_l.jsxs=Wu;Ou.exports=_l;var Ea=Ou.exports;const dn=Ea.Fragment,c=Ea.jsx,k=Ea.jsxs;var Si={},Vu={exports:{}},ft={},Gu={exports:{}},Qu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,H){var M=L.length;L.push(H);e:for(;0<M;){var K=M-1>>>1,ee=L[K];if(0<o(ee,H))L[K]=H,L[M]=ee,M=K;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var H=L[0],M=L.pop();if(M!==H){L[0]=M;e:for(var K=0,ee=L.length,Ot=ee>>>1;K<Ot;){var Ue=2*(K+1)-1,mt=L[Ue],Pe=Ue+1,ht=L[Pe];if(0>o(mt,M))Pe<ee&&0>o(ht,mt)?(L[K]=ht,L[Pe]=M,K=Pe):(L[K]=mt,L[Ue]=M,K=Ue);else if(Pe<ee&&0>o(ht,M))L[K]=ht,L[Pe]=M,K=Pe;else break e}}return H}function o(L,H){var M=L.sortIndex-H.sortIndex;return M!==0?M:L.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var i=Date,a=i.now();e.unstable_now=function(){return i.now()-a}}var s=[],p=[],f=1,h=null,v=3,w=!1,g=!1,S=!1,D=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,u=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function d(L){for(var H=n(p);H!==null;){if(H.callback===null)r(p);else if(H.startTime<=L)r(p),H.sortIndex=H.expirationTime,t(s,H);else break;H=n(p)}}function y(L){if(S=!1,d(L),!g)if(n(s)!==null)g=!0,ue(C);else{var H=n(p);H!==null&&xe(y,H.startTime-L)}}function C(L,H){g=!1,S&&(S=!1,m(_),_=-1),w=!0;var M=v;try{for(d(H),h=n(s);h!==null&&(!(h.expirationTime>H)||L&&!O());){var K=h.callback;if(typeof K=="function"){h.callback=null,v=h.priorityLevel;var ee=K(h.expirationTime<=H);H=e.unstable_now(),typeof ee=="function"?h.callback=ee:h===n(s)&&r(s),d(H)}else r(s);h=n(s)}if(h!==null)var Ot=!0;else{var Ue=n(p);Ue!==null&&xe(y,Ue.startTime-H),Ot=!1}return Ot}finally{h=null,v=M,w=!1}}var x=!1,I=null,_=-1,E=5,T=-1;function O(){return!(e.unstable_now()-T<E)}function R(){if(I!==null){var L=e.unstable_now();T=L;var H=!0;try{H=I(!0,L)}finally{H?j():(x=!1,I=null)}}else x=!1}var j;if(typeof u=="function")j=function(){u(R)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,F=X.port2;X.port1.onmessage=R,j=function(){F.postMessage(null)}}else j=function(){D(R,0)};function ue(L){I=L,x||(x=!0,j())}function xe(L,H){_=D(function(){L(e.unstable_now())},H)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){g||w||(g=!0,ue(C))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return n(s)},e.unstable_next=function(L){switch(v){case 1:case 2:case 3:var H=3;break;default:H=v}var M=v;v=H;try{return L()}finally{v=M}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,H){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var M=v;v=L;try{return H()}finally{v=M}},e.unstable_scheduleCallback=function(L,H,M){var K=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?K+M:K):M=K,L){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=M+ee,L={id:f++,callback:H,priorityLevel:L,startTime:M,expirationTime:ee,sortIndex:-1},M>K?(L.sortIndex=M,t(p,L),n(s)===null&&L===n(p)&&(S?(m(_),_=-1):S=!0,xe(y,M-K))):(L.sortIndex=ee,t(s,L),g||w||(g=!0,ue(C))),L},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(L){var H=v;return function(){var M=v;v=H;try{return L.apply(this,arguments)}finally{v=M}}}})(Qu);Gu.exports=Qu;var Tf=Gu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var If=b,dt=Tf;function P(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Yu=new Set,Jr={};function Bn(e,t){pr(e,t),pr(e+"Capture",t)}function pr(e,t){for(Jr[e]=t,e=0;e<t.length;e++)Yu.add(t[e])}var Kt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ei=Object.prototype.hasOwnProperty,_f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ws={},xs={};function Df(e){return Ei.call(xs,e)?!0:Ei.call(ws,e)?!1:_f.test(e)?xs[e]=!0:(ws[e]=!0,!1)}function bf(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Pf(e,t,n,r){if(t===null||typeof t>"u"||bf(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Qe(e,t,n,r,o,l,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=i}var Re={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Re[e]=new Qe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Re[t]=new Qe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Re[e]=new Qe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Re[e]=new Qe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Re[e]=new Qe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Re[e]=new Qe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Re[e]=new Qe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Re[e]=new Qe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Re[e]=new Qe(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ca=/[\-:]([a-z])/g;function ka(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ca,ka);Re[t]=new Qe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ca,ka);Re[t]=new Qe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ca,ka);Re[t]=new Qe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Re[e]=new Qe(e,1,!1,e.toLowerCase(),null,!1,!1)});Re.xlinkHref=new Qe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Re[e]=new Qe(e,1,!1,e.toLowerCase(),null,!0,!0)});function Na(e,t,n,r){var o=Re.hasOwnProperty(t)?Re[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Pf(t,n,o,r)&&(n=null),r||o===null?Df(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var en=If.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ko=Symbol.for("react.element"),Xn=Symbol.for("react.portal"),Kn=Symbol.for("react.fragment"),Ta=Symbol.for("react.strict_mode"),Ci=Symbol.for("react.profiler"),Xu=Symbol.for("react.provider"),Ku=Symbol.for("react.context"),Ia=Symbol.for("react.forward_ref"),ki=Symbol.for("react.suspense"),Ni=Symbol.for("react.suspense_list"),_a=Symbol.for("react.memo"),rn=Symbol.for("react.lazy"),Ju=Symbol.for("react.offscreen"),Ss=Symbol.iterator;function Dr(e){return e===null||typeof e!="object"?null:(e=Ss&&e[Ss]||e["@@iterator"],typeof e=="function"?e:null)}var we=Object.assign,Yl;function Mr(e){if(Yl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Yl=t&&t[1]||""}return`
`+Yl+e}var Xl=!1;function Kl(e,t){if(!e||Xl)return"";Xl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(p){var r=p}Reflect.construct(e,[],t)}else{try{t.call()}catch(p){r=p}e.call(t.prototype)}else{try{throw Error()}catch(p){r=p}e()}}catch(p){if(p&&r&&typeof p.stack=="string"){for(var o=p.stack.split(`
`),l=r.stack.split(`
`),i=o.length-1,a=l.length-1;1<=i&&0<=a&&o[i]!==l[a];)a--;for(;1<=i&&0<=a;i--,a--)if(o[i]!==l[a]){if(i!==1||a!==1)do if(i--,a--,0>a||o[i]!==l[a]){var s=`
`+o[i].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}while(1<=i&&0<=a);break}}}finally{Xl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Mr(e):""}function Af(e){switch(e.tag){case 5:return Mr(e.type);case 16:return Mr("Lazy");case 13:return Mr("Suspense");case 19:return Mr("SuspenseList");case 0:case 2:case 15:return e=Kl(e.type,!1),e;case 11:return e=Kl(e.type.render,!1),e;case 1:return e=Kl(e.type,!0),e;default:return""}}function Ti(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Kn:return"Fragment";case Xn:return"Portal";case Ci:return"Profiler";case Ta:return"StrictMode";case ki:return"Suspense";case Ni:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ku:return(e.displayName||"Context")+".Consumer";case Xu:return(e._context.displayName||"Context")+".Provider";case Ia:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case _a:return t=e.displayName||null,t!==null?t:Ti(e.type)||"Memo";case rn:t=e._payload,e=e._init;try{return Ti(e(t))}catch{}}return null}function Lf(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ti(t);case 8:return t===Ta?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function xn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Zu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Of(e){var t=Zu(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(i){r=""+i,l.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function No(e){e._valueTracker||(e._valueTracker=Of(e))}function qu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Zu(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function nl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ii(e,t){var n=t.checked;return we({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Es(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=xn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ec(e,t){t=t.checked,t!=null&&Na(e,"checked",t,!1)}function _i(e,t){ec(e,t);var n=xn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Di(e,t.type,n):t.hasOwnProperty("defaultValue")&&Di(e,t.type,xn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Cs(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Di(e,t,n){(t!=="number"||nl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var $r=Array.isArray;function ar(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+xn(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function bi(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(P(91));return we({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ks(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(P(92));if($r(n)){if(1<n.length)throw Error(P(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:xn(n)}}function tc(e,t){var n=xn(t.value),r=xn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Ns(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function nc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pi(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?nc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var To,rc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(To=To||document.createElement("div"),To.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=To.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Zr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Br={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Rf=["Webkit","ms","Moz","O"];Object.keys(Br).forEach(function(e){Rf.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Br[t]=Br[e]})});function oc(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Br.hasOwnProperty(e)&&Br[e]?(""+t).trim():t+"px"}function lc(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=oc(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var Ff=we({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ai(e,t){if(t){if(Ff[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(P(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(P(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(P(61))}if(t.style!=null&&typeof t.style!="object")throw Error(P(62))}}function Li(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Oi=null;function Da(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ri=null,sr=null,ur=null;function Ts(e){if(e=yo(e)){if(typeof Ri!="function")throw Error(P(280));var t=e.stateNode;t&&(t=Ll(t),Ri(e.stateNode,e.type,t))}}function ic(e){sr?ur?ur.push(e):ur=[e]:sr=e}function ac(){if(sr){var e=sr,t=ur;if(ur=sr=null,Ts(e),t)for(e=0;e<t.length;e++)Ts(t[e])}}function sc(e,t){return e(t)}function uc(){}var Jl=!1;function cc(e,t,n){if(Jl)return e(t,n);Jl=!0;try{return sc(e,t,n)}finally{Jl=!1,(sr!==null||ur!==null)&&(uc(),ac())}}function qr(e,t){var n=e.stateNode;if(n===null)return null;var r=Ll(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(P(231,t,typeof n));return n}var Fi=!1;if(Kt)try{var br={};Object.defineProperty(br,"passive",{get:function(){Fi=!0}}),window.addEventListener("test",br,br),window.removeEventListener("test",br,br)}catch{Fi=!1}function zf(e,t,n,r,o,l,i,a,s){var p=Array.prototype.slice.call(arguments,3);try{t.apply(n,p)}catch(f){this.onError(f)}}var Ur=!1,rl=null,ol=!1,zi=null,Mf={onError:function(e){Ur=!0,rl=e}};function $f(e,t,n,r,o,l,i,a,s){Ur=!1,rl=null,zf.apply(Mf,arguments)}function jf(e,t,n,r,o,l,i,a,s){if($f.apply(this,arguments),Ur){if(Ur){var p=rl;Ur=!1,rl=null}else throw Error(P(198));ol||(ol=!0,zi=p)}}function Un(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function dc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Is(e){if(Un(e)!==e)throw Error(P(188))}function Hf(e){var t=e.alternate;if(!t){if(t=Un(e),t===null)throw Error(P(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var l=o.alternate;if(l===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===l.child){for(l=o.child;l;){if(l===n)return Is(o),e;if(l===r)return Is(o),t;l=l.sibling}throw Error(P(188))}if(n.return!==r.return)n=o,r=l;else{for(var i=!1,a=o.child;a;){if(a===n){i=!0,n=o,r=l;break}if(a===r){i=!0,r=o,n=l;break}a=a.sibling}if(!i){for(a=l.child;a;){if(a===n){i=!0,n=l,r=o;break}if(a===r){i=!0,r=l,n=o;break}a=a.sibling}if(!i)throw Error(P(189))}}if(n.alternate!==r)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?e:t}function fc(e){return e=Hf(e),e!==null?pc(e):null}function pc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=pc(e);if(t!==null)return t;e=e.sibling}return null}var mc=dt.unstable_scheduleCallback,_s=dt.unstable_cancelCallback,Bf=dt.unstable_shouldYield,Uf=dt.unstable_requestPaint,Ee=dt.unstable_now,Wf=dt.unstable_getCurrentPriorityLevel,ba=dt.unstable_ImmediatePriority,hc=dt.unstable_UserBlockingPriority,ll=dt.unstable_NormalPriority,Vf=dt.unstable_LowPriority,gc=dt.unstable_IdlePriority,Dl=null,$t=null;function Gf(e){if($t&&typeof $t.onCommitFiberRoot=="function")try{$t.onCommitFiberRoot(Dl,e,void 0,(e.current.flags&128)===128)}catch{}}var Pt=Math.clz32?Math.clz32:Xf,Qf=Math.log,Yf=Math.LN2;function Xf(e){return e>>>=0,e===0?32:31-(Qf(e)/Yf|0)|0}var Io=64,_o=4194304;function jr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function il(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,l=e.pingedLanes,i=n&268435455;if(i!==0){var a=i&~o;a!==0?r=jr(a):(l&=i,l!==0&&(r=jr(l)))}else i=n&~o,i!==0?r=jr(i):l!==0&&(r=jr(l));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,l=t&-t,o>=l||o===16&&(l&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Pt(t),o=1<<n,r|=e[n],t&=~o;return r}function Kf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jf(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,l=e.pendingLanes;0<l;){var i=31-Pt(l),a=1<<i,s=o[i];s===-1?(!(a&n)||a&r)&&(o[i]=Kf(a,t)):s<=t&&(e.expiredLanes|=a),l&=~a}}function Mi(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function vc(){var e=Io;return Io<<=1,!(Io&4194240)&&(Io=64),e}function Zl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function go(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Pt(t),e[t]=n}function Zf(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-Pt(n),l=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~l}}function Pa(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Pt(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var se=0;function yc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var wc,Aa,xc,Sc,Ec,$i=!1,Do=[],fn=null,pn=null,mn=null,eo=new Map,to=new Map,ln=[],qf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ds(e,t){switch(e){case"focusin":case"focusout":fn=null;break;case"dragenter":case"dragleave":pn=null;break;case"mouseover":case"mouseout":mn=null;break;case"pointerover":case"pointerout":eo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":to.delete(t.pointerId)}}function Pr(e,t,n,r,o,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:l,targetContainers:[o]},t!==null&&(t=yo(t),t!==null&&Aa(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function ep(e,t,n,r,o){switch(t){case"focusin":return fn=Pr(fn,e,t,n,r,o),!0;case"dragenter":return pn=Pr(pn,e,t,n,r,o),!0;case"mouseover":return mn=Pr(mn,e,t,n,r,o),!0;case"pointerover":var l=o.pointerId;return eo.set(l,Pr(eo.get(l)||null,e,t,n,r,o)),!0;case"gotpointercapture":return l=o.pointerId,to.set(l,Pr(to.get(l)||null,e,t,n,r,o)),!0}return!1}function Cc(e){var t=Pn(e.target);if(t!==null){var n=Un(t);if(n!==null){if(t=n.tag,t===13){if(t=dc(n),t!==null){e.blockedOn=t,Ec(e.priority,function(){xc(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Wo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ji(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Oi=r,n.target.dispatchEvent(r),Oi=null}else return t=yo(n),t!==null&&Aa(t),e.blockedOn=n,!1;t.shift()}return!0}function bs(e,t,n){Wo(e)&&n.delete(t)}function tp(){$i=!1,fn!==null&&Wo(fn)&&(fn=null),pn!==null&&Wo(pn)&&(pn=null),mn!==null&&Wo(mn)&&(mn=null),eo.forEach(bs),to.forEach(bs)}function Ar(e,t){e.blockedOn===t&&(e.blockedOn=null,$i||($i=!0,dt.unstable_scheduleCallback(dt.unstable_NormalPriority,tp)))}function no(e){function t(o){return Ar(o,e)}if(0<Do.length){Ar(Do[0],e);for(var n=1;n<Do.length;n++){var r=Do[n];r.blockedOn===e&&(r.blockedOn=null)}}for(fn!==null&&Ar(fn,e),pn!==null&&Ar(pn,e),mn!==null&&Ar(mn,e),eo.forEach(t),to.forEach(t),n=0;n<ln.length;n++)r=ln[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<ln.length&&(n=ln[0],n.blockedOn===null);)Cc(n),n.blockedOn===null&&ln.shift()}var cr=en.ReactCurrentBatchConfig,al=!0;function np(e,t,n,r){var o=se,l=cr.transition;cr.transition=null;try{se=1,La(e,t,n,r)}finally{se=o,cr.transition=l}}function rp(e,t,n,r){var o=se,l=cr.transition;cr.transition=null;try{se=4,La(e,t,n,r)}finally{se=o,cr.transition=l}}function La(e,t,n,r){if(al){var o=ji(e,t,n,r);if(o===null)si(e,t,r,sl,n),Ds(e,r);else if(ep(o,e,t,n,r))r.stopPropagation();else if(Ds(e,r),t&4&&-1<qf.indexOf(e)){for(;o!==null;){var l=yo(o);if(l!==null&&wc(l),l=ji(e,t,n,r),l===null&&si(e,t,r,sl,n),l===o)break;o=l}o!==null&&r.stopPropagation()}else si(e,t,r,null,n)}}var sl=null;function ji(e,t,n,r){if(sl=null,e=Da(r),e=Pn(e),e!==null)if(t=Un(e),t===null)e=null;else if(n=t.tag,n===13){if(e=dc(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return sl=e,null}function kc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Wf()){case ba:return 1;case hc:return 4;case ll:case Vf:return 16;case gc:return 536870912;default:return 16}default:return 16}}var sn=null,Oa=null,Vo=null;function Nc(){if(Vo)return Vo;var e,t=Oa,n=t.length,r,o="value"in sn?sn.value:sn.textContent,l=o.length;for(e=0;e<n&&t[e]===o[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===o[l-r];r++);return Vo=o.slice(e,1<r?1-r:void 0)}function Go(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function bo(){return!0}function Ps(){return!1}function pt(e){function t(n,r,o,l,i){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=l,this.target=i,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(l):l[a]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?bo:Ps,this.isPropagationStopped=Ps,this}return we(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=bo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=bo)},persist:function(){},isPersistent:bo}),t}var Sr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ra=pt(Sr),vo=we({},Sr,{view:0,detail:0}),op=pt(vo),ql,ei,Lr,bl=we({},vo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fa,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Lr&&(Lr&&e.type==="mousemove"?(ql=e.screenX-Lr.screenX,ei=e.screenY-Lr.screenY):ei=ql=0,Lr=e),ql)},movementY:function(e){return"movementY"in e?e.movementY:ei}}),As=pt(bl),lp=we({},bl,{dataTransfer:0}),ip=pt(lp),ap=we({},vo,{relatedTarget:0}),ti=pt(ap),sp=we({},Sr,{animationName:0,elapsedTime:0,pseudoElement:0}),up=pt(sp),cp=we({},Sr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),dp=pt(cp),fp=we({},Sr,{data:0}),Ls=pt(fp),pp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=hp[e])?!!t[e]:!1}function Fa(){return gp}var vp=we({},vo,{key:function(e){if(e.key){var t=pp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Go(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?mp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fa,charCode:function(e){return e.type==="keypress"?Go(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Go(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),yp=pt(vp),wp=we({},bl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Os=pt(wp),xp=we({},vo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fa}),Sp=pt(xp),Ep=we({},Sr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Cp=pt(Ep),kp=we({},bl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Np=pt(kp),Tp=[9,13,27,32],za=Kt&&"CompositionEvent"in window,Wr=null;Kt&&"documentMode"in document&&(Wr=document.documentMode);var Ip=Kt&&"TextEvent"in window&&!Wr,Tc=Kt&&(!za||Wr&&8<Wr&&11>=Wr),Rs=String.fromCharCode(32),Fs=!1;function Ic(e,t){switch(e){case"keyup":return Tp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _c(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Jn=!1;function _p(e,t){switch(e){case"compositionend":return _c(t);case"keypress":return t.which!==32?null:(Fs=!0,Rs);case"textInput":return e=t.data,e===Rs&&Fs?null:e;default:return null}}function Dp(e,t){if(Jn)return e==="compositionend"||!za&&Ic(e,t)?(e=Nc(),Vo=Oa=sn=null,Jn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Tc&&t.locale!=="ko"?null:t.data;default:return null}}var bp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zs(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!bp[e.type]:t==="textarea"}function Dc(e,t,n,r){ic(r),t=ul(t,"onChange"),0<t.length&&(n=new Ra("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Vr=null,ro=null;function Pp(e){jc(e,0)}function Pl(e){var t=er(e);if(qu(t))return e}function Ap(e,t){if(e==="change")return t}var bc=!1;if(Kt){var ni;if(Kt){var ri="oninput"in document;if(!ri){var Ms=document.createElement("div");Ms.setAttribute("oninput","return;"),ri=typeof Ms.oninput=="function"}ni=ri}else ni=!1;bc=ni&&(!document.documentMode||9<document.documentMode)}function $s(){Vr&&(Vr.detachEvent("onpropertychange",Pc),ro=Vr=null)}function Pc(e){if(e.propertyName==="value"&&Pl(ro)){var t=[];Dc(t,ro,e,Da(e)),cc(Pp,t)}}function Lp(e,t,n){e==="focusin"?($s(),Vr=t,ro=n,Vr.attachEvent("onpropertychange",Pc)):e==="focusout"&&$s()}function Op(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Pl(ro)}function Rp(e,t){if(e==="click")return Pl(t)}function Fp(e,t){if(e==="input"||e==="change")return Pl(t)}function zp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Lt=typeof Object.is=="function"?Object.is:zp;function oo(e,t){if(Lt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Ei.call(t,o)||!Lt(e[o],t[o]))return!1}return!0}function js(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Hs(e,t){var n=js(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=js(n)}}function Ac(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ac(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Lc(){for(var e=window,t=nl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=nl(e.document)}return t}function Ma(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Mp(e){var t=Lc(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Ac(n.ownerDocument.documentElement,n)){if(r!==null&&Ma(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,l=Math.min(r.start,o);r=r.end===void 0?l:Math.min(r.end,o),!e.extend&&l>r&&(o=r,r=l,l=o),o=Hs(n,l);var i=Hs(n,r);o&&i&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),l>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var $p=Kt&&"documentMode"in document&&11>=document.documentMode,Zn=null,Hi=null,Gr=null,Bi=!1;function Bs(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Bi||Zn==null||Zn!==nl(r)||(r=Zn,"selectionStart"in r&&Ma(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Gr&&oo(Gr,r)||(Gr=r,r=ul(Hi,"onSelect"),0<r.length&&(t=new Ra("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Zn)))}function Po(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var qn={animationend:Po("Animation","AnimationEnd"),animationiteration:Po("Animation","AnimationIteration"),animationstart:Po("Animation","AnimationStart"),transitionend:Po("Transition","TransitionEnd")},oi={},Oc={};Kt&&(Oc=document.createElement("div").style,"AnimationEvent"in window||(delete qn.animationend.animation,delete qn.animationiteration.animation,delete qn.animationstart.animation),"TransitionEvent"in window||delete qn.transitionend.transition);function Al(e){if(oi[e])return oi[e];if(!qn[e])return e;var t=qn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Oc)return oi[e]=t[n];return e}var Rc=Al("animationend"),Fc=Al("animationiteration"),zc=Al("animationstart"),Mc=Al("transitionend"),$c=new Map,Us="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function En(e,t){$c.set(e,t),Bn(t,[e])}for(var li=0;li<Us.length;li++){var ii=Us[li],jp=ii.toLowerCase(),Hp=ii[0].toUpperCase()+ii.slice(1);En(jp,"on"+Hp)}En(Rc,"onAnimationEnd");En(Fc,"onAnimationIteration");En(zc,"onAnimationStart");En("dblclick","onDoubleClick");En("focusin","onFocus");En("focusout","onBlur");En(Mc,"onTransitionEnd");pr("onMouseEnter",["mouseout","mouseover"]);pr("onMouseLeave",["mouseout","mouseover"]);pr("onPointerEnter",["pointerout","pointerover"]);pr("onPointerLeave",["pointerout","pointerover"]);Bn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Bn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Bn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Bn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Bn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Bn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Bp=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hr));function Ws(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,jf(r,t,void 0,e),e.currentTarget=null}function jc(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var l=void 0;if(t)for(var i=r.length-1;0<=i;i--){var a=r[i],s=a.instance,p=a.currentTarget;if(a=a.listener,s!==l&&o.isPropagationStopped())break e;Ws(o,a,p),l=s}else for(i=0;i<r.length;i++){if(a=r[i],s=a.instance,p=a.currentTarget,a=a.listener,s!==l&&o.isPropagationStopped())break e;Ws(o,a,p),l=s}}}if(ol)throw e=zi,ol=!1,zi=null,e}function me(e,t){var n=t[Qi];n===void 0&&(n=t[Qi]=new Set);var r=e+"__bubble";n.has(r)||(Hc(t,e,2,!1),n.add(r))}function ai(e,t,n){var r=0;t&&(r|=4),Hc(n,e,r,t)}var Ao="_reactListening"+Math.random().toString(36).slice(2);function lo(e){if(!e[Ao]){e[Ao]=!0,Yu.forEach(function(n){n!=="selectionchange"&&(Bp.has(n)||ai(n,!1,e),ai(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ao]||(t[Ao]=!0,ai("selectionchange",!1,t))}}function Hc(e,t,n,r){switch(kc(t)){case 1:var o=np;break;case 4:o=rp;break;default:o=La}n=o.bind(null,t,n,e),o=void 0,!Fi||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function si(e,t,n,r,o){var l=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var a=r.stateNode.containerInfo;if(a===o||a.nodeType===8&&a.parentNode===o)break;if(i===4)for(i=r.return;i!==null;){var s=i.tag;if((s===3||s===4)&&(s=i.stateNode.containerInfo,s===o||s.nodeType===8&&s.parentNode===o))return;i=i.return}for(;a!==null;){if(i=Pn(a),i===null)return;if(s=i.tag,s===5||s===6){r=l=i;continue e}a=a.parentNode}}r=r.return}cc(function(){var p=l,f=Da(n),h=[];e:{var v=$c.get(e);if(v!==void 0){var w=Ra,g=e;switch(e){case"keypress":if(Go(n)===0)break e;case"keydown":case"keyup":w=yp;break;case"focusin":g="focus",w=ti;break;case"focusout":g="blur",w=ti;break;case"beforeblur":case"afterblur":w=ti;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=As;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=ip;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=Sp;break;case Rc:case Fc:case zc:w=up;break;case Mc:w=Cp;break;case"scroll":w=op;break;case"wheel":w=Np;break;case"copy":case"cut":case"paste":w=dp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=Os}var S=(t&4)!==0,D=!S&&e==="scroll",m=S?v!==null?v+"Capture":null:v;S=[];for(var u=p,d;u!==null;){d=u;var y=d.stateNode;if(d.tag===5&&y!==null&&(d=y,m!==null&&(y=qr(u,m),y!=null&&S.push(io(u,y,d)))),D)break;u=u.return}0<S.length&&(v=new w(v,g,null,n,f),h.push({event:v,listeners:S}))}}if(!(t&7)){e:{if(v=e==="mouseover"||e==="pointerover",w=e==="mouseout"||e==="pointerout",v&&n!==Oi&&(g=n.relatedTarget||n.fromElement)&&(Pn(g)||g[Jt]))break e;if((w||v)&&(v=f.window===f?f:(v=f.ownerDocument)?v.defaultView||v.parentWindow:window,w?(g=n.relatedTarget||n.toElement,w=p,g=g?Pn(g):null,g!==null&&(D=Un(g),g!==D||g.tag!==5&&g.tag!==6)&&(g=null)):(w=null,g=p),w!==g)){if(S=As,y="onMouseLeave",m="onMouseEnter",u="mouse",(e==="pointerout"||e==="pointerover")&&(S=Os,y="onPointerLeave",m="onPointerEnter",u="pointer"),D=w==null?v:er(w),d=g==null?v:er(g),v=new S(y,u+"leave",w,n,f),v.target=D,v.relatedTarget=d,y=null,Pn(f)===p&&(S=new S(m,u+"enter",g,n,f),S.target=d,S.relatedTarget=D,y=S),D=y,w&&g)t:{for(S=w,m=g,u=0,d=S;d;d=Yn(d))u++;for(d=0,y=m;y;y=Yn(y))d++;for(;0<u-d;)S=Yn(S),u--;for(;0<d-u;)m=Yn(m),d--;for(;u--;){if(S===m||m!==null&&S===m.alternate)break t;S=Yn(S),m=Yn(m)}S=null}else S=null;w!==null&&Vs(h,v,w,S,!1),g!==null&&D!==null&&Vs(h,D,g,S,!0)}}e:{if(v=p?er(p):window,w=v.nodeName&&v.nodeName.toLowerCase(),w==="select"||w==="input"&&v.type==="file")var C=Ap;else if(zs(v))if(bc)C=Fp;else{C=Op;var x=Lp}else(w=v.nodeName)&&w.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(C=Rp);if(C&&(C=C(e,p))){Dc(h,C,n,f);break e}x&&x(e,v,p),e==="focusout"&&(x=v._wrapperState)&&x.controlled&&v.type==="number"&&Di(v,"number",v.value)}switch(x=p?er(p):window,e){case"focusin":(zs(x)||x.contentEditable==="true")&&(Zn=x,Hi=p,Gr=null);break;case"focusout":Gr=Hi=Zn=null;break;case"mousedown":Bi=!0;break;case"contextmenu":case"mouseup":case"dragend":Bi=!1,Bs(h,n,f);break;case"selectionchange":if($p)break;case"keydown":case"keyup":Bs(h,n,f)}var I;if(za)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Jn?Ic(e,n)&&(_="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(Tc&&n.locale!=="ko"&&(Jn||_!=="onCompositionStart"?_==="onCompositionEnd"&&Jn&&(I=Nc()):(sn=f,Oa="value"in sn?sn.value:sn.textContent,Jn=!0)),x=ul(p,_),0<x.length&&(_=new Ls(_,e,null,n,f),h.push({event:_,listeners:x}),I?_.data=I:(I=_c(n),I!==null&&(_.data=I)))),(I=Ip?_p(e,n):Dp(e,n))&&(p=ul(p,"onBeforeInput"),0<p.length&&(f=new Ls("onBeforeInput","beforeinput",null,n,f),h.push({event:f,listeners:p}),f.data=I))}jc(h,t)})}function io(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ul(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,l=o.stateNode;o.tag===5&&l!==null&&(o=l,l=qr(e,n),l!=null&&r.unshift(io(e,l,o)),l=qr(e,t),l!=null&&r.push(io(e,l,o))),e=e.return}return r}function Yn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Vs(e,t,n,r,o){for(var l=t._reactName,i=[];n!==null&&n!==r;){var a=n,s=a.alternate,p=a.stateNode;if(s!==null&&s===r)break;a.tag===5&&p!==null&&(a=p,o?(s=qr(n,l),s!=null&&i.unshift(io(n,s,a))):o||(s=qr(n,l),s!=null&&i.push(io(n,s,a)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var Up=/\r\n?/g,Wp=/\u0000|\uFFFD/g;function Gs(e){return(typeof e=="string"?e:""+e).replace(Up,`
`).replace(Wp,"")}function Lo(e,t,n){if(t=Gs(t),Gs(e)!==t&&n)throw Error(P(425))}function cl(){}var Ui=null,Wi=null;function Vi(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Gi=typeof setTimeout=="function"?setTimeout:void 0,Vp=typeof clearTimeout=="function"?clearTimeout:void 0,Qs=typeof Promise=="function"?Promise:void 0,Gp=typeof queueMicrotask=="function"?queueMicrotask:typeof Qs<"u"?function(e){return Qs.resolve(null).then(e).catch(Qp)}:Gi;function Qp(e){setTimeout(function(){throw e})}function ui(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),no(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);no(t)}function hn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ys(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Er=Math.random().toString(36).slice(2),Mt="__reactFiber$"+Er,ao="__reactProps$"+Er,Jt="__reactContainer$"+Er,Qi="__reactEvents$"+Er,Yp="__reactListeners$"+Er,Xp="__reactHandles$"+Er;function Pn(e){var t=e[Mt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Jt]||n[Mt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Ys(e);e!==null;){if(n=e[Mt])return n;e=Ys(e)}return t}e=n,n=e.parentNode}return null}function yo(e){return e=e[Mt]||e[Jt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function er(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(P(33))}function Ll(e){return e[ao]||null}var Yi=[],tr=-1;function Cn(e){return{current:e}}function he(e){0>tr||(e.current=Yi[tr],Yi[tr]=null,tr--)}function fe(e,t){tr++,Yi[tr]=e.current,e.current=t}var Sn={},Be=Cn(Sn),et=Cn(!1),zn=Sn;function mr(e,t){var n=e.type.contextTypes;if(!n)return Sn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},l;for(l in n)o[l]=t[l];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function tt(e){return e=e.childContextTypes,e!=null}function dl(){he(et),he(Be)}function Xs(e,t,n){if(Be.current!==Sn)throw Error(P(168));fe(Be,t),fe(et,n)}function Bc(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(P(108,Lf(e)||"Unknown",o));return we({},n,r)}function fl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Sn,zn=Be.current,fe(Be,e),fe(et,et.current),!0}function Ks(e,t,n){var r=e.stateNode;if(!r)throw Error(P(169));n?(e=Bc(e,t,zn),r.__reactInternalMemoizedMergedChildContext=e,he(et),he(Be),fe(Be,e)):he(et),fe(et,n)}var Gt=null,Ol=!1,ci=!1;function Uc(e){Gt===null?Gt=[e]:Gt.push(e)}function Kp(e){Ol=!0,Uc(e)}function kn(){if(!ci&&Gt!==null){ci=!0;var e=0,t=se;try{var n=Gt;for(se=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Gt=null,Ol=!1}catch(o){throw Gt!==null&&(Gt=Gt.slice(e+1)),mc(ba,kn),o}finally{se=t,ci=!1}}return null}var nr=[],rr=0,pl=null,ml=0,vt=[],yt=0,Mn=null,Qt=1,Yt="";function Dn(e,t){nr[rr++]=ml,nr[rr++]=pl,pl=e,ml=t}function Wc(e,t,n){vt[yt++]=Qt,vt[yt++]=Yt,vt[yt++]=Mn,Mn=e;var r=Qt;e=Yt;var o=32-Pt(r)-1;r&=~(1<<o),n+=1;var l=32-Pt(t)+o;if(30<l){var i=o-o%5;l=(r&(1<<i)-1).toString(32),r>>=i,o-=i,Qt=1<<32-Pt(t)+o|n<<o|r,Yt=l+e}else Qt=1<<l|n<<o|r,Yt=e}function $a(e){e.return!==null&&(Dn(e,1),Wc(e,1,0))}function ja(e){for(;e===pl;)pl=nr[--rr],nr[rr]=null,ml=nr[--rr],nr[rr]=null;for(;e===Mn;)Mn=vt[--yt],vt[yt]=null,Yt=vt[--yt],vt[yt]=null,Qt=vt[--yt],vt[yt]=null}var ct=null,st=null,ge=!1,Dt=null;function Vc(e,t){var n=wt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Js(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ct=e,st=hn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ct=e,st=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Mn!==null?{id:Qt,overflow:Yt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=wt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ct=e,st=null,!0):!1;default:return!1}}function Xi(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ki(e){if(ge){var t=st;if(t){var n=t;if(!Js(e,t)){if(Xi(e))throw Error(P(418));t=hn(n.nextSibling);var r=ct;t&&Js(e,t)?Vc(r,n):(e.flags=e.flags&-4097|2,ge=!1,ct=e)}}else{if(Xi(e))throw Error(P(418));e.flags=e.flags&-4097|2,ge=!1,ct=e}}}function Zs(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ct=e}function Oo(e){if(e!==ct)return!1;if(!ge)return Zs(e),ge=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Vi(e.type,e.memoizedProps)),t&&(t=st)){if(Xi(e))throw Gc(),Error(P(418));for(;t;)Vc(e,t),t=hn(t.nextSibling)}if(Zs(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(P(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){st=hn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}st=null}}else st=ct?hn(e.stateNode.nextSibling):null;return!0}function Gc(){for(var e=st;e;)e=hn(e.nextSibling)}function hr(){st=ct=null,ge=!1}function Ha(e){Dt===null?Dt=[e]:Dt.push(e)}var Jp=en.ReactCurrentBatchConfig;function Or(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(P(309));var r=n.stateNode}if(!r)throw Error(P(147,e));var o=r,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(i){var a=o.refs;i===null?delete a[l]:a[l]=i},t._stringRef=l,t)}if(typeof e!="string")throw Error(P(284));if(!n._owner)throw Error(P(290,e))}return e}function Ro(e,t){throw e=Object.prototype.toString.call(t),Error(P(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function qs(e){var t=e._init;return t(e._payload)}function Qc(e){function t(m,u){if(e){var d=m.deletions;d===null?(m.deletions=[u],m.flags|=16):d.push(u)}}function n(m,u){if(!e)return null;for(;u!==null;)t(m,u),u=u.sibling;return null}function r(m,u){for(m=new Map;u!==null;)u.key!==null?m.set(u.key,u):m.set(u.index,u),u=u.sibling;return m}function o(m,u){return m=wn(m,u),m.index=0,m.sibling=null,m}function l(m,u,d){return m.index=d,e?(d=m.alternate,d!==null?(d=d.index,d<u?(m.flags|=2,u):d):(m.flags|=2,u)):(m.flags|=1048576,u)}function i(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,u,d,y){return u===null||u.tag!==6?(u=vi(d,m.mode,y),u.return=m,u):(u=o(u,d),u.return=m,u)}function s(m,u,d,y){var C=d.type;return C===Kn?f(m,u,d.props.children,y,d.key):u!==null&&(u.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===rn&&qs(C)===u.type)?(y=o(u,d.props),y.ref=Or(m,u,d),y.return=m,y):(y=qo(d.type,d.key,d.props,null,m.mode,y),y.ref=Or(m,u,d),y.return=m,y)}function p(m,u,d,y){return u===null||u.tag!==4||u.stateNode.containerInfo!==d.containerInfo||u.stateNode.implementation!==d.implementation?(u=yi(d,m.mode,y),u.return=m,u):(u=o(u,d.children||[]),u.return=m,u)}function f(m,u,d,y,C){return u===null||u.tag!==7?(u=Rn(d,m.mode,y,C),u.return=m,u):(u=o(u,d),u.return=m,u)}function h(m,u,d){if(typeof u=="string"&&u!==""||typeof u=="number")return u=vi(""+u,m.mode,d),u.return=m,u;if(typeof u=="object"&&u!==null){switch(u.$$typeof){case ko:return d=qo(u.type,u.key,u.props,null,m.mode,d),d.ref=Or(m,null,u),d.return=m,d;case Xn:return u=yi(u,m.mode,d),u.return=m,u;case rn:var y=u._init;return h(m,y(u._payload),d)}if($r(u)||Dr(u))return u=Rn(u,m.mode,d,null),u.return=m,u;Ro(m,u)}return null}function v(m,u,d,y){var C=u!==null?u.key:null;if(typeof d=="string"&&d!==""||typeof d=="number")return C!==null?null:a(m,u,""+d,y);if(typeof d=="object"&&d!==null){switch(d.$$typeof){case ko:return d.key===C?s(m,u,d,y):null;case Xn:return d.key===C?p(m,u,d,y):null;case rn:return C=d._init,v(m,u,C(d._payload),y)}if($r(d)||Dr(d))return C!==null?null:f(m,u,d,y,null);Ro(m,d)}return null}function w(m,u,d,y,C){if(typeof y=="string"&&y!==""||typeof y=="number")return m=m.get(d)||null,a(u,m,""+y,C);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ko:return m=m.get(y.key===null?d:y.key)||null,s(u,m,y,C);case Xn:return m=m.get(y.key===null?d:y.key)||null,p(u,m,y,C);case rn:var x=y._init;return w(m,u,d,x(y._payload),C)}if($r(y)||Dr(y))return m=m.get(d)||null,f(u,m,y,C,null);Ro(u,y)}return null}function g(m,u,d,y){for(var C=null,x=null,I=u,_=u=0,E=null;I!==null&&_<d.length;_++){I.index>_?(E=I,I=null):E=I.sibling;var T=v(m,I,d[_],y);if(T===null){I===null&&(I=E);break}e&&I&&T.alternate===null&&t(m,I),u=l(T,u,_),x===null?C=T:x.sibling=T,x=T,I=E}if(_===d.length)return n(m,I),ge&&Dn(m,_),C;if(I===null){for(;_<d.length;_++)I=h(m,d[_],y),I!==null&&(u=l(I,u,_),x===null?C=I:x.sibling=I,x=I);return ge&&Dn(m,_),C}for(I=r(m,I);_<d.length;_++)E=w(I,m,_,d[_],y),E!==null&&(e&&E.alternate!==null&&I.delete(E.key===null?_:E.key),u=l(E,u,_),x===null?C=E:x.sibling=E,x=E);return e&&I.forEach(function(O){return t(m,O)}),ge&&Dn(m,_),C}function S(m,u,d,y){var C=Dr(d);if(typeof C!="function")throw Error(P(150));if(d=C.call(d),d==null)throw Error(P(151));for(var x=C=null,I=u,_=u=0,E=null,T=d.next();I!==null&&!T.done;_++,T=d.next()){I.index>_?(E=I,I=null):E=I.sibling;var O=v(m,I,T.value,y);if(O===null){I===null&&(I=E);break}e&&I&&O.alternate===null&&t(m,I),u=l(O,u,_),x===null?C=O:x.sibling=O,x=O,I=E}if(T.done)return n(m,I),ge&&Dn(m,_),C;if(I===null){for(;!T.done;_++,T=d.next())T=h(m,T.value,y),T!==null&&(u=l(T,u,_),x===null?C=T:x.sibling=T,x=T);return ge&&Dn(m,_),C}for(I=r(m,I);!T.done;_++,T=d.next())T=w(I,m,_,T.value,y),T!==null&&(e&&T.alternate!==null&&I.delete(T.key===null?_:T.key),u=l(T,u,_),x===null?C=T:x.sibling=T,x=T);return e&&I.forEach(function(R){return t(m,R)}),ge&&Dn(m,_),C}function D(m,u,d,y){if(typeof d=="object"&&d!==null&&d.type===Kn&&d.key===null&&(d=d.props.children),typeof d=="object"&&d!==null){switch(d.$$typeof){case ko:e:{for(var C=d.key,x=u;x!==null;){if(x.key===C){if(C=d.type,C===Kn){if(x.tag===7){n(m,x.sibling),u=o(x,d.props.children),u.return=m,m=u;break e}}else if(x.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===rn&&qs(C)===x.type){n(m,x.sibling),u=o(x,d.props),u.ref=Or(m,x,d),u.return=m,m=u;break e}n(m,x);break}else t(m,x);x=x.sibling}d.type===Kn?(u=Rn(d.props.children,m.mode,y,d.key),u.return=m,m=u):(y=qo(d.type,d.key,d.props,null,m.mode,y),y.ref=Or(m,u,d),y.return=m,m=y)}return i(m);case Xn:e:{for(x=d.key;u!==null;){if(u.key===x)if(u.tag===4&&u.stateNode.containerInfo===d.containerInfo&&u.stateNode.implementation===d.implementation){n(m,u.sibling),u=o(u,d.children||[]),u.return=m,m=u;break e}else{n(m,u);break}else t(m,u);u=u.sibling}u=yi(d,m.mode,y),u.return=m,m=u}return i(m);case rn:return x=d._init,D(m,u,x(d._payload),y)}if($r(d))return g(m,u,d,y);if(Dr(d))return S(m,u,d,y);Ro(m,d)}return typeof d=="string"&&d!==""||typeof d=="number"?(d=""+d,u!==null&&u.tag===6?(n(m,u.sibling),u=o(u,d),u.return=m,m=u):(n(m,u),u=vi(d,m.mode,y),u.return=m,m=u),i(m)):n(m,u)}return D}var gr=Qc(!0),Yc=Qc(!1),hl=Cn(null),gl=null,or=null,Ba=null;function Ua(){Ba=or=gl=null}function Wa(e){var t=hl.current;he(hl),e._currentValue=t}function Ji(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function dr(e,t){gl=e,Ba=or=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(qe=!0),e.firstContext=null)}function St(e){var t=e._currentValue;if(Ba!==e)if(e={context:e,memoizedValue:t,next:null},or===null){if(gl===null)throw Error(P(308));or=e,gl.dependencies={lanes:0,firstContext:e}}else or=or.next=e;return t}var An=null;function Va(e){An===null?An=[e]:An.push(e)}function Xc(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,Va(t)):(n.next=o.next,o.next=n),t.interleaved=n,Zt(e,r)}function Zt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var on=!1;function Ga(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Kc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Xt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function gn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ie&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Zt(e,n)}return o=r.interleaved,o===null?(t.next=t,Va(r)):(t.next=o.next,o.next=t),r.interleaved=t,Zt(e,n)}function Qo(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Pa(e,n)}}function eu(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?o=l=i:l=l.next=i,n=n.next}while(n!==null);l===null?o=l=t:l=l.next=t}else o=l=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:l,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function vl(e,t,n,r){var o=e.updateQueue;on=!1;var l=o.firstBaseUpdate,i=o.lastBaseUpdate,a=o.shared.pending;if(a!==null){o.shared.pending=null;var s=a,p=s.next;s.next=null,i===null?l=p:i.next=p,i=s;var f=e.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==i&&(a===null?f.firstBaseUpdate=p:a.next=p,f.lastBaseUpdate=s))}if(l!==null){var h=o.baseState;i=0,f=p=s=null,a=l;do{var v=a.lane,w=a.eventTime;if((r&v)===v){f!==null&&(f=f.next={eventTime:w,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=e,S=a;switch(v=t,w=n,S.tag){case 1:if(g=S.payload,typeof g=="function"){h=g.call(w,h,v);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=S.payload,v=typeof g=="function"?g.call(w,h,v):g,v==null)break e;h=we({},h,v);break e;case 2:on=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,v=o.effects,v===null?o.effects=[a]:v.push(a))}else w={eventTime:w,lane:v,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(p=f=w,s=h):f=f.next=w,i|=v;if(a=a.next,a===null){if(a=o.shared.pending,a===null)break;v=a,a=v.next,v.next=null,o.lastBaseUpdate=v,o.shared.pending=null}}while(1);if(f===null&&(s=h),o.baseState=s,o.firstBaseUpdate=p,o.lastBaseUpdate=f,t=o.shared.interleaved,t!==null){o=t;do i|=o.lane,o=o.next;while(o!==t)}else l===null&&(o.shared.lanes=0);jn|=i,e.lanes=i,e.memoizedState=h}}function tu(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(P(191,o));o.call(r)}}}var wo={},jt=Cn(wo),so=Cn(wo),uo=Cn(wo);function Ln(e){if(e===wo)throw Error(P(174));return e}function Qa(e,t){switch(fe(uo,t),fe(so,e),fe(jt,wo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Pi(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Pi(t,e)}he(jt),fe(jt,t)}function vr(){he(jt),he(so),he(uo)}function Jc(e){Ln(uo.current);var t=Ln(jt.current),n=Pi(t,e.type);t!==n&&(fe(so,e),fe(jt,n))}function Ya(e){so.current===e&&(he(jt),he(so))}var ve=Cn(0);function yl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var di=[];function Xa(){for(var e=0;e<di.length;e++)di[e]._workInProgressVersionPrimary=null;di.length=0}var Yo=en.ReactCurrentDispatcher,fi=en.ReactCurrentBatchConfig,$n=0,ye=null,Ie=null,De=null,wl=!1,Qr=!1,co=0,Zp=0;function Me(){throw Error(P(321))}function Ka(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Lt(e[n],t[n]))return!1;return!0}function Ja(e,t,n,r,o,l){if($n=l,ye=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Yo.current=e===null||e.memoizedState===null?nm:rm,e=n(r,o),Qr){l=0;do{if(Qr=!1,co=0,25<=l)throw Error(P(301));l+=1,De=Ie=null,t.updateQueue=null,Yo.current=om,e=n(r,o)}while(Qr)}if(Yo.current=xl,t=Ie!==null&&Ie.next!==null,$n=0,De=Ie=ye=null,wl=!1,t)throw Error(P(300));return e}function Za(){var e=co!==0;return co=0,e}function zt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return De===null?ye.memoizedState=De=e:De=De.next=e,De}function Et(){if(Ie===null){var e=ye.alternate;e=e!==null?e.memoizedState:null}else e=Ie.next;var t=De===null?ye.memoizedState:De.next;if(t!==null)De=t,Ie=e;else{if(e===null)throw Error(P(310));Ie=e,e={memoizedState:Ie.memoizedState,baseState:Ie.baseState,baseQueue:Ie.baseQueue,queue:Ie.queue,next:null},De===null?ye.memoizedState=De=e:De=De.next=e}return De}function fo(e,t){return typeof t=="function"?t(e):t}function pi(e){var t=Et(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var r=Ie,o=r.baseQueue,l=n.pending;if(l!==null){if(o!==null){var i=o.next;o.next=l.next,l.next=i}r.baseQueue=o=l,n.pending=null}if(o!==null){l=o.next,r=r.baseState;var a=i=null,s=null,p=l;do{var f=p.lane;if(($n&f)===f)s!==null&&(s=s.next={lane:0,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null}),r=p.hasEagerState?p.eagerState:e(r,p.action);else{var h={lane:f,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null};s===null?(a=s=h,i=r):s=s.next=h,ye.lanes|=f,jn|=f}p=p.next}while(p!==null&&p!==l);s===null?i=r:s.next=a,Lt(r,t.memoizedState)||(qe=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=s,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do l=o.lane,ye.lanes|=l,jn|=l,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function mi(e){var t=Et(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,l=t.memoizedState;if(o!==null){n.pending=null;var i=o=o.next;do l=e(l,i.action),i=i.next;while(i!==o);Lt(l,t.memoizedState)||(qe=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),n.lastRenderedState=l}return[l,r]}function Zc(){}function qc(e,t){var n=ye,r=Et(),o=t(),l=!Lt(r.memoizedState,o);if(l&&(r.memoizedState=o,qe=!0),r=r.queue,qa(nd.bind(null,n,r,e),[e]),r.getSnapshot!==t||l||De!==null&&De.memoizedState.tag&1){if(n.flags|=2048,po(9,td.bind(null,n,r,o,t),void 0,null),be===null)throw Error(P(349));$n&30||ed(n,t,o)}return o}function ed(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ye.updateQueue,t===null?(t={lastEffect:null,stores:null},ye.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function td(e,t,n,r){t.value=n,t.getSnapshot=r,rd(t)&&od(e)}function nd(e,t,n){return n(function(){rd(t)&&od(e)})}function rd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Lt(e,n)}catch{return!0}}function od(e){var t=Zt(e,1);t!==null&&At(t,e,1,-1)}function nu(e){var t=zt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fo,lastRenderedState:e},t.queue=e,e=e.dispatch=tm.bind(null,ye,e),[t.memoizedState,e]}function po(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ye.updateQueue,t===null?(t={lastEffect:null,stores:null},ye.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function ld(){return Et().memoizedState}function Xo(e,t,n,r){var o=zt();ye.flags|=e,o.memoizedState=po(1|t,n,void 0,r===void 0?null:r)}function Rl(e,t,n,r){var o=Et();r=r===void 0?null:r;var l=void 0;if(Ie!==null){var i=Ie.memoizedState;if(l=i.destroy,r!==null&&Ka(r,i.deps)){o.memoizedState=po(t,n,l,r);return}}ye.flags|=e,o.memoizedState=po(1|t,n,l,r)}function ru(e,t){return Xo(8390656,8,e,t)}function qa(e,t){return Rl(2048,8,e,t)}function id(e,t){return Rl(4,2,e,t)}function ad(e,t){return Rl(4,4,e,t)}function sd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ud(e,t,n){return n=n!=null?n.concat([e]):null,Rl(4,4,sd.bind(null,t,e),n)}function es(){}function cd(e,t){var n=Et();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ka(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function dd(e,t){var n=Et();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ka(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function fd(e,t,n){return $n&21?(Lt(n,t)||(n=vc(),ye.lanes|=n,jn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,qe=!0),e.memoizedState=n)}function qp(e,t){var n=se;se=n!==0&&4>n?n:4,e(!0);var r=fi.transition;fi.transition={};try{e(!1),t()}finally{se=n,fi.transition=r}}function pd(){return Et().memoizedState}function em(e,t,n){var r=yn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},md(e))hd(t,n);else if(n=Xc(e,t,n,r),n!==null){var o=Ve();At(n,e,r,o),gd(n,t,r)}}function tm(e,t,n){var r=yn(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(md(e))hd(t,o);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var i=t.lastRenderedState,a=l(i,n);if(o.hasEagerState=!0,o.eagerState=a,Lt(a,i)){var s=t.interleaved;s===null?(o.next=o,Va(t)):(o.next=s.next,s.next=o),t.interleaved=o;return}}catch{}finally{}n=Xc(e,t,o,r),n!==null&&(o=Ve(),At(n,e,r,o),gd(n,t,r))}}function md(e){var t=e.alternate;return e===ye||t!==null&&t===ye}function hd(e,t){Qr=wl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function gd(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Pa(e,n)}}var xl={readContext:St,useCallback:Me,useContext:Me,useEffect:Me,useImperativeHandle:Me,useInsertionEffect:Me,useLayoutEffect:Me,useMemo:Me,useReducer:Me,useRef:Me,useState:Me,useDebugValue:Me,useDeferredValue:Me,useTransition:Me,useMutableSource:Me,useSyncExternalStore:Me,useId:Me,unstable_isNewReconciler:!1},nm={readContext:St,useCallback:function(e,t){return zt().memoizedState=[e,t===void 0?null:t],e},useContext:St,useEffect:ru,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Xo(4194308,4,sd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Xo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Xo(4,2,e,t)},useMemo:function(e,t){var n=zt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=zt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=em.bind(null,ye,e),[r.memoizedState,e]},useRef:function(e){var t=zt();return e={current:e},t.memoizedState=e},useState:nu,useDebugValue:es,useDeferredValue:function(e){return zt().memoizedState=e},useTransition:function(){var e=nu(!1),t=e[0];return e=qp.bind(null,e[1]),zt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ye,o=zt();if(ge){if(n===void 0)throw Error(P(407));n=n()}else{if(n=t(),be===null)throw Error(P(349));$n&30||ed(r,t,n)}o.memoizedState=n;var l={value:n,getSnapshot:t};return o.queue=l,ru(nd.bind(null,r,l,e),[e]),r.flags|=2048,po(9,td.bind(null,r,l,n,t),void 0,null),n},useId:function(){var e=zt(),t=be.identifierPrefix;if(ge){var n=Yt,r=Qt;n=(r&~(1<<32-Pt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=co++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Zp++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},rm={readContext:St,useCallback:cd,useContext:St,useEffect:qa,useImperativeHandle:ud,useInsertionEffect:id,useLayoutEffect:ad,useMemo:dd,useReducer:pi,useRef:ld,useState:function(){return pi(fo)},useDebugValue:es,useDeferredValue:function(e){var t=Et();return fd(t,Ie.memoizedState,e)},useTransition:function(){var e=pi(fo)[0],t=Et().memoizedState;return[e,t]},useMutableSource:Zc,useSyncExternalStore:qc,useId:pd,unstable_isNewReconciler:!1},om={readContext:St,useCallback:cd,useContext:St,useEffect:qa,useImperativeHandle:ud,useInsertionEffect:id,useLayoutEffect:ad,useMemo:dd,useReducer:mi,useRef:ld,useState:function(){return mi(fo)},useDebugValue:es,useDeferredValue:function(e){var t=Et();return Ie===null?t.memoizedState=e:fd(t,Ie.memoizedState,e)},useTransition:function(){var e=mi(fo)[0],t=Et().memoizedState;return[e,t]},useMutableSource:Zc,useSyncExternalStore:qc,useId:pd,unstable_isNewReconciler:!1};function It(e,t){if(e&&e.defaultProps){t=we({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Zi(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:we({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Fl={isMounted:function(e){return(e=e._reactInternals)?Un(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ve(),o=yn(e),l=Xt(r,o);l.payload=t,n!=null&&(l.callback=n),t=gn(e,l,o),t!==null&&(At(t,e,o,r),Qo(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ve(),o=yn(e),l=Xt(r,o);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=gn(e,l,o),t!==null&&(At(t,e,o,r),Qo(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ve(),r=yn(e),o=Xt(n,r);o.tag=2,t!=null&&(o.callback=t),t=gn(e,o,r),t!==null&&(At(t,e,r,n),Qo(t,e,r))}};function ou(e,t,n,r,o,l,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,l,i):t.prototype&&t.prototype.isPureReactComponent?!oo(n,r)||!oo(o,l):!0}function vd(e,t,n){var r=!1,o=Sn,l=t.contextType;return typeof l=="object"&&l!==null?l=St(l):(o=tt(t)?zn:Be.current,r=t.contextTypes,l=(r=r!=null)?mr(e,o):Sn),t=new t(n,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Fl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=l),t}function lu(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Fl.enqueueReplaceState(t,t.state,null)}function qi(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Ga(e);var l=t.contextType;typeof l=="object"&&l!==null?o.context=St(l):(l=tt(t)?zn:Be.current,o.context=mr(e,l)),o.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(Zi(e,t,l,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Fl.enqueueReplaceState(o,o.state,null),vl(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function yr(e,t){try{var n="",r=t;do n+=Af(r),r=r.return;while(r);var o=n}catch(l){o=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:o,digest:null}}function hi(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ea(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var lm=typeof WeakMap=="function"?WeakMap:Map;function yd(e,t,n){n=Xt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){El||(El=!0,ca=r),ea(e,t)},n}function wd(e,t,n){n=Xt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){ea(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){ea(e,t),typeof r!="function"&&(vn===null?vn=new Set([this]):vn.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function iu(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new lm;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=wm.bind(null,e,t,n),t.then(e,e))}function au(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function su(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Xt(-1,1),t.tag=2,gn(n,t,1))),n.lanes|=1),e)}var im=en.ReactCurrentOwner,qe=!1;function We(e,t,n,r){t.child=e===null?Yc(t,null,n,r):gr(t,e.child,n,r)}function uu(e,t,n,r,o){n=n.render;var l=t.ref;return dr(t,o),r=Ja(e,t,n,r,l,o),n=Za(),e!==null&&!qe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,qt(e,t,o)):(ge&&n&&$a(t),t.flags|=1,We(e,t,r,o),t.child)}function cu(e,t,n,r,o){if(e===null){var l=n.type;return typeof l=="function"&&!ss(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=l,xd(e,t,l,r,o)):(e=qo(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&o)){var i=l.memoizedProps;if(n=n.compare,n=n!==null?n:oo,n(i,r)&&e.ref===t.ref)return qt(e,t,o)}return t.flags|=1,e=wn(l,r),e.ref=t.ref,e.return=t,t.child=e}function xd(e,t,n,r,o){if(e!==null){var l=e.memoizedProps;if(oo(l,r)&&e.ref===t.ref)if(qe=!1,t.pendingProps=r=l,(e.lanes&o)!==0)e.flags&131072&&(qe=!0);else return t.lanes=e.lanes,qt(e,t,o)}return ta(e,t,n,r,o)}function Sd(e,t,n){var r=t.pendingProps,o=r.children,l=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},fe(ir,lt),lt|=n;else{if(!(n&1073741824))return e=l!==null?l.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,fe(ir,lt),lt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=l!==null?l.baseLanes:n,fe(ir,lt),lt|=r}else l!==null?(r=l.baseLanes|n,t.memoizedState=null):r=n,fe(ir,lt),lt|=r;return We(e,t,o,n),t.child}function Ed(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ta(e,t,n,r,o){var l=tt(n)?zn:Be.current;return l=mr(t,l),dr(t,o),n=Ja(e,t,n,r,l,o),r=Za(),e!==null&&!qe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,qt(e,t,o)):(ge&&r&&$a(t),t.flags|=1,We(e,t,n,o),t.child)}function du(e,t,n,r,o){if(tt(n)){var l=!0;fl(t)}else l=!1;if(dr(t,o),t.stateNode===null)Ko(e,t),vd(t,n,r),qi(t,n,r,o),r=!0;else if(e===null){var i=t.stateNode,a=t.memoizedProps;i.props=a;var s=i.context,p=n.contextType;typeof p=="object"&&p!==null?p=St(p):(p=tt(n)?zn:Be.current,p=mr(t,p));var f=n.getDerivedStateFromProps,h=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function";h||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==r||s!==p)&&lu(t,i,r,p),on=!1;var v=t.memoizedState;i.state=v,vl(t,r,i,o),s=t.memoizedState,a!==r||v!==s||et.current||on?(typeof f=="function"&&(Zi(t,n,f,r),s=t.memoizedState),(a=on||ou(t,n,a,r,v,s,p))?(h||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),i.props=r,i.state=s,i.context=p,r=a):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Kc(e,t),a=t.memoizedProps,p=t.type===t.elementType?a:It(t.type,a),i.props=p,h=t.pendingProps,v=i.context,s=n.contextType,typeof s=="object"&&s!==null?s=St(s):(s=tt(n)?zn:Be.current,s=mr(t,s));var w=n.getDerivedStateFromProps;(f=typeof w=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==h||v!==s)&&lu(t,i,r,s),on=!1,v=t.memoizedState,i.state=v,vl(t,r,i,o);var g=t.memoizedState;a!==h||v!==g||et.current||on?(typeof w=="function"&&(Zi(t,n,w,r),g=t.memoizedState),(p=on||ou(t,n,p,r,v,g,s)||!1)?(f||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,g,s),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,g,s)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),i.props=r,i.state=g,i.context=s,r=p):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),r=!1)}return na(e,t,n,r,l,o)}function na(e,t,n,r,o,l){Ed(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return o&&Ks(t,n,!1),qt(e,t,l);r=t.stateNode,im.current=t;var a=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=gr(t,e.child,null,l),t.child=gr(t,null,a,l)):We(e,t,a,l),t.memoizedState=r.state,o&&Ks(t,n,!0),t.child}function Cd(e){var t=e.stateNode;t.pendingContext?Xs(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Xs(e,t.context,!1),Qa(e,t.containerInfo)}function fu(e,t,n,r,o){return hr(),Ha(o),t.flags|=256,We(e,t,n,r),t.child}var ra={dehydrated:null,treeContext:null,retryLane:0};function oa(e){return{baseLanes:e,cachePool:null,transitions:null}}function kd(e,t,n){var r=t.pendingProps,o=ve.current,l=!1,i=(t.flags&128)!==0,a;if((a=i)||(a=e!==null&&e.memoizedState===null?!1:(o&2)!==0),a?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),fe(ve,o&1),e===null)return Ki(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,l?(r=t.mode,l=t.child,i={mode:"hidden",children:i},!(r&1)&&l!==null?(l.childLanes=0,l.pendingProps=i):l=$l(i,r,0,null),e=Rn(e,r,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=oa(n),t.memoizedState=ra,e):ts(t,i));if(o=e.memoizedState,o!==null&&(a=o.dehydrated,a!==null))return am(e,t,i,r,a,o,n);if(l){l=r.fallback,i=t.mode,o=e.child,a=o.sibling;var s={mode:"hidden",children:r.children};return!(i&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=s,t.deletions=null):(r=wn(o,s),r.subtreeFlags=o.subtreeFlags&14680064),a!==null?l=wn(a,l):(l=Rn(l,i,n,null),l.flags|=2),l.return=t,r.return=t,r.sibling=l,t.child=r,r=l,l=t.child,i=e.child.memoizedState,i=i===null?oa(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},l.memoizedState=i,l.childLanes=e.childLanes&~n,t.memoizedState=ra,r}return l=e.child,e=l.sibling,r=wn(l,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function ts(e,t){return t=$l({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Fo(e,t,n,r){return r!==null&&Ha(r),gr(t,e.child,null,n),e=ts(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function am(e,t,n,r,o,l,i){if(n)return t.flags&256?(t.flags&=-257,r=hi(Error(P(422))),Fo(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=r.fallback,o=t.mode,r=$l({mode:"visible",children:r.children},o,0,null),l=Rn(l,o,i,null),l.flags|=2,r.return=t,l.return=t,r.sibling=l,t.child=r,t.mode&1&&gr(t,e.child,null,i),t.child.memoizedState=oa(i),t.memoizedState=ra,l);if(!(t.mode&1))return Fo(e,t,i,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var a=r.dgst;return r=a,l=Error(P(419)),r=hi(l,r,void 0),Fo(e,t,i,r)}if(a=(i&e.childLanes)!==0,qe||a){if(r=be,r!==null){switch(i&-i){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|i)?0:o,o!==0&&o!==l.retryLane&&(l.retryLane=o,Zt(e,o),At(r,e,o,-1))}return as(),r=hi(Error(P(421))),Fo(e,t,i,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=xm.bind(null,e),o._reactRetry=t,null):(e=l.treeContext,st=hn(o.nextSibling),ct=t,ge=!0,Dt=null,e!==null&&(vt[yt++]=Qt,vt[yt++]=Yt,vt[yt++]=Mn,Qt=e.id,Yt=e.overflow,Mn=t),t=ts(t,r.children),t.flags|=4096,t)}function pu(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ji(e.return,t,n)}function gi(e,t,n,r,o){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=n,l.tailMode=o)}function Nd(e,t,n){var r=t.pendingProps,o=r.revealOrder,l=r.tail;if(We(e,t,r.children,n),r=ve.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&pu(e,n,t);else if(e.tag===19)pu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fe(ve,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&yl(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),gi(t,!1,o,n,l);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&yl(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}gi(t,!0,n,null,l);break;case"together":gi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ko(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),jn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(P(153));if(t.child!==null){for(e=t.child,n=wn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=wn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function sm(e,t,n){switch(t.tag){case 3:Cd(t),hr();break;case 5:Jc(t);break;case 1:tt(t.type)&&fl(t);break;case 4:Qa(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;fe(hl,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(fe(ve,ve.current&1),t.flags|=128,null):n&t.child.childLanes?kd(e,t,n):(fe(ve,ve.current&1),e=qt(e,t,n),e!==null?e.sibling:null);fe(ve,ve.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Nd(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),fe(ve,ve.current),r)break;return null;case 22:case 23:return t.lanes=0,Sd(e,t,n)}return qt(e,t,n)}var Td,la,Id,_d;Td=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};la=function(){};Id=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Ln(jt.current);var l=null;switch(n){case"input":o=Ii(e,o),r=Ii(e,r),l=[];break;case"select":o=we({},o,{value:void 0}),r=we({},r,{value:void 0}),l=[];break;case"textarea":o=bi(e,o),r=bi(e,r),l=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=cl)}Ai(n,r);var i;n=null;for(p in o)if(!r.hasOwnProperty(p)&&o.hasOwnProperty(p)&&o[p]!=null)if(p==="style"){var a=o[p];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else p!=="dangerouslySetInnerHTML"&&p!=="children"&&p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(Jr.hasOwnProperty(p)?l||(l=[]):(l=l||[]).push(p,null));for(p in r){var s=r[p];if(a=o!=null?o[p]:void 0,r.hasOwnProperty(p)&&s!==a&&(s!=null||a!=null))if(p==="style")if(a){for(i in a)!a.hasOwnProperty(i)||s&&s.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in s)s.hasOwnProperty(i)&&a[i]!==s[i]&&(n||(n={}),n[i]=s[i])}else n||(l||(l=[]),l.push(p,n)),n=s;else p==="dangerouslySetInnerHTML"?(s=s?s.__html:void 0,a=a?a.__html:void 0,s!=null&&a!==s&&(l=l||[]).push(p,s)):p==="children"?typeof s!="string"&&typeof s!="number"||(l=l||[]).push(p,""+s):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&(Jr.hasOwnProperty(p)?(s!=null&&p==="onScroll"&&me("scroll",e),l||a===s||(l=[])):(l=l||[]).push(p,s))}n&&(l=l||[]).push("style",n);var p=l;(t.updateQueue=p)&&(t.flags|=4)}};_d=function(e,t,n,r){n!==r&&(t.flags|=4)};function Rr(e,t){if(!ge)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function $e(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function um(e,t,n){var r=t.pendingProps;switch(ja(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $e(t),null;case 1:return tt(t.type)&&dl(),$e(t),null;case 3:return r=t.stateNode,vr(),he(et),he(Be),Xa(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Oo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Dt!==null&&(pa(Dt),Dt=null))),la(e,t),$e(t),null;case 5:Ya(t);var o=Ln(uo.current);if(n=t.type,e!==null&&t.stateNode!=null)Id(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(P(166));return $e(t),null}if(e=Ln(jt.current),Oo(t)){r=t.stateNode,n=t.type;var l=t.memoizedProps;switch(r[Mt]=t,r[ao]=l,e=(t.mode&1)!==0,n){case"dialog":me("cancel",r),me("close",r);break;case"iframe":case"object":case"embed":me("load",r);break;case"video":case"audio":for(o=0;o<Hr.length;o++)me(Hr[o],r);break;case"source":me("error",r);break;case"img":case"image":case"link":me("error",r),me("load",r);break;case"details":me("toggle",r);break;case"input":Es(r,l),me("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},me("invalid",r);break;case"textarea":ks(r,l),me("invalid",r)}Ai(n,l),o=null;for(var i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="children"?typeof a=="string"?r.textContent!==a&&(l.suppressHydrationWarning!==!0&&Lo(r.textContent,a,e),o=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(l.suppressHydrationWarning!==!0&&Lo(r.textContent,a,e),o=["children",""+a]):Jr.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&me("scroll",r)}switch(n){case"input":No(r),Cs(r,l,!0);break;case"textarea":No(r),Ns(r);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(r.onclick=cl)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=nc(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[Mt]=t,e[ao]=r,Td(e,t,!1,!1),t.stateNode=e;e:{switch(i=Li(n,r),n){case"dialog":me("cancel",e),me("close",e),o=r;break;case"iframe":case"object":case"embed":me("load",e),o=r;break;case"video":case"audio":for(o=0;o<Hr.length;o++)me(Hr[o],e);o=r;break;case"source":me("error",e),o=r;break;case"img":case"image":case"link":me("error",e),me("load",e),o=r;break;case"details":me("toggle",e),o=r;break;case"input":Es(e,r),o=Ii(e,r),me("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=we({},r,{value:void 0}),me("invalid",e);break;case"textarea":ks(e,r),o=bi(e,r),me("invalid",e);break;default:o=r}Ai(n,o),a=o;for(l in a)if(a.hasOwnProperty(l)){var s=a[l];l==="style"?lc(e,s):l==="dangerouslySetInnerHTML"?(s=s?s.__html:void 0,s!=null&&rc(e,s)):l==="children"?typeof s=="string"?(n!=="textarea"||s!=="")&&Zr(e,s):typeof s=="number"&&Zr(e,""+s):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Jr.hasOwnProperty(l)?s!=null&&l==="onScroll"&&me("scroll",e):s!=null&&Na(e,l,s,i))}switch(n){case"input":No(e),Cs(e,r,!1);break;case"textarea":No(e),Ns(e);break;case"option":r.value!=null&&e.setAttribute("value",""+xn(r.value));break;case"select":e.multiple=!!r.multiple,l=r.value,l!=null?ar(e,!!r.multiple,l,!1):r.defaultValue!=null&&ar(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=cl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return $e(t),null;case 6:if(e&&t.stateNode!=null)_d(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(P(166));if(n=Ln(uo.current),Ln(jt.current),Oo(t)){if(r=t.stateNode,n=t.memoizedProps,r[Mt]=t,(l=r.nodeValue!==n)&&(e=ct,e!==null))switch(e.tag){case 3:Lo(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Lo(r.nodeValue,n,(e.mode&1)!==0)}l&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Mt]=t,t.stateNode=r}return $e(t),null;case 13:if(he(ve),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ge&&st!==null&&t.mode&1&&!(t.flags&128))Gc(),hr(),t.flags|=98560,l=!1;else if(l=Oo(t),r!==null&&r.dehydrated!==null){if(e===null){if(!l)throw Error(P(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(P(317));l[Mt]=t}else hr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;$e(t),l=!1}else Dt!==null&&(pa(Dt),Dt=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ve.current&1?_e===0&&(_e=3):as())),t.updateQueue!==null&&(t.flags|=4),$e(t),null);case 4:return vr(),la(e,t),e===null&&lo(t.stateNode.containerInfo),$e(t),null;case 10:return Wa(t.type._context),$e(t),null;case 17:return tt(t.type)&&dl(),$e(t),null;case 19:if(he(ve),l=t.memoizedState,l===null)return $e(t),null;if(r=(t.flags&128)!==0,i=l.rendering,i===null)if(r)Rr(l,!1);else{if(_e!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=yl(e),i!==null){for(t.flags|=128,Rr(l,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)l=n,e=r,l.flags&=14680066,i=l.alternate,i===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,l.type=i.type,e=i.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fe(ve,ve.current&1|2),t.child}e=e.sibling}l.tail!==null&&Ee()>wr&&(t.flags|=128,r=!0,Rr(l,!1),t.lanes=4194304)}else{if(!r)if(e=yl(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Rr(l,!0),l.tail===null&&l.tailMode==="hidden"&&!i.alternate&&!ge)return $e(t),null}else 2*Ee()-l.renderingStartTime>wr&&n!==1073741824&&(t.flags|=128,r=!0,Rr(l,!1),t.lanes=4194304);l.isBackwards?(i.sibling=t.child,t.child=i):(n=l.last,n!==null?n.sibling=i:t.child=i,l.last=i)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ee(),t.sibling=null,n=ve.current,fe(ve,r?n&1|2:n&1),t):($e(t),null);case 22:case 23:return is(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?lt&1073741824&&($e(t),t.subtreeFlags&6&&(t.flags|=8192)):$e(t),null;case 24:return null;case 25:return null}throw Error(P(156,t.tag))}function cm(e,t){switch(ja(t),t.tag){case 1:return tt(t.type)&&dl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return vr(),he(et),he(Be),Xa(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ya(t),null;case 13:if(he(ve),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(P(340));hr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return he(ve),null;case 4:return vr(),null;case 10:return Wa(t.type._context),null;case 22:case 23:return is(),null;case 24:return null;default:return null}}var zo=!1,He=!1,dm=typeof WeakSet=="function"?WeakSet:Set,$=null;function lr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Se(e,t,r)}else n.current=null}function ia(e,t,n){try{n()}catch(r){Se(e,t,r)}}var mu=!1;function fm(e,t){if(Ui=al,e=Lc(),Ma(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var i=0,a=-1,s=-1,p=0,f=0,h=e,v=null;t:for(;;){for(var w;h!==n||o!==0&&h.nodeType!==3||(a=i+o),h!==l||r!==0&&h.nodeType!==3||(s=i+r),h.nodeType===3&&(i+=h.nodeValue.length),(w=h.firstChild)!==null;)v=h,h=w;for(;;){if(h===e)break t;if(v===n&&++p===o&&(a=i),v===l&&++f===r&&(s=i),(w=h.nextSibling)!==null)break;h=v,v=h.parentNode}h=w}n=a===-1||s===-1?null:{start:a,end:s}}else n=null}n=n||{start:0,end:0}}else n=null;for(Wi={focusedElem:e,selectionRange:n},al=!1,$=t;$!==null;)if(t=$,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$=e;else for(;$!==null;){t=$;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var S=g.memoizedProps,D=g.memoizedState,m=t.stateNode,u=m.getSnapshotBeforeUpdate(t.elementType===t.type?S:It(t.type,S),D);m.__reactInternalSnapshotBeforeUpdate=u}break;case 3:var d=t.stateNode.containerInfo;d.nodeType===1?d.textContent="":d.nodeType===9&&d.documentElement&&d.removeChild(d.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(y){Se(t,t.return,y)}if(e=t.sibling,e!==null){e.return=t.return,$=e;break}$=t.return}return g=mu,mu=!1,g}function Yr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var l=o.destroy;o.destroy=void 0,l!==void 0&&ia(t,n,l)}o=o.next}while(o!==r)}}function zl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function aa(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Dd(e){var t=e.alternate;t!==null&&(e.alternate=null,Dd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Mt],delete t[ao],delete t[Qi],delete t[Yp],delete t[Xp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function bd(e){return e.tag===5||e.tag===3||e.tag===4}function hu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||bd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function sa(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=cl));else if(r!==4&&(e=e.child,e!==null))for(sa(e,t,n),e=e.sibling;e!==null;)sa(e,t,n),e=e.sibling}function ua(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(ua(e,t,n),e=e.sibling;e!==null;)ua(e,t,n),e=e.sibling}var Le=null,_t=!1;function nn(e,t,n){for(n=n.child;n!==null;)Pd(e,t,n),n=n.sibling}function Pd(e,t,n){if($t&&typeof $t.onCommitFiberUnmount=="function")try{$t.onCommitFiberUnmount(Dl,n)}catch{}switch(n.tag){case 5:He||lr(n,t);case 6:var r=Le,o=_t;Le=null,nn(e,t,n),Le=r,_t=o,Le!==null&&(_t?(e=Le,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Le.removeChild(n.stateNode));break;case 18:Le!==null&&(_t?(e=Le,n=n.stateNode,e.nodeType===8?ui(e.parentNode,n):e.nodeType===1&&ui(e,n),no(e)):ui(Le,n.stateNode));break;case 4:r=Le,o=_t,Le=n.stateNode.containerInfo,_t=!0,nn(e,t,n),Le=r,_t=o;break;case 0:case 11:case 14:case 15:if(!He&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var l=o,i=l.destroy;l=l.tag,i!==void 0&&(l&2||l&4)&&ia(n,t,i),o=o.next}while(o!==r)}nn(e,t,n);break;case 1:if(!He&&(lr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Se(n,t,a)}nn(e,t,n);break;case 21:nn(e,t,n);break;case 22:n.mode&1?(He=(r=He)||n.memoizedState!==null,nn(e,t,n),He=r):nn(e,t,n);break;default:nn(e,t,n)}}function gu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new dm),t.forEach(function(r){var o=Sm.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function Tt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var l=e,i=t,a=i;e:for(;a!==null;){switch(a.tag){case 5:Le=a.stateNode,_t=!1;break e;case 3:Le=a.stateNode.containerInfo,_t=!0;break e;case 4:Le=a.stateNode.containerInfo,_t=!0;break e}a=a.return}if(Le===null)throw Error(P(160));Pd(l,i,o),Le=null,_t=!1;var s=o.alternate;s!==null&&(s.return=null),o.return=null}catch(p){Se(o,t,p)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ad(t,e),t=t.sibling}function Ad(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Tt(t,e),Ft(e),r&4){try{Yr(3,e,e.return),zl(3,e)}catch(S){Se(e,e.return,S)}try{Yr(5,e,e.return)}catch(S){Se(e,e.return,S)}}break;case 1:Tt(t,e),Ft(e),r&512&&n!==null&&lr(n,n.return);break;case 5:if(Tt(t,e),Ft(e),r&512&&n!==null&&lr(n,n.return),e.flags&32){var o=e.stateNode;try{Zr(o,"")}catch(S){Se(e,e.return,S)}}if(r&4&&(o=e.stateNode,o!=null)){var l=e.memoizedProps,i=n!==null?n.memoizedProps:l,a=e.type,s=e.updateQueue;if(e.updateQueue=null,s!==null)try{a==="input"&&l.type==="radio"&&l.name!=null&&ec(o,l),Li(a,i);var p=Li(a,l);for(i=0;i<s.length;i+=2){var f=s[i],h=s[i+1];f==="style"?lc(o,h):f==="dangerouslySetInnerHTML"?rc(o,h):f==="children"?Zr(o,h):Na(o,f,h,p)}switch(a){case"input":_i(o,l);break;case"textarea":tc(o,l);break;case"select":var v=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!l.multiple;var w=l.value;w!=null?ar(o,!!l.multiple,w,!1):v!==!!l.multiple&&(l.defaultValue!=null?ar(o,!!l.multiple,l.defaultValue,!0):ar(o,!!l.multiple,l.multiple?[]:"",!1))}o[ao]=l}catch(S){Se(e,e.return,S)}}break;case 6:if(Tt(t,e),Ft(e),r&4){if(e.stateNode===null)throw Error(P(162));o=e.stateNode,l=e.memoizedProps;try{o.nodeValue=l}catch(S){Se(e,e.return,S)}}break;case 3:if(Tt(t,e),Ft(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{no(t.containerInfo)}catch(S){Se(e,e.return,S)}break;case 4:Tt(t,e),Ft(e);break;case 13:Tt(t,e),Ft(e),o=e.child,o.flags&8192&&(l=o.memoizedState!==null,o.stateNode.isHidden=l,!l||o.alternate!==null&&o.alternate.memoizedState!==null||(os=Ee())),r&4&&gu(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(He=(p=He)||f,Tt(t,e),He=p):Tt(t,e),Ft(e),r&8192){if(p=e.memoizedState!==null,(e.stateNode.isHidden=p)&&!f&&e.mode&1)for($=e,f=e.child;f!==null;){for(h=$=f;$!==null;){switch(v=$,w=v.child,v.tag){case 0:case 11:case 14:case 15:Yr(4,v,v.return);break;case 1:lr(v,v.return);var g=v.stateNode;if(typeof g.componentWillUnmount=="function"){r=v,n=v.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(S){Se(r,n,S)}}break;case 5:lr(v,v.return);break;case 22:if(v.memoizedState!==null){yu(h);continue}}w!==null?(w.return=v,$=w):yu(h)}f=f.sibling}e:for(f=null,h=e;;){if(h.tag===5){if(f===null){f=h;try{o=h.stateNode,p?(l=o.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(a=h.stateNode,s=h.memoizedProps.style,i=s!=null&&s.hasOwnProperty("display")?s.display:null,a.style.display=oc("display",i))}catch(S){Se(e,e.return,S)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=p?"":h.memoizedProps}catch(S){Se(e,e.return,S)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Tt(t,e),Ft(e),r&4&&gu(e);break;case 21:break;default:Tt(t,e),Ft(e)}}function Ft(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(bd(n)){var r=n;break e}n=n.return}throw Error(P(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Zr(o,""),r.flags&=-33);var l=hu(e);ua(e,l,o);break;case 3:case 4:var i=r.stateNode.containerInfo,a=hu(e);sa(e,a,i);break;default:throw Error(P(161))}}catch(s){Se(e,e.return,s)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function pm(e,t,n){$=e,Ld(e)}function Ld(e,t,n){for(var r=(e.mode&1)!==0;$!==null;){var o=$,l=o.child;if(o.tag===22&&r){var i=o.memoizedState!==null||zo;if(!i){var a=o.alternate,s=a!==null&&a.memoizedState!==null||He;a=zo;var p=He;if(zo=i,(He=s)&&!p)for($=o;$!==null;)i=$,s=i.child,i.tag===22&&i.memoizedState!==null?wu(o):s!==null?(s.return=i,$=s):wu(o);for(;l!==null;)$=l,Ld(l),l=l.sibling;$=o,zo=a,He=p}vu(e)}else o.subtreeFlags&8772&&l!==null?(l.return=o,$=l):vu(e)}}function vu(e){for(;$!==null;){var t=$;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:He||zl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!He)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:It(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&tu(t,l,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}tu(t,i,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var s=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":s.autoFocus&&n.focus();break;case"img":s.src&&(n.src=s.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var p=t.alternate;if(p!==null){var f=p.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&no(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}He||t.flags&512&&aa(t)}catch(v){Se(t,t.return,v)}}if(t===e){$=null;break}if(n=t.sibling,n!==null){n.return=t.return,$=n;break}$=t.return}}function yu(e){for(;$!==null;){var t=$;if(t===e){$=null;break}var n=t.sibling;if(n!==null){n.return=t.return,$=n;break}$=t.return}}function wu(e){for(;$!==null;){var t=$;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{zl(4,t)}catch(s){Se(t,n,s)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(s){Se(t,o,s)}}var l=t.return;try{aa(t)}catch(s){Se(t,l,s)}break;case 5:var i=t.return;try{aa(t)}catch(s){Se(t,i,s)}}}catch(s){Se(t,t.return,s)}if(t===e){$=null;break}var a=t.sibling;if(a!==null){a.return=t.return,$=a;break}$=t.return}}var mm=Math.ceil,Sl=en.ReactCurrentDispatcher,ns=en.ReactCurrentOwner,xt=en.ReactCurrentBatchConfig,ie=0,be=null,Te=null,Oe=0,lt=0,ir=Cn(0),_e=0,mo=null,jn=0,Ml=0,rs=0,Xr=null,Ze=null,os=0,wr=1/0,Vt=null,El=!1,ca=null,vn=null,Mo=!1,un=null,Cl=0,Kr=0,da=null,Jo=-1,Zo=0;function Ve(){return ie&6?Ee():Jo!==-1?Jo:Jo=Ee()}function yn(e){return e.mode&1?ie&2&&Oe!==0?Oe&-Oe:Jp.transition!==null?(Zo===0&&(Zo=vc()),Zo):(e=se,e!==0||(e=window.event,e=e===void 0?16:kc(e.type)),e):1}function At(e,t,n,r){if(50<Kr)throw Kr=0,da=null,Error(P(185));go(e,n,r),(!(ie&2)||e!==be)&&(e===be&&(!(ie&2)&&(Ml|=n),_e===4&&an(e,Oe)),nt(e,r),n===1&&ie===0&&!(t.mode&1)&&(wr=Ee()+500,Ol&&kn()))}function nt(e,t){var n=e.callbackNode;Jf(e,t);var r=il(e,e===be?Oe:0);if(r===0)n!==null&&_s(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&_s(n),t===1)e.tag===0?Kp(xu.bind(null,e)):Uc(xu.bind(null,e)),Gp(function(){!(ie&6)&&kn()}),n=null;else{switch(yc(r)){case 1:n=ba;break;case 4:n=hc;break;case 16:n=ll;break;case 536870912:n=gc;break;default:n=ll}n=Hd(n,Od.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Od(e,t){if(Jo=-1,Zo=0,ie&6)throw Error(P(327));var n=e.callbackNode;if(fr()&&e.callbackNode!==n)return null;var r=il(e,e===be?Oe:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=kl(e,r);else{t=r;var o=ie;ie|=2;var l=Fd();(be!==e||Oe!==t)&&(Vt=null,wr=Ee()+500,On(e,t));do try{vm();break}catch(a){Rd(e,a)}while(1);Ua(),Sl.current=l,ie=o,Te!==null?t=0:(be=null,Oe=0,t=_e)}if(t!==0){if(t===2&&(o=Mi(e),o!==0&&(r=o,t=fa(e,o))),t===1)throw n=mo,On(e,0),an(e,r),nt(e,Ee()),n;if(t===6)an(e,r);else{if(o=e.current.alternate,!(r&30)&&!hm(o)&&(t=kl(e,r),t===2&&(l=Mi(e),l!==0&&(r=l,t=fa(e,l))),t===1))throw n=mo,On(e,0),an(e,r),nt(e,Ee()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(P(345));case 2:bn(e,Ze,Vt);break;case 3:if(an(e,r),(r&130023424)===r&&(t=os+500-Ee(),10<t)){if(il(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){Ve(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Gi(bn.bind(null,e,Ze,Vt),t);break}bn(e,Ze,Vt);break;case 4:if(an(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var i=31-Pt(r);l=1<<i,i=t[i],i>o&&(o=i),r&=~l}if(r=o,r=Ee()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*mm(r/1960))-r,10<r){e.timeoutHandle=Gi(bn.bind(null,e,Ze,Vt),r);break}bn(e,Ze,Vt);break;case 5:bn(e,Ze,Vt);break;default:throw Error(P(329))}}}return nt(e,Ee()),e.callbackNode===n?Od.bind(null,e):null}function fa(e,t){var n=Xr;return e.current.memoizedState.isDehydrated&&(On(e,t).flags|=256),e=kl(e,t),e!==2&&(t=Ze,Ze=n,t!==null&&pa(t)),e}function pa(e){Ze===null?Ze=e:Ze.push.apply(Ze,e)}function hm(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],l=o.getSnapshot;o=o.value;try{if(!Lt(l(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function an(e,t){for(t&=~rs,t&=~Ml,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Pt(t),r=1<<n;e[n]=-1,t&=~r}}function xu(e){if(ie&6)throw Error(P(327));fr();var t=il(e,0);if(!(t&1))return nt(e,Ee()),null;var n=kl(e,t);if(e.tag!==0&&n===2){var r=Mi(e);r!==0&&(t=r,n=fa(e,r))}if(n===1)throw n=mo,On(e,0),an(e,t),nt(e,Ee()),n;if(n===6)throw Error(P(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bn(e,Ze,Vt),nt(e,Ee()),null}function ls(e,t){var n=ie;ie|=1;try{return e(t)}finally{ie=n,ie===0&&(wr=Ee()+500,Ol&&kn())}}function Hn(e){un!==null&&un.tag===0&&!(ie&6)&&fr();var t=ie;ie|=1;var n=xt.transition,r=se;try{if(xt.transition=null,se=1,e)return e()}finally{se=r,xt.transition=n,ie=t,!(ie&6)&&kn()}}function is(){lt=ir.current,he(ir)}function On(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Vp(n)),Te!==null)for(n=Te.return;n!==null;){var r=n;switch(ja(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&dl();break;case 3:vr(),he(et),he(Be),Xa();break;case 5:Ya(r);break;case 4:vr();break;case 13:he(ve);break;case 19:he(ve);break;case 10:Wa(r.type._context);break;case 22:case 23:is()}n=n.return}if(be=e,Te=e=wn(e.current,null),Oe=lt=t,_e=0,mo=null,rs=Ml=jn=0,Ze=Xr=null,An!==null){for(t=0;t<An.length;t++)if(n=An[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,l=n.pending;if(l!==null){var i=l.next;l.next=o,r.next=i}n.pending=r}An=null}return e}function Rd(e,t){do{var n=Te;try{if(Ua(),Yo.current=xl,wl){for(var r=ye.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}wl=!1}if($n=0,De=Ie=ye=null,Qr=!1,co=0,ns.current=null,n===null||n.return===null){_e=1,mo=t,Te=null;break}e:{var l=e,i=n.return,a=n,s=t;if(t=Oe,a.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){var p=s,f=a,h=f.tag;if(!(f.mode&1)&&(h===0||h===11||h===15)){var v=f.alternate;v?(f.updateQueue=v.updateQueue,f.memoizedState=v.memoizedState,f.lanes=v.lanes):(f.updateQueue=null,f.memoizedState=null)}var w=au(i);if(w!==null){w.flags&=-257,su(w,i,a,l,t),w.mode&1&&iu(l,p,t),t=w,s=p;var g=t.updateQueue;if(g===null){var S=new Set;S.add(s),t.updateQueue=S}else g.add(s);break e}else{if(!(t&1)){iu(l,p,t),as();break e}s=Error(P(426))}}else if(ge&&a.mode&1){var D=au(i);if(D!==null){!(D.flags&65536)&&(D.flags|=256),su(D,i,a,l,t),Ha(yr(s,a));break e}}l=s=yr(s,a),_e!==4&&(_e=2),Xr===null?Xr=[l]:Xr.push(l),l=i;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var m=yd(l,s,t);eu(l,m);break e;case 1:a=s;var u=l.type,d=l.stateNode;if(!(l.flags&128)&&(typeof u.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(vn===null||!vn.has(d)))){l.flags|=65536,t&=-t,l.lanes|=t;var y=wd(l,a,t);eu(l,y);break e}}l=l.return}while(l!==null)}Md(n)}catch(C){t=C,Te===n&&n!==null&&(Te=n=n.return);continue}break}while(1)}function Fd(){var e=Sl.current;return Sl.current=xl,e===null?xl:e}function as(){(_e===0||_e===3||_e===2)&&(_e=4),be===null||!(jn&268435455)&&!(Ml&268435455)||an(be,Oe)}function kl(e,t){var n=ie;ie|=2;var r=Fd();(be!==e||Oe!==t)&&(Vt=null,On(e,t));do try{gm();break}catch(o){Rd(e,o)}while(1);if(Ua(),ie=n,Sl.current=r,Te!==null)throw Error(P(261));return be=null,Oe=0,_e}function gm(){for(;Te!==null;)zd(Te)}function vm(){for(;Te!==null&&!Bf();)zd(Te)}function zd(e){var t=jd(e.alternate,e,lt);e.memoizedProps=e.pendingProps,t===null?Md(e):Te=t,ns.current=null}function Md(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=cm(n,t),n!==null){n.flags&=32767,Te=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{_e=6,Te=null;return}}else if(n=um(n,t,lt),n!==null){Te=n;return}if(t=t.sibling,t!==null){Te=t;return}Te=t=e}while(t!==null);_e===0&&(_e=5)}function bn(e,t,n){var r=se,o=xt.transition;try{xt.transition=null,se=1,ym(e,t,n,r)}finally{xt.transition=o,se=r}return null}function ym(e,t,n,r){do fr();while(un!==null);if(ie&6)throw Error(P(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(P(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(Zf(e,l),e===be&&(Te=be=null,Oe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Mo||(Mo=!0,Hd(ll,function(){return fr(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=xt.transition,xt.transition=null;var i=se;se=1;var a=ie;ie|=4,ns.current=null,fm(e,n),Ad(n,e),Mp(Wi),al=!!Ui,Wi=Ui=null,e.current=n,pm(n),Uf(),ie=a,se=i,xt.transition=l}else e.current=n;if(Mo&&(Mo=!1,un=e,Cl=o),l=e.pendingLanes,l===0&&(vn=null),Gf(n.stateNode),nt(e,Ee()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(El)throw El=!1,e=ca,ca=null,e;return Cl&1&&e.tag!==0&&fr(),l=e.pendingLanes,l&1?e===da?Kr++:(Kr=0,da=e):Kr=0,kn(),null}function fr(){if(un!==null){var e=yc(Cl),t=xt.transition,n=se;try{if(xt.transition=null,se=16>e?16:e,un===null)var r=!1;else{if(e=un,un=null,Cl=0,ie&6)throw Error(P(331));var o=ie;for(ie|=4,$=e.current;$!==null;){var l=$,i=l.child;if($.flags&16){var a=l.deletions;if(a!==null){for(var s=0;s<a.length;s++){var p=a[s];for($=p;$!==null;){var f=$;switch(f.tag){case 0:case 11:case 15:Yr(8,f,l)}var h=f.child;if(h!==null)h.return=f,$=h;else for(;$!==null;){f=$;var v=f.sibling,w=f.return;if(Dd(f),f===p){$=null;break}if(v!==null){v.return=w,$=v;break}$=w}}}var g=l.alternate;if(g!==null){var S=g.child;if(S!==null){g.child=null;do{var D=S.sibling;S.sibling=null,S=D}while(S!==null)}}$=l}}if(l.subtreeFlags&2064&&i!==null)i.return=l,$=i;else e:for(;$!==null;){if(l=$,l.flags&2048)switch(l.tag){case 0:case 11:case 15:Yr(9,l,l.return)}var m=l.sibling;if(m!==null){m.return=l.return,$=m;break e}$=l.return}}var u=e.current;for($=u;$!==null;){i=$;var d=i.child;if(i.subtreeFlags&2064&&d!==null)d.return=i,$=d;else e:for(i=u;$!==null;){if(a=$,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:zl(9,a)}}catch(C){Se(a,a.return,C)}if(a===i){$=null;break e}var y=a.sibling;if(y!==null){y.return=a.return,$=y;break e}$=a.return}}if(ie=o,kn(),$t&&typeof $t.onPostCommitFiberRoot=="function")try{$t.onPostCommitFiberRoot(Dl,e)}catch{}r=!0}return r}finally{se=n,xt.transition=t}}return!1}function Su(e,t,n){t=yr(n,t),t=yd(e,t,1),e=gn(e,t,1),t=Ve(),e!==null&&(go(e,1,t),nt(e,t))}function Se(e,t,n){if(e.tag===3)Su(e,e,n);else for(;t!==null;){if(t.tag===3){Su(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(vn===null||!vn.has(r))){e=yr(n,e),e=wd(t,e,1),t=gn(t,e,1),e=Ve(),t!==null&&(go(t,1,e),nt(t,e));break}}t=t.return}}function wm(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ve(),e.pingedLanes|=e.suspendedLanes&n,be===e&&(Oe&n)===n&&(_e===4||_e===3&&(Oe&130023424)===Oe&&500>Ee()-os?On(e,0):rs|=n),nt(e,t)}function $d(e,t){t===0&&(e.mode&1?(t=_o,_o<<=1,!(_o&130023424)&&(_o=4194304)):t=1);var n=Ve();e=Zt(e,t),e!==null&&(go(e,t,n),nt(e,n))}function xm(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),$d(e,n)}function Sm(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(P(314))}r!==null&&r.delete(t),$d(e,n)}var jd;jd=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||et.current)qe=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return qe=!1,sm(e,t,n);qe=!!(e.flags&131072)}else qe=!1,ge&&t.flags&1048576&&Wc(t,ml,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ko(e,t),e=t.pendingProps;var o=mr(t,Be.current);dr(t,n),o=Ja(null,t,r,e,o,n);var l=Za();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,tt(r)?(l=!0,fl(t)):l=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Ga(t),o.updater=Fl,t.stateNode=o,o._reactInternals=t,qi(t,r,e,n),t=na(null,t,r,!0,l,n)):(t.tag=0,ge&&l&&$a(t),We(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ko(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=Cm(r),e=It(r,e),o){case 0:t=ta(null,t,r,e,n);break e;case 1:t=du(null,t,r,e,n);break e;case 11:t=uu(null,t,r,e,n);break e;case 14:t=cu(null,t,r,It(r.type,e),n);break e}throw Error(P(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:It(r,o),ta(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:It(r,o),du(e,t,r,o,n);case 3:e:{if(Cd(t),e===null)throw Error(P(387));r=t.pendingProps,l=t.memoizedState,o=l.element,Kc(e,t),vl(t,r,null,n);var i=t.memoizedState;if(r=i.element,l.isDehydrated)if(l={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){o=yr(Error(P(423)),t),t=fu(e,t,r,n,o);break e}else if(r!==o){o=yr(Error(P(424)),t),t=fu(e,t,r,n,o);break e}else for(st=hn(t.stateNode.containerInfo.firstChild),ct=t,ge=!0,Dt=null,n=Yc(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(hr(),r===o){t=qt(e,t,n);break e}We(e,t,r,n)}t=t.child}return t;case 5:return Jc(t),e===null&&Ki(t),r=t.type,o=t.pendingProps,l=e!==null?e.memoizedProps:null,i=o.children,Vi(r,o)?i=null:l!==null&&Vi(r,l)&&(t.flags|=32),Ed(e,t),We(e,t,i,n),t.child;case 6:return e===null&&Ki(t),null;case 13:return kd(e,t,n);case 4:return Qa(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=gr(t,null,r,n):We(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:It(r,o),uu(e,t,r,o,n);case 7:return We(e,t,t.pendingProps,n),t.child;case 8:return We(e,t,t.pendingProps.children,n),t.child;case 12:return We(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,l=t.memoizedProps,i=o.value,fe(hl,r._currentValue),r._currentValue=i,l!==null)if(Lt(l.value,i)){if(l.children===o.children&&!et.current){t=qt(e,t,n);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var a=l.dependencies;if(a!==null){i=l.child;for(var s=a.firstContext;s!==null;){if(s.context===r){if(l.tag===1){s=Xt(-1,n&-n),s.tag=2;var p=l.updateQueue;if(p!==null){p=p.shared;var f=p.pending;f===null?s.next=s:(s.next=f.next,f.next=s),p.pending=s}}l.lanes|=n,s=l.alternate,s!==null&&(s.lanes|=n),Ji(l.return,n,t),a.lanes|=n;break}s=s.next}}else if(l.tag===10)i=l.type===t.type?null:l.child;else if(l.tag===18){if(i=l.return,i===null)throw Error(P(341));i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),Ji(i,n,t),i=l.sibling}else i=l.child;if(i!==null)i.return=l;else for(i=l;i!==null;){if(i===t){i=null;break}if(l=i.sibling,l!==null){l.return=i.return,i=l;break}i=i.return}l=i}We(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,dr(t,n),o=St(o),r=r(o),t.flags|=1,We(e,t,r,n),t.child;case 14:return r=t.type,o=It(r,t.pendingProps),o=It(r.type,o),cu(e,t,r,o,n);case 15:return xd(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:It(r,o),Ko(e,t),t.tag=1,tt(r)?(e=!0,fl(t)):e=!1,dr(t,n),vd(t,r,o),qi(t,r,o,n),na(null,t,r,!0,e,n);case 19:return Nd(e,t,n);case 22:return Sd(e,t,n)}throw Error(P(156,t.tag))};function Hd(e,t){return mc(e,t)}function Em(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wt(e,t,n,r){return new Em(e,t,n,r)}function ss(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Cm(e){if(typeof e=="function")return ss(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ia)return 11;if(e===_a)return 14}return 2}function wn(e,t){var n=e.alternate;return n===null?(n=wt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function qo(e,t,n,r,o,l){var i=2;if(r=e,typeof e=="function")ss(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Kn:return Rn(n.children,o,l,t);case Ta:i=8,o|=8;break;case Ci:return e=wt(12,n,t,o|2),e.elementType=Ci,e.lanes=l,e;case ki:return e=wt(13,n,t,o),e.elementType=ki,e.lanes=l,e;case Ni:return e=wt(19,n,t,o),e.elementType=Ni,e.lanes=l,e;case Ju:return $l(n,o,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Xu:i=10;break e;case Ku:i=9;break e;case Ia:i=11;break e;case _a:i=14;break e;case rn:i=16,r=null;break e}throw Error(P(130,e==null?e:typeof e,""))}return t=wt(i,n,t,o),t.elementType=e,t.type=r,t.lanes=l,t}function Rn(e,t,n,r){return e=wt(7,e,r,t),e.lanes=n,e}function $l(e,t,n,r){return e=wt(22,e,r,t),e.elementType=Ju,e.lanes=n,e.stateNode={isHidden:!1},e}function vi(e,t,n){return e=wt(6,e,null,t),e.lanes=n,e}function yi(e,t,n){return t=wt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function km(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zl(0),this.expirationTimes=Zl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zl(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function us(e,t,n,r,o,l,i,a,s){return e=new km(e,t,n,a,s),t===1?(t=1,l===!0&&(t|=8)):t=0,l=wt(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ga(l),e}function Nm(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Bd(e){if(!e)return Sn;e=e._reactInternals;e:{if(Un(e)!==e||e.tag!==1)throw Error(P(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(tt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(P(171))}if(e.tag===1){var n=e.type;if(tt(n))return Bc(e,n,t)}return t}function Ud(e,t,n,r,o,l,i,a,s){return e=us(n,r,!0,e,o,l,i,a,s),e.context=Bd(null),n=e.current,r=Ve(),o=yn(n),l=Xt(r,o),l.callback=t??null,gn(n,l,o),e.current.lanes=o,go(e,o,r),nt(e,r),e}function jl(e,t,n,r){var o=t.current,l=Ve(),i=yn(o);return n=Bd(n),t.context===null?t.context=n:t.pendingContext=n,t=Xt(l,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=gn(o,t,i),e!==null&&(At(e,o,i,l),Qo(e,o,i)),i}function Nl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Eu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function cs(e,t){Eu(e,t),(e=e.alternate)&&Eu(e,t)}function Tm(){return null}var Wd=typeof reportError=="function"?reportError:function(e){console.error(e)};function ds(e){this._internalRoot=e}Hl.prototype.render=ds.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(P(409));jl(e,t,null,null)};Hl.prototype.unmount=ds.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Hn(function(){jl(null,e,null,null)}),t[Jt]=null}};function Hl(e){this._internalRoot=e}Hl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Sc();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ln.length&&t!==0&&t<ln[n].priority;n++);ln.splice(n,0,e),n===0&&Cc(e)}};function fs(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Bl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Cu(){}function Im(e,t,n,r,o){if(o){if(typeof r=="function"){var l=r;r=function(){var p=Nl(i);l.call(p)}}var i=Ud(t,r,e,0,null,!1,!1,"",Cu);return e._reactRootContainer=i,e[Jt]=i.current,lo(e.nodeType===8?e.parentNode:e),Hn(),i}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var a=r;r=function(){var p=Nl(s);a.call(p)}}var s=us(e,0,!1,null,null,!1,!1,"",Cu);return e._reactRootContainer=s,e[Jt]=s.current,lo(e.nodeType===8?e.parentNode:e),Hn(function(){jl(t,s,n,r)}),s}function Ul(e,t,n,r,o){var l=n._reactRootContainer;if(l){var i=l;if(typeof o=="function"){var a=o;o=function(){var s=Nl(i);a.call(s)}}jl(t,i,e,o)}else i=Im(n,t,e,o,r);return Nl(i)}wc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=jr(t.pendingLanes);n!==0&&(Pa(t,n|1),nt(t,Ee()),!(ie&6)&&(wr=Ee()+500,kn()))}break;case 13:Hn(function(){var r=Zt(e,1);if(r!==null){var o=Ve();At(r,e,1,o)}}),cs(e,1)}};Aa=function(e){if(e.tag===13){var t=Zt(e,134217728);if(t!==null){var n=Ve();At(t,e,134217728,n)}cs(e,134217728)}};xc=function(e){if(e.tag===13){var t=yn(e),n=Zt(e,t);if(n!==null){var r=Ve();At(n,e,t,r)}cs(e,t)}};Sc=function(){return se};Ec=function(e,t){var n=se;try{return se=e,t()}finally{se=n}};Ri=function(e,t,n){switch(t){case"input":if(_i(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=Ll(r);if(!o)throw Error(P(90));qu(r),_i(r,o)}}}break;case"textarea":tc(e,n);break;case"select":t=n.value,t!=null&&ar(e,!!n.multiple,t,!1)}};sc=ls;uc=Hn;var _m={usingClientEntryPoint:!1,Events:[yo,er,Ll,ic,ac,ls]},Fr={findFiberByHostInstance:Pn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Dm={bundleType:Fr.bundleType,version:Fr.version,rendererPackageName:Fr.rendererPackageName,rendererConfig:Fr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:en.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=fc(e),e===null?null:e.stateNode},findFiberByHostInstance:Fr.findFiberByHostInstance||Tm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $o=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$o.isDisabled&&$o.supportsFiber)try{Dl=$o.inject(Dm),$t=$o}catch{}}ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_m;ft.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fs(t))throw Error(P(200));return Nm(e,t,null,n)};ft.createRoot=function(e,t){if(!fs(e))throw Error(P(299));var n=!1,r="",o=Wd;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=us(e,1,!1,null,null,n,!1,r,o),e[Jt]=t.current,lo(e.nodeType===8?e.parentNode:e),new ds(t)};ft.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(P(188)):(e=Object.keys(e).join(","),Error(P(268,e)));return e=fc(t),e=e===null?null:e.stateNode,e};ft.flushSync=function(e){return Hn(e)};ft.hydrate=function(e,t,n){if(!Bl(t))throw Error(P(200));return Ul(null,e,t,!0,n)};ft.hydrateRoot=function(e,t,n){if(!fs(e))throw Error(P(405));var r=n!=null&&n.hydratedSources||null,o=!1,l="",i=Wd;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=Ud(t,null,e,1,n??null,o,!1,l,i),e[Jt]=t.current,lo(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Hl(t)};ft.render=function(e,t,n){if(!Bl(t))throw Error(P(200));return Ul(null,e,t,!1,n)};ft.unmountComponentAtNode=function(e){if(!Bl(e))throw Error(P(40));return e._reactRootContainer?(Hn(function(){Ul(null,null,e,!1,function(){e._reactRootContainer=null,e[Jt]=null})}),!0):!1};ft.unstable_batchedUpdates=ls;ft.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Bl(n))throw Error(P(200));if(e==null||e._reactInternals===void 0)throw Error(P(38));return Ul(e,t,n,!1,r)};ft.version="18.3.1-next-f1338f8080-20240426";function Vd(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Vd)}catch(e){console.error(e)}}Vd(),Vu.exports=ft;var ps=Vu.exports,ku=ps;Si.createRoot=ku.createRoot,Si.hydrateRoot=ku.hydrateRoot;const bm="modulepreload",Pm=function(e,t){return new URL(e,t).href},Nu={},ms=function(t,n,r){if(!n||n.length===0)return t();const o=document.getElementsByTagName("link");return Promise.all(n.map(l=>{if(l=Pm(l,r),l in Nu)return;Nu[l]=!0;const i=l.endsWith(".css"),a=i?'[rel="stylesheet"]':"";if(!!r)for(let f=o.length-1;f>=0;f--){const h=o[f];if(h.href===l&&(!i||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${a}`))return;const p=document.createElement("link");if(p.rel=i?"stylesheet":bm,i||(p.as="script",p.crossOrigin=""),p.href=l,document.head.appendChild(p),i)return new Promise((f,h)=>{p.addEventListener("load",f),p.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${l}`)))})})).then(()=>t()).catch(l=>{const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=l,window.dispatchEvent(i),!i.defaultPrevented)throw l})};var it=(e=>(e.ProfessorConflitoHorario="professor_conflito_horario",e.MaxAulasDia="max_aulas_dia",e.Intersticio="intersticio",e.Indisponivel="indisponivel",e.ConflitoDisponibilidadeDivisao="conflito_disponibilidade_divisao",e.TurmaErrada="turma_errada",e))(it||{});const de=["segunda","terca","quarta","quinta","sexta"],Ke=["07:10-08:00","08:00-08:50","08:50-09:40","10:00-10:50","10:50-11:40","11:40-12:30"],Je=["13:30-14:20","14:20-15:10","15:10-16:00","16:20-17:10","17:10-18:00","18:00-18:50"],xo=["18:10-19:00","19:00-19:50","19:50-20:50","21:05-21:55","21:55-23:00"],So=["18:10-19:00","19:00-19:50","19:50-20:50","21:05-21:55","21:55-23:00"],Tl={[it.ProfessorConflitoHorario]:{bg:"bg-pink-600",text:"text-white",name:"Conflito de Horrio (Professor)",description:"Alerta Crtico: Professor alocado em mltiplas turmas no mesmo horrio."},[it.TurmaErrada]:{bg:"bg-blue-500",text:"text-white",name:"Troca entre Turmas",description:"Disciplina alocada em uma turma diferente da original (e no  uma troca BNCC vlida)."},[it.Intersticio]:{bg:"bg-red-600",text:"text-white",name:"Interstcio < 11h",description:"Menos de 11 horas de descanso entre os dias de trabalho."},[it.MaxAulasDia]:{bg:"bg-orange-400",text:"text-white",name:"Excesso de Aulas",description:"Professor com mais de 8 aulas no dia."},[it.ConflitoDisponibilidadeDivisao]:{bg:"bg-purple-500",text:"text-white",name:"Conflito Diviso",description:"Professores de disciplina dividida com disponibilidades conflitantes no mesmo horrio."},[it.Indisponivel]:{bg:"bg-yellow-400",text:"text-gray-800",name:"Fora de Disponibilidade",description:"Aula alocada em horrio indisponvel para o professor."}},ma=e=>{const[t,n]=e.split("-"),[r,o]=t.split(":").map(Number),[l,i]=n.split(":").map(Number);return{start:r*60+o,end:l*60+i}},Il=e=>{const t=[],{professores:n,grade:r,disciplinas:o,atribuicoes:l,turmas:i}=e,a=new Map(n.map(g=>[g.id,g])),s=new Map(o.map(g=>[g.id,g])),p=new Map(i.map(g=>[g.id,g])),f=new Map(l.map(g=>[g.disciplinaId,g])),h=new Map,v=new Map;return r.forEach(g=>{h.has(g.professorId)||h.set(g.professorId,[]),h.get(g.professorId).push(g);const S=`${g.professorId}-${g.dia}-${g.horario}`;v.has(S)||v.set(S,[]),v.get(S).push(g)}),v.forEach((g,S)=>{if(g.length>1){const D=a.get(g[0].professorId),m=g[0].dia,u=g[0].horario;t.push({id:`conflito-horario-${S}`,tipo:it.ProfessorConflitoHorario,detalhes:`Alerta Crtico: Professor ${(D==null?void 0:D.nome)||"Desconhecido"} est em ${g.length} lugares ao mesmo tempo na ${m} s ${u}.`,timestamp:Date.now(),gradeSlotIds:g.map(d=>d.id)})}}),r.forEach(g=>{var D,m;const S=s.get(g.disciplinaId);if(S&&S.turmaId!==g.turmaId){let u=!1;if(S.bnccId){const d=o.find(y=>y.turmaId===g.turmaId&&y.bnccId===S.bnccId);if(d){const y=f.get(d.id);y&&y.professores.includes(g.professorId)&&(u=!0)}}if(!u){const d=((D=p.get(S.turmaId))==null?void 0:D.nome)||`ID Invlido (${S.turmaId})`,y=((m=p.get(g.turmaId))==null?void 0:m.nome)||`ID Invlido (${g.turmaId})`;t.push({id:`turma-errada-${g.id}`,tipo:it.TurmaErrada,detalhes:`Disciplina ${S.nome} da turma ${d} foi alocada na turma ${y}.`,timestamp:Date.now(),gradeSlotIds:[g.id]})}}}),n.forEach(g=>{const S=h.get(g.id)||[];if(S.length===0)return;const D={};S.forEach(m=>{const{start:u,end:d}=ma(m.horario),y=p.get(m.turmaId),C=y!=null&&y.isModular?1.25:1;D[m.dia]?(D[m.dia].minStart=Math.min(D[m.dia].minStart,u),D[m.dia].maxEnd=Math.max(D[m.dia].maxEnd,d),D[m.dia].count+=C):D[m.dia]={minStart:u,maxEnd:d,count:C}});for(let m=0;m<de.length-1;m++){const u=de[m],d=de[m+1];if(D[u]&&D[d]){const y=D[u].maxEnd,C=D[d].minStart;if(24*60-y+C<11*60){const I=S.filter(_=>_.dia===u||_.dia===d).map(_=>_.id);t.push({id:`intersticio-${g.id}-${u}-${d}`,tipo:it.Intersticio,detalhes:`Professor ${g.nome} tem menos de 11h de descanso entre ${u} e ${d}.`,timestamp:Date.now(),gradeSlotIds:I})}}}for(const m in D)if(D[m].count>8){const u=S.filter(d=>d.dia===m).map(d=>d.id);t.push({id:`max-aulas-${g.id}-${m}`,tipo:it.MaxAulasDia,detalhes:`Professor ${g.nome} tem o equivalente a ${D[m].count} aulas na ${m}.`,timestamp:Date.now(),gradeSlotIds:u})}}),r.forEach(g=>{const S=s.get(g.disciplinaId);if(S&&S.divisao){const m=f.get(S.id);m&&m.professores.length>1&&m.professores.forEach(u=>{const d=a.get(u);if(d){const y=d.disponibilidade[g.dia];(!y||!y.includes(g.horario))&&t.push({id:`conflito-divisao-${g.id}-${u}`,tipo:it.ConflitoDisponibilidadeDivisao,detalhes:`Conflito em disciplina dividida: ${S.nome}. Professor ${d.nome} est indisponvel neste horrio.`,timestamp:Date.now(),gradeSlotIds:[g.id]})}})}const D=a.get(g.professorId);if(D){const m=D.disponibilidade[g.dia];(!m||!m.includes(g.horario))&&t.push({id:`indisponivel-${g.id}`,tipo:it.Indisponivel,detalhes:`Aula de ${(S==null?void 0:S.nome)||"Desconhecida"} para ${D.nome} est fora de sua disponibilidade.`,timestamp:Date.now(),gradeSlotIds:[g.id]})}}),Array.from(new Map(t.map(g=>[g.id,g])).values())};let at=null,bt=null;{const e=window.firebase,t={BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1},n=t.VITE_FIREBASE_API_KEY,r=t.VITE_FIREBASE_AUTH_DOMAIN,o=t.VITE_FIREBASE_PROJECT_ID,l=t.VITE_FIREBASE_STORAGE_BUCKET,i=t.VITE_FIREBASE_MESSAGING_SENDER_ID,a=t.VITE_FIREBASE_APP_ID,s=t.VITE_FIREBASE_MEASUREMENT_ID;if(!n||!r||!o)console.error("Firebase configuration is missing environment variables. Please check your .env file.");else{const p={apiKey:n,authDomain:r,projectId:o,storageBucket:l,messagingSenderId:i,appId:a,measurementId:s};e.apps.length||e.initializeApp(p),at=e.auth(),bt=e.firestore()}}class Xe{static formatMessage(t,n,r){const o=new Date().toISOString(),l=r?`[${r}]`:"";return`${o} ${t.toUpperCase()} ${l} ${n}`}static debug(t,n,r){}static info(t,n,r){console.info(this.formatMessage("info",t,r),n||"")}static warn(t,n,r){console.warn(this.formatMessage("warn",t,r),n||"")}static error(t,n,r){console.error(this.formatMessage("error",t,r),n||"")}}const Am={toastMessage:null,onlineUsers:[],saveStatus:"idle",isSidebarCollapsed:!1,isOnboardingOpen:!1},Lm=(e,t)=>{switch(t.type){case"SHOW_TOAST":return{...e,toastMessage:t.payload};case"SET_ONLINE_USERS":return{...e,onlineUsers:t.payload};case"SET_SAVE_STATUS":return{...e,saveStatus:t.payload};case"TOGGLE_SIDEBAR":return{...e,isSidebarCollapsed:t.payload!==void 0?t.payload:!e.isSidebarCollapsed};case"TOGGLE_ONBOARDING":return{...e,isOnboardingOpen:t.payload};default:return e}},Gd=b.createContext(void 0),Om=({children:e})=>{const[t,n]=b.useReducer(Lm,Am);return c(Gd.Provider,{value:{state:t,dispatch:n},children:e})},Nn=()=>{const e=b.useContext(Gd);if(!e)throw new Error("useUI must be used within a UIProvider");return e},ut=ne.string().min(1),Rm=ne.enum(["manha","tarde","noite"]),ha=ne.object({id:ut,nome:ne.string().min(1).max(100)}),ga=ne.object({id:ut,cursoId:ut,nome:ne.string().min(1).max(50),periodo:Rm,isModular:ne.boolean()}),va=ne.object({id:ut,turmaId:ut,nome:ne.string().min(1).max(100),divisao:ne.boolean(),numProfessores:ne.number().min(1).max(5),aulasSemanais:ne.number().min(.25).max(20),bnccId:ne.string().optional()}),el=ne.object({id:ut,nome:ne.string().min(1).max(255),disponibilidade:ne.record(ne.string(),ne.any()).transform(e=>{if(!e||typeof e!="object")return{};const t={};return Object.keys(e).forEach(n=>{const r=e[n];Array.isArray(r)?t[n]=r.map(String):typeof r=="string"?t[n]=[r]:t[n]=[]}),t})}),Fm=ne.object({disciplinaId:ut,professores:ne.array(ut)}),Qd=ne.object({id:ut,turmaId:ut,dia:ne.string(),horario:ne.string(),disciplinaId:ut,professorId:ut}),zm=ne.object({id:ut,nome:ne.string()});ne.object({version:ne.string(),ano:ne.number(),cursos:ne.array(ha),turmas:ne.array(ga),disciplinas:ne.array(va),professores:ne.array(el),atribuicoes:ne.array(Fm),grade:ne.array(Qd),bncc:ne.array(zm),lastModifiedBy:ne.string().nullable(),lastModifiedAt:ne.string().nullable()});const Yd=b.createContext(void 0),cn={version:"1.0",ano:new Date().getFullYear(),cursos:[],turmas:[],disciplinas:[],professores:[],atribuicoes:[],grade:[],alertas:[],bncc:[],lastModifiedBy:null,lastModifiedAt:null};let je=[cn],ot=0;const Tu=20,jo=e=>{if(!e||typeof e!="string")return{turmaId:"",dia:"",horario:""};const t=e.split("_");if(t.length<3)return{turmaId:"",dia:"",horario:""};const n=t[0]||"",r=t[1]||"";let o=t.slice(2).join("_");const l=o.match(/(.*)-([01])$/);return l&&(o=l[1]),{turmaId:n,dia:r,horario:o}},Mm=e=>{const t={...cn,...e};return(typeof t.ano!="number"||isNaN(t.ano))&&(t.ano=new Date().getFullYear()),["cursos","turmas","disciplinas","professores","atribuicoes","grade","alertas","bncc"].forEach(r=>{Array.isArray(t[r])||(t[r]=[])}),Array.isArray(t.turmas)&&(t.turmas=t.turmas.map(r=>r?{...r,isModular:!!r.isModular}:null).filter(Boolean)),t},tl={current:new Map},Z=(e,t)=>{tl.current.set(e,t)},$m=(e,t)=>{switch(t.type){case"UPDATE_GRADE":try{t.payload.slot&&Qd.parse(t.payload.slot);const{id:n,slot:r}=t.payload,o=e.grade.filter(l=>l.id!==n);return r&&o.push(r),Z("grade",o),{...e,grade:o}}catch(n){return Xe.error("Invalid Grade Slot Data",n,"DataContext"),e}case"POPULATE_GRADE":return Z("grade",t.payload),{...e,grade:t.payload};case"DELETE_SLOT":{const{slotId:n}=t.payload,r=e.grade.filter(o=>o.id!==n);return Z("grade",r),{...e,grade:r}}case"SWAP_GRADE_SLOTS":{const{sourceId:n,destinationId:r}=t.payload,o=e.grade.find(f=>f.id===n);if(!o)return e;const l=e.grade.find(f=>f.id===r),i=jo(n),a=jo(r),s=e.grade.filter(f=>f.id!==n&&f.id!==r),p={...o,id:r,turmaId:a.turmaId,dia:a.dia,horario:a.horario};if(s.push(p),l){const f={...l,id:n,turmaId:i.turmaId,dia:i.dia,horario:i.horario};s.push(f)}return Z("grade",s),{...e,grade:s}}case"PASTE_SLOT":{const{destinationId:n,sourceSlot:r,isCut:o}=t.payload,l=jo(n),i=e.disciplinas.find(w=>w.id===r.disciplinaId),a=!!(i!=null&&i.divisao),s=a?n:`${l.turmaId}_${l.dia}_${l.horario}`,p={...r,id:s,turmaId:l.turmaId,dia:l.dia,horario:l.horario},f=!a;let v=[...e.grade.filter(w=>{const g=jo(w.id);return g.turmaId===l.turmaId&&g.dia===l.dia&&g.horario===l.horario?!(f||!(w.id.endsWith("-0")||w.id.endsWith("-1"))||w.id===n):!0}),p];return o&&(v=v.filter(w=>w.id!==r.id)),Z("grade",v),{...e,grade:v}}case"ADD_CURSO":try{const n=ha.parse(t.payload),r=[...e.cursos,n];return Z("cursos",r),{...e,cursos:r}}catch(n){return Xe.error("Invalid Curso",n),e}case"UPDATE_CURSO":try{const n=ha.parse(t.payload),r=e.cursos.map(o=>o.id===n.id?n:o);return Z("cursos",r),{...e,cursos:r}}catch(n){return Xe.error("Invalid Curso",n),e}case"DELETE_CURSO":{const n=e.turmas.filter(a=>a.cursoId===t.payload.id).map(a=>a.id),r=e.cursos.filter(a=>a.id!==t.payload.id),o=e.turmas.filter(a=>a.cursoId!==t.payload.id),l=e.disciplinas.filter(a=>!n.includes(a.turmaId)),i=e.grade.filter(a=>!n.includes(a.turmaId));return Z("cursos",r),Z("turmas",o),Z("disciplinas",l),Z("grade",i),{...e,cursos:r,turmas:o,disciplinas:l,grade:i}}case"ADD_TURMA":try{const n=ga.parse(t.payload),r=[...e.turmas,n];return Z("turmas",r),{...e,turmas:r}}catch(n){return Xe.error("Invalid Turma",n),e}case"UPDATE_TURMA":try{const n=ga.parse(t.payload),r=e.turmas.map(o=>o.id===n.id?n:o);return Z("turmas",r),{...e,turmas:r}}catch(n){return Xe.error("Invalid Turma",n),e}case"DELETE_TURMA":{const n=e.turmas.filter(l=>l.id!==t.payload.id),r=e.disciplinas.filter(l=>l.turmaId!==t.payload.id),o=e.grade.filter(l=>l.turmaId!==t.payload.id);return Z("turmas",n),Z("disciplinas",r),Z("grade",o),{...e,turmas:n,disciplinas:r,grade:o}}case"ADD_DISCIPLINA":try{const n=va.parse(t.payload),r=[...e.disciplinas,n];return Z("disciplinas",r),{...e,disciplinas:r}}catch(n){return Xe.error("Invalid Disciplina",n),e}case"UPDATE_DISCIPLINA":try{const n=va.parse(t.payload),r=e.disciplinas.map(o=>o.id===n.id?n:o);return Z("disciplinas",r),{...e,disciplinas:r}}catch(n){return Xe.error("Invalid Disciplina",n),e}case"DELETE_DISCIPLINA":{const n=e.disciplinas.filter(l=>l.id!==t.payload.id),r=e.atribuicoes.filter(l=>l.disciplinaId!==t.payload.id),o=e.grade.filter(l=>l.disciplinaId!==t.payload.id);return Z("disciplinas",n),Z("atribuicoes",r),Z("grade",o),{...e,disciplinas:n,atribuicoes:r,grade:o}}case"ADD_PROFESSOR":try{const n={...t.payload};if(n.disponibilidade){const l={};Object.keys(n.disponibilidade).forEach(i=>{const a=n.disponibilidade[i];l[i]=Array.isArray(a)?a:typeof a=="string"?[a]:[]}),n.disponibilidade=l}const r=el.parse(n),o=[...e.professores,r];return Z("professores",o),{...e,professores:o}}catch(n){return Xe.error("Invalid Professor",n),e}case"UPDATE_PROFESSOR":try{const n={...t.payload};if(n.disponibilidade){const l={};Object.keys(n.disponibilidade).forEach(i=>{const a=n.disponibilidade[i];typeof a=="string"?l[i]=[a]:Array.isArray(a)?l[i]=a:l[i]=[]}),n.disponibilidade=l}const r=el.parse(n),o=e.professores.map(l=>l.id===r.id?r:l);return Z("professores",o),{...e,professores:o}}catch(n){return Xe.error("Invalid Professor",n),e}case"BATCH_UPDATE_PROFESSORS":try{const n=new Map(t.payload.professors.map(o=>[o.id,el.parse(o)])),r=e.professores.map(o=>n.has(o.id)?n.get(o.id):o);return Z("professores",r),{...e,professores:r}}catch(n){return Xe.error("Invalid Batch Professor Update",n),e}case"DELETE_PROFESSOR":{const n=e.professores.filter(l=>l.id!==t.payload.id),r=e.atribuicoes.map(l=>({...l,professores:l.professores.filter(i=>i!==t.payload.id)})),o=e.grade.filter(l=>l.professorId!==t.payload.id);return Z("professores",n),Z("atribuicoes",r),Z("grade",o),{...e,professores:n,atribuicoes:r,grade:o}}case"UPDATE_ATRIBUICAO":{let n;return e.atribuicoes.find(o=>o.disciplinaId===t.payload.disciplinaId)?n=e.atribuicoes.map(o=>o.disciplinaId===t.payload.disciplinaId?t.payload:o):n=[...e.atribuicoes,t.payload],Z("atribuicoes",n),{...e,atribuicoes:n}}case"DELETE_ATRIBUICAO":{const n=e.atribuicoes.filter(r=>r.disciplinaId!==t.payload.disciplinaId);return Z("atribuicoes",n),{...e,atribuicoes:n}}case"UPDATE_ANO":return Z("ano",t.payload),{...e,ano:t.payload};case"SET_ALERTS":return{...e,alertas:t.payload};case"CREATE_BNCC":{const{nome:n}=t.payload,r=`bncc-${Date.now()}`,o={id:r,nome:n},l=e.disciplinas.map(i=>i.nome===n?{...i,bnccId:r}:i);return Z("disciplinas",l),Z("bncc",[...e.bncc,o]),{...e,disciplinas:l,bncc:[...e.bncc,o]}}case"DELETE_BNCC":{const{bnccId:n}=t.payload,r=e.disciplinas.map(l=>{if(l.bnccId===n){const{bnccId:i,...a}=l;return a}return l}),o=e.bncc.filter(l=>l.id!==n);return Z("disciplinas",r),Z("bncc",o),{...e,disciplinas:r,bncc:o}}default:return e}},jm=(e,t)=>{if(t.type==="CLEAR_DATA"){Object.keys(cn).forEach(o=>{o!=="alertas"&&Z(o,cn[o])});const r={...cn,alertas:Il(cn)};return je=[r],ot=0,Xe.warn("All data cleared",null,"DataContext"),r}let n;if(t.type==="UNDO"){ot>0&&ot--;const{alertas:r,...o}=je[ot];return Object.keys(o).forEach(l=>Z(l,o[l])),je[ot]}if(t.type==="REDO"){ot<je.length-1&&ot++;const{alertas:r,...o}=je[ot];return Object.keys(o).forEach(l=>Z(l,o[l])),je[ot]}if(t.type==="SET_STATE"){n=Mm(t.payload),n.alertas=Il(n);const{alertas:r,...o}=n;Object.keys(o).forEach(l=>Z(l,o[l]))}else n=$m(e,t);if(n!==e){const r={...n};if(t.type!=="SET_STATE"){if(at){const o=at.currentUser;r.lastModifiedBy=o?o.displayName||o.email:"Sistema"}else r.lastModifiedBy="Usurio Local";r.lastModifiedAt=new Date().toISOString(),Z("lastModifiedBy",r.lastModifiedBy),Z("lastModifiedAt",r.lastModifiedAt)}if(t.type==="SET_STATE"||t.type==="POPULATE_GRADE")je=[r],ot=0;else if(t.type!=="SET_ALERTS"){const o={...e,alertas:[]},l={...r,alertas:[]};JSON.stringify(o)!==JSON.stringify(l)&&(je=je.slice(0,ot+1),je.push(r),je.length>Tu&&(je=je.slice(je.length-Tu)),ot=je.length-1)}return r}return e},Hm=({children:e})=>{const{dispatch:t}=Nn(),[n,r]=b.useReducer(jm,cn,p=>{let f=p;const h={...f,alertas:Il(f)};return je=[h],ot=0,h}),o=b.useRef(!1),l=b.useRef(!1),i=b.useRef(!1);b.useEffect(()=>{if(!bt)return;const p=bt.collection("timetables").doc("default"),f=p.onSnapshot(h=>{if(l.current=!0,h.exists&&!h.metadata.hasPendingWrites){const v=h.data();if(v){const w=v.lastModifiedAt?new Date(v.lastModifiedAt).getTime():0,g=n.lastModifiedAt?new Date(n.lastModifiedAt).getTime():0;w>g&&!i.current&&(Xe.info("Received newer remote update from Firestore.",null,"DataContext"),o.current=!0,r({type:"SET_STATE",payload:v}))}}else if(!h.exists){const{alertas:v,...w}=cn;p.set(w)}},h=>{l.current=!0,Xe.error("Error listening to Firestore",h,"DataContext"),t({type:"SHOW_TOAST",payload:"Erro de conexo com o banco de dados."})});return()=>f()},[n.lastModifiedAt,t]),b.useEffect(()=>{const p=setTimeout(()=>{const f=tl.current;if(f.size===0||o.current){o.current&&(o.current=!1);return}if(i.current=!0,tl.current=new Map,t({type:"SET_SAVE_STATUS",payload:"saving"}),bt&&l.current){const h=bt.batch(),v=bt.collection("timetables").doc("default"),w={};f.forEach((g,S)=>w[S]=g),h.update(v,w),h.commit().then(()=>t({type:"SET_SAVE_STATUS",payload:"saved"})).catch(g=>{Xe.error("Error saving to Firestore",g,"DataContext"),t({type:"SHOW_TOAST",payload:"Falha ao salvar dados."}),t({type:"SET_SAVE_STATUS",payload:"error"})}).finally(()=>i.current=!1)}else i.current=!1},2e3);return()=>clearTimeout(p)},[n,t]),b.useEffect(()=>{const p=f=>{(tl.current.size>0||i.current)&&(f.preventDefault(),f.returnValue="")};return window.addEventListener("beforeunload",p),()=>window.removeEventListener("beforeunload",p)},[]);const a=JSON.stringify({grade:n.grade,professores:n.professores,disciplinas:n.disciplinas,atribuicoes:n.atribuicoes,turmas:n.turmas});b.useEffect(()=>{const p=setTimeout(()=>{const f={...n,...JSON.parse(a)},h=Il(f);JSON.stringify(h)!==JSON.stringify(n.alertas)&&r({type:"SET_ALERTS",payload:h})},300);return()=>clearTimeout(p)},[a]);const s=b.useCallback(p=>{const f=p.target;["INPUT","TEXTAREA","SELECT"].includes(f.tagName)||f.isContentEditable||(p.ctrlKey&&p.key==="z"&&(p.preventDefault(),r({type:"UNDO"})),p.ctrlKey&&p.key==="y"&&(p.preventDefault(),r({type:"REDO"})))},[]);return b.useEffect(()=>(window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)),[s]),c(Yd.Provider,{value:{state:n,dispatch:r},children:e})},Cr=()=>{const e=b.useContext(Yd);if(!e)throw new Error("useData must be used within a DataProvider");return e},Bm={draggedItem:null,clipboard:null,selectedSlotId:null},Um=(e,t)=>{switch(t.type){case"DRAG_START":return{...e,draggedItem:t.payload,clipboard:null,selectedSlotId:null};case"DRAG_END":return{...e,draggedItem:null};case"SELECT_SLOT":return{...e,selectedSlotId:t.payload.slotId};case"COPY_SLOT":return{...e,clipboard:{sourceSlot:t.payload.sourceSlot,type:"copy"},draggedItem:null};case"CUT_SLOT":return{...e,clipboard:{sourceSlot:t.payload.sourceSlot,type:"cut"},draggedItem:null,selectedSlotId:null};case"CLEAR_CLIPBOARD":return{...e,clipboard:null};case"PASTE_SLOT":return{...e,clipboard:t.payload.isCut?null:e.clipboard};default:return e}},Xd=b.createContext(void 0),Wm=({children:e})=>{const[t,n]=b.useReducer(Um,Bm);return c(Xd.Provider,{value:{state:t,dispatch:n},children:e})},Wl=()=>{const e=b.useContext(Xd);if(!e)throw new Error("useGrid must be used within a GridProvider");return e},Kd=({children:e,content:t,isVisible:n,onVisibilityChange:r})=>{const o=b.useRef(null),[l,i]=b.useState({top:0,left:0});return b.useEffect(()=>{const a=()=>{if(o.current){const s=o.current.getBoundingClientRect();i({top:s.top,left:s.left+s.width/2})}};return n&&(a(),window.addEventListener("scroll",a,!0),window.addEventListener("resize",a)),()=>{window.removeEventListener("scroll",a,!0),window.removeEventListener("resize",a)}},[n]),t?k("div",{ref:o,className:"relative h-full w-full",onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),children:[e,n&&ps.createPortal(k("div",{className:"fixed z-[9999] pointer-events-none flex flex-col items-center",style:{top:l.top,left:l.left,transform:"translate(-50%, -100%) translateY(-6px)"},children:[c("div",{className:"w-64 p-2 text-sm text-white bg-gray-800 rounded-md shadow-lg border border-gray-700",children:t}),c("div",{className:"w-0 h-0 border-l-[6px] border-l-transparent border-r-[6px] border-r-transparent border-t-[6px] border-t-gray-800"})]}),document.body)]}):c(dn,{children:e})},Vm=e=>Ke.includes(e)?"manha":Je.includes(e)?"tarde":"noite",Iu=Fn.memo(({baseId:e,subSlotIndex:t,slot:n,isOutOfPeriod:r,alerts:o,onOpenContextMenu:l,onSelectSlot:i,isSelected:a,hoveredProfessorId:s,onProfessorHover:p,highlightStatus:f,onDragStart:h,onDragEnd:v,disciplina:w,professor:g,scaledCellFontSize:S})=>{const[D,m]=b.useState(!1),u=`${e}-${t}`,d=F=>{F.stopPropagation(),i(u)},y=F=>{(F.key==="Enter"||F.key===" ")&&(F.preventDefault(),F.stopPropagation(),i(u))},C=F=>{F.stopPropagation(),l(F,u)},x=o.find(F=>F.gradeSlotIds.includes(u))??(o.length>0&&n?o[0]:null),I=F=>F==="valid"?"bg-green-200":F==="warning"?"bg-yellow-200":"";let _=r?"bg-slate-200":"bg-white";f&&!n&&(_=I(f)),a&&(_="bg-indigo-50"),x&&(_=Tl[x.tipo].bg);const E=a?"ring ring-indigo-500 z-10":"",T=s&&n&&n.professorId===s&&!a,O=s&&n&&n.professorId!==s,R=n&&w&&g?k("div",{className:"p-1 text-left w-full h-full overflow-hidden",style:{fontSize:`${S}px`},children:[c("p",{className:"font-bold truncate",children:w.nome}),c("p",{className:"text-gray-600 truncate",children:g.nome})]}):c("div",{className:"w-full h-full"}),j=o.length>0?k("div",{children:[c("h4",{className:"font-bold mb-1",children:"Alertas:"}),c("ul",{className:"list-disc list-inside text-xs",children:o.map(F=>c("li",{children:F.detalhes},F.id))})]}):null,X=n&&w&&g?`Aula de ${w.nome} com ${g.nome}. ${o.length>0?`Com ${o.length} alertas.`:""}`:"Horrio livre (metade)";return c("div",{role:"button",tabIndex:0,"aria-label":X,title:n&&w&&g?`Disciplina: ${w.nome}
Professor: ${g.nome}`:void 0,draggable:!!n,onDragStart:F=>n&&h(F,n.id),onDragEnd:v,onClick:d,onKeyDown:y,onContextMenu:C,onMouseEnter:()=>{n&&p(n.professorId)},className:`relative h-1/2 transition-all duration-150 ${_} ${E} ${n?"cursor-grab active:cursor-grabbing":"cursor-pointer"} ${T?"ring-2 ring-slate-700 z-20":""} ${O?"opacity-40":""} focus:outline-none focus:ring-2 focus:ring-indigo-500`,children:c(Kd,{content:j,isVisible:D,onVisibilityChange:m,children:R})})}),Gm=({id:e,gridType:t,turma:n,fullSlot:r,slot0:o,slot1:l,isLastInCourse:i,cellAlerts:a,subCellAlerts0:s,subCellAlerts1:p,onOpenContextMenu:f,onSelectSlot:h,selectedSlotId:v,hoveredProfessorId:w,onProfessorHover:g,highlightStatus:S,highlightStatus0:D,highlightStatus1:m,scaledCellMinHeight:u,scaledCellFontSize:d})=>{const{state:y,dispatch:C}=Cr(),{state:x,dispatch:I}=Wl(),{dispatch:_}=Nn(),{disciplinas:E,turmas:T,grade:O}=y,{draggedItem:R,clipboard:j}=x,[X,F]=b.useState(!1),[ue,xe]=b.useState(!1),L=e.split("_").slice(2).join("_"),H=Vm(L),M=n&&n.periodo!==H,K="border-b border-gray-300",ee=i?"border-r-2 border-r-slate-400":"border-r border-gray-300";if(t==="modular"&&L==="18:10-19:00")return c("div",{className:`relative ${ee} ${K} bg-gray-200`,style:{minHeight:`${u}px`,backgroundImage:"repeating-linear-gradient(45deg, #d1d5db, #d1d5db 10px, #e5e7eb 10px, #e5e7eb 20px)"},title:"Horrio no disponvel para aulas modulares","aria-hidden":"true"});const Ue=()=>{var B;if(!R)return null;const A=R.type==="SIDEBAR_ITEM"?R.disciplinaId:(B=O.find(G=>G.id===R.sourceSlotId))==null?void 0:B.disciplinaId;return E.find(G=>G.id===A)||null},mt=(A,B)=>{A.stopPropagation(),xe(!1);const G={type:"GRID_ITEM",sourceSlotId:B};A.dataTransfer.setData("application/json",JSON.stringify(G)),A.dataTransfer.effectAllowed="move",I({type:"DRAG_START",payload:G})},Pe=()=>{I({type:"DRAG_END"})},ht=A=>{if(A.preventDefault(),!R){A.dataTransfer.dropEffect="none";return}const B=Ue();if(!B){A.dataTransfer.dropEffect="none",F(!1);return}let G=!1;if(B.divisao){const oe=o||l;(R.type==="GRID_ITEM"&&oe||!o||!l)&&(G=!0)}else(!r&&!o&&!l||R.type==="GRID_ITEM"&&r)&&(G=!0);G?(F(!0),A.dataTransfer.dropEffect="move"):(F(!1),A.dataTransfer.dropEffect="none")},Rt=()=>{F(!1)},kr=A=>{if(A.preventDefault(),A.stopPropagation(),F(!1),!!R)try{const B=Ue();if(!B)return;const G=T.find(le=>le.id===B.turmaId),oe=n;if(G&&oe&&G.isModular!==oe.isModular){_({type:"SHOW_TOAST",payload:"No  permitido mover aulas entre a grade regular e a modular."});return}let q;if(B.divisao){const le=A.currentTarget.getBoundingClientRect(),Y=A.clientY<le.top+le.height/2,pe=`${e}-${Y?0:1}`,rt=`${e}-${Y?1:0}`;O.find(te=>te.id===pe)&&R.sourceSlotId!==pe?q=O.find(V=>V.id===rt)?pe:rt:q=pe}else if(r||o||l)if(r&&R.type==="GRID_ITEM")q=e;else return;else q=e;if(R.type==="GRID_ITEM"&&R.sourceSlotId===q)return;if(R.type==="SIDEBAR_ITEM"){const{disciplinaId:le,professorId:Y}=R;if(le&&Y){if(!q)return;const pe=q.split("_"),rt=pe[1];let Q=pe.slice(2).join("_");const te=Q.match(/(.*)-([01])$/);te&&(Q=te[1]),C({type:"UPDATE_GRADE",payload:{id:q,slot:{id:q,turmaId:n.id,dia:rt,horario:Q,disciplinaId:le,professorId:Y}}})}}else if(R.type==="GRID_ITEM"&&R.sourceSlotId){if(!q)return;C({type:"SWAP_GRADE_SLOTS",payload:{sourceId:R.sourceSlotId,destinationId:q}})}}catch(B){console.error("Error handling drop in GridCell:",B)}finally{I({type:"DRAG_END"})}},Ye=A=>{A.stopPropagation();const B=E.find(q=>q.id===(j==null?void 0:j.sourceSlot.disciplinaId)),G=!!(B!=null&&B.divisao);let oe=e;if(!r&&!o&&!l&&G){const q=A.currentTarget.getBoundingClientRect(),le=A.clientY<q.top+q.height/2;oe=`${e}-${le?0:1}`}h(oe)},Ae=A=>{(A.key==="Enter"||A.key===" ")&&(A.preventDefault(),A.stopPropagation(),h(e))},Nr=A=>{A.preventDefault(),A.stopPropagation();const B=E.find(q=>q.id===(j==null?void 0:j.sourceSlot.disciplinaId)),G=!!(B!=null&&B.divisao);let oe=e;if(!r&&!o&&!l&&G){const q=A.currentTarget.getBoundingClientRect(),le=A.clientY<q.top+q.height/2;oe=`${e}-${le?0:1}`}f(A,oe)},Ht=v===e,Tn=A=>A==="valid"?"bg-green-200":A==="warning"?"bg-yellow-200":"";if(r){const A=y.disciplinas.find(J=>J.id===r.disciplinaId),B=y.professores.find(J=>J.id===r.professorId),G=a[0],oe=A&&B?k("div",{className:"p-1 text-left w-full h-full",style:{fontSize:`${d}px`},children:[c("p",{className:"font-bold truncate",children:A.nome}),c("p",{className:"text-gray-600 truncate",children:B.nome})]}):c("div",{className:"w-full h-full"}),q=a.length>0?k("div",{children:[c("h4",{className:"font-bold mb-1",children:"Alertas:"}),c("ul",{className:"list-disc list-inside text-xs",children:a.map(J=>c("li",{children:J.detalhes},J.id))})]}):null;let le=M?"bg-slate-200":"bg-white";Ht&&(le="bg-indigo-50"),G&&(le=Tl[G.tipo].bg),X&&(le="bg-blue-300");const Y=J=>{J.stopPropagation(),h(e)},pe=J=>{(J.key==="Enter"||J.key===" ")&&(J.preventDefault(),h(e))},rt=Ht?"ring-2 ring-indigo-500 z-10":"",Q=w&&r.professorId===w&&!Ht,te=w&&r.professorId!==w,V=A&&B?`Aula de ${A.nome} com ${B.nome} na turma ${n.nome}, ${e.split("_")[2]}. ${a.length>0?`Alerta: ${a[0].detalhes}`:""}`:`Horrio ocupado na turma ${n.nome}`;return c("div",{role:"button",tabIndex:0,"aria-label":V,title:A&&B?`Disciplina: ${A.nome}
Professor: ${B.nome}`:void 0,onDragOver:ht,onDragLeave:Rt,onDrop:kr,onClick:Y,onKeyDown:pe,draggable:!!r,onDragStart:J=>mt(J,r.id),onDragEnd:Pe,onContextMenu:J=>{J.stopPropagation(),f(J,e)},onMouseEnter:()=>g(r.professorId),className:`relative transition-all duration-150 ${le} ${rt} ${r?"cursor-grab active:cursor-grabbing":"cursor-pointer"} ${K} ${Q?"ring-2 ring-slate-700 z-20":""} ${te?"opacity-40":""} ${ee} focus:outline-none focus:ring-2 focus:ring-indigo-500`,style:{minHeight:`${u}px`},children:c(Kd,{content:q,isVisible:ue,onVisibilityChange:xe,children:oe})})}const Wn=Ht&&!(v!=null&&v.endsWith("-0"))&&!(v!=null&&v.endsWith("-1"));let Bt=X?"bg-blue-300":M?"bg-slate-200":"bg-white";S&&(Bt=Tn(S)),Wn&&(Bt="bg-indigo-50");const U=Wn?"ring-2 ring-indigo-500 z-10":"",N=A=>A?{disciplina:y.disciplinas.find(B=>B.id===A.disciplinaId),professor:y.professores.find(B=>B.id===A.professorId)}:{disciplina:null,professor:null},z=N(o),W=N(l);return k("div",{onDragOver:ht,onDragLeave:Rt,onDrop:kr,onClick:Ye,onKeyDown:Ae,onContextMenu:Nr,className:`relative flex flex-col ${Bt} ${U} ${K} cursor-pointer ${ee}`,style:{minHeight:`${u}px`},children:[c(Iu,{baseId:e,subSlotIndex:0,slot:o,isOutOfPeriod:M,alerts:[...a,...s],onOpenContextMenu:f,onSelectSlot:h,isSelected:v===`${e}-0`,hoveredProfessorId:w,onProfessorHover:g,highlightStatus:D||S,onDragStart:mt,onDragEnd:Pe,disciplina:z.disciplina,professor:z.professor,scaledCellFontSize:d}),c("div",{className:"border-b border-dashed border-gray-300"}),c(Iu,{baseId:e,subSlotIndex:1,slot:l,isOutOfPeriod:M,alerts:[...a,...p],onOpenContextMenu:f,onSelectSlot:h,isSelected:v===`${e}-1`,hoveredProfessorId:w,onProfessorHover:g,highlightStatus:m||S,onDragStart:mt,onDragEnd:Pe,disciplina:W.disciplina,professor:W.professor,scaledCellFontSize:d})]})},Qm=Fn.memo(Gm),zr=({label:e,checked:t,onChange:n,disabled:r})=>k("label",{className:`flex items-center space-x-2 ${r?"cursor-not-allowed text-gray-400":"cursor-pointer"}`,children:[c("input",{type:"checkbox",checked:t,onChange:o=>n(o.target.checked),disabled:r,className:"rounded text-indigo-600 focus:ring-indigo-500"}),c("span",{children:e})]}),_u=({title:e,children:t,onSelectAll:n,onDeselectAll:r})=>k("div",{className:"p-2 border rounded-md bg-white",children:[c("h4",{className:"font-bold mb-2",children:e}),k("div",{className:"flex space-x-2 mb-2",children:[c("button",{onClick:n,className:"text-xs text-indigo-600 hover:underline",children:"Todos"}),c("button",{onClick:r,className:"text-xs text-indigo-600 hover:underline",children:"Nenhum"})]}),c("div",{className:"space-y-1 max-h-48 overflow-y-auto pr-2",children:t})]}),Ym=({visibility:e,onVisibilityChange:t,cursos:n,turmas:r})=>{const[o,l]=b.useState(!1),i=(h,v)=>{t({...e,periods:{...e.periods,[h]:v}})},a=(h,v)=>{const w={...e.turmas};r.forEach(g=>{g.cursoId===h&&(w[g.id]=v)}),t({...e,cursos:{...e.cursos,[h]:v},turmas:w})},s=(h,v)=>{t({...e,turmas:{...e.turmas,[h]:v}})},p=h=>{const v={...e};h==="periods"?Object.keys(v.periods).forEach(w=>v.periods[w]=!0):h==="cursos"?(Object.keys(v.cursos).forEach(w=>v.cursos[w]=!0),Object.keys(v.turmas).forEach(w=>v.turmas[w]=!0)):h==="turmas"&&Object.keys(v.turmas).forEach(w=>v.turmas[w]=!0),t(v)},f=h=>{const v={...e};h==="periods"?Object.keys(v.periods).forEach(w=>v.periods[w]=!1):h==="cursos"?(Object.keys(v.cursos).forEach(w=>v.cursos[w]=!1),Object.keys(v.turmas).forEach(w=>v.turmas[w]=!1)):h==="turmas"&&Object.keys(v.turmas).forEach(w=>v.turmas[w]=!1),t(v)};return k("div",{className:"bg-gray-100 p-2 mb-4 rounded-md shadow-sm border text-sm",children:[k("button",{onClick:()=>l(!o),className:"w-full text-left font-semibold text-gray-700 flex justify-between items-center",children:[c("span",{children:o?"Ocultar Opes de Visualizao":"Exibir Opes de Visualizao"}),c("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-5 w-5 transition-transform ${o?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]}),o&&c("div",{className:"mt-4",children:k("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[k(_u,{title:"Perodos",onSelectAll:()=>p("periods"),onDeselectAll:()=>f("periods"),children:[c(zr,{label:"Manh",checked:e.periods.manha,onChange:h=>i("manha",h)}),c(zr,{label:"Tarde",checked:e.periods.tarde,onChange:h=>i("tarde",h)}),c(zr,{label:"Noite",checked:e.periods.noite,onChange:h=>i("noite",h)})]}),c(_u,{title:"Cursos",onSelectAll:()=>p("cursos"),onDeselectAll:()=>f("cursos"),children:n.map(h=>c(zr,{label:h.nome,checked:e.cursos[h.id]??!0,onChange:v=>a(h.id,v)},h.id))}),k("div",{className:"p-2 border rounded-md bg-white",children:[c("h4",{className:"font-bold mb-2",children:"Turmas"}),k("div",{className:"flex space-x-2 mb-2",children:[c("button",{onClick:()=>p("turmas"),className:"text-xs text-indigo-600 hover:underline",children:"Todas"}),c("button",{onClick:()=>f("turmas"),className:"text-xs text-indigo-600 hover:underline",children:"Nenhuma"})]}),c("div",{className:"space-y-2 max-h-48 overflow-y-auto pr-2",children:n.map(h=>k("div",{children:[c("h5",{className:"font-semibold text-gray-600",children:h.nome}),c("div",{className:"pl-4 space-y-1",children:r.filter(v=>v.cursoId===h.id).map(v=>c(zr,{label:v.nome,checked:e.turmas[v.id]??!0,onChange:w=>s(v.id,w),disabled:!(e.cursos[h.id]??!0)},v.id))})]},h.id))})]})]})})]})},Xm=({isOpen:e,onClose:t,x:n,y:r,items:o})=>{const l=b.useRef(null);return b.useEffect(()=>{const i=a=>{l.current&&!l.current.contains(a.target)&&t()};return e&&document.addEventListener("mousedown",i),()=>{document.removeEventListener("mousedown",i)}},[e,t]),e?c("div",{ref:l,className:"absolute z-50 bg-white rounded-md shadow-lg border border-gray-200 py-1 w-32",style:{top:r,left:n},children:c("ul",{children:o.map((i,a)=>c("li",{children:c("button",{onClick:()=>{i.disabled||(i.onClick(),t())},disabled:i.disabled,className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 disabled:text-gray-400 disabled:bg-white disabled:cursor-not-allowed",children:i.label})},a))})}):null},wi=[],Km=({isFocusModeEnabled:e,gridType:t})=>{const{state:n,dispatch:r}=Cr(),{state:o,dispatch:l}=Wl(),{dispatch:i}=Nn(),{ano:a,cursos:s,turmas:p,grade:f,disciplinas:h,professores:v,atribuicoes:w,alertas:g}=n,{clipboard:S,selectedSlotId:D,draggedItem:m}=o,[u,d]=b.useState(()=>{const N=localStorage.getItem("grid_zoom");return N?parseFloat(N):1}),[y,C]=b.useState(()=>{const N=localStorage.getItem("grid_visibility");if(N)try{return{periods:JSON.parse(N).periods||{manha:!0,tarde:!0,noite:!0},cursos:{},turmas:{}}}catch(z){console.error("Error parsing saved visibility",z)}return{periods:{manha:!0,tarde:!0,noite:!0},cursos:{},turmas:{}}}),[x,I]=b.useState({isOpen:!1,x:0,y:0,slotId:""}),[_,E]=b.useState(null),T=b.useRef(null),[O,R]=b.useState(!1),[j,X]=b.useState(a.toString());b.useEffect(()=>{localStorage.setItem("grid_zoom",u.toString())},[u]);const F=b.useMemo(()=>({dayColWidth:50*u,timeColWidth:80*u,turmaColWidth:150*u,headerHeight:44*u,cellMinHeight:60*u,daySeparatorHeight:8*u,periodSeparatorHeight:8*u,fontSizeHeader:12*u,fontSizeTurmaHeader:11*u,fontSizeTime:12*u,fontSizeCell:12*u,fontSizeYear:18*u,fontSizeYearLabel:12*u}),[u]),ue=b.useMemo(()=>p.filter(z=>z.isModular===(t==="modular")).sort((z,W)=>{var G,oe;const A=((G=s.find(q=>q.id===z.cursoId))==null?void 0:G.nome)||"",B=((oe=s.find(q=>q.id===W.cursoId))==null?void 0:oe.nome)||"";return A.localeCompare(B)!==0?A.localeCompare(B):z.nome.localeCompare(W.nome)}),[p,t,s]);b.useEffect(()=>{X(a.toString())},[a]);const xe=()=>{const N=parseInt(j,10);!isNaN(N)&&N>2e3&&N<2100?r({type:"UPDATE_ANO",payload:N}):(X(a.toString()),i({type:"SHOW_TOAST",payload:"Ano invlido."})),R(!1)},L=N=>{N.key==="Enter"?N.currentTarget.blur():N.key==="Escape"&&(X(a.toString()),R(!1))};b.useEffect(()=>{C(N=>{const z={};s.forEach(A=>{z[A.id]=N.cursos[A.id]??!0});const W={};return ue.forEach(A=>{W[A.id]=N.turmas[A.id]??!0}),{...N,cursos:z,turmas:W}})},[s,ue]);const H=N=>{C(N);const z={periods:N.periods};localStorage.setItem("grid_visibility",JSON.stringify(z))},M=b.useCallback(N=>{const z=N.target;if(!(["INPUT","TEXTAREA","SELECT"].includes(z.tagName)||z.isContentEditable)&&D)if(N.ctrlKey){if(N.key==="c"){N.preventDefault();const W=f.find(A=>A.id===D);W&&l({type:"COPY_SLOT",payload:{sourceSlot:W}})}else if(N.key==="x"){N.preventDefault();const W=f.find(A=>A.id===D);W&&l({type:"CUT_SLOT",payload:{sourceSlot:W}})}else if(N.key==="v"&&(N.preventDefault(),S)){const W=p.find(G=>G.id===S.sourceSlot.turmaId),A=D.split("_")[0],B=p.find(G=>G.id===A);if(W&&B&&W.isModular!==B.isModular){i({type:"SHOW_TOAST",payload:"No  permitido colar aulas entre a grade regular e a modular."});return}r({type:"PASTE_SLOT",payload:{destinationId:D,sourceSlot:S.sourceSlot,isCut:S.type==="cut"}}),l({type:"PASTE_SLOT",payload:{isCut:S.type==="cut"}})}}else N.key==="Delete"&&(N.preventDefault(),r({type:"DELETE_SLOT",payload:{slotId:D}}))},[D,r,l,S,p,f,i]);b.useEffect(()=>(window.addEventListener("keydown",M),()=>{window.removeEventListener("keydown",M)}),[M]),b.useEffect(()=>{const N=T.current;if(!N)return;const z=W=>{W.ctrlKey&&(W.preventDefault(),d(A=>Math.max(.5,Math.min(2,A-W.deltaY*.001))))};return N.addEventListener("wheel",z,{passive:!1}),()=>{N.removeEventListener("wheel",z)}},[]);const K=N=>{if(!m)return;const z=T.current;if(!z)return;const W=z.getBoundingClientRect(),A=N.clientY-W.top,B=60,G=10;A<B?z.scrollTop-=G:A>W.height-B&&(z.scrollTop+=G)},ee=()=>{I({...x,isOpen:!1})},Ot=b.useCallback((N,z)=>{N.preventDefault(),N.stopPropagation(),l({type:"SELECT_SLOT",payload:{slotId:z}}),I({isOpen:!0,x:N.pageX,y:N.pageY,slotId:z})},[l]),Ue=()=>{const{slotId:N}=x;if(!N)return[];const z=f.find(q=>q.id===N),W=!!z;return[{label:"Copiar",onClick:()=>z&&l({type:"COPY_SLOT",payload:{sourceSlot:z}}),disabled:!W},{label:"Recortar",onClick:()=>z&&l({type:"CUT_SLOT",payload:{sourceSlot:z}}),disabled:!W},{label:"Colar",onClick:()=>{S&&(r({type:"PASTE_SLOT",payload:{destinationId:N,sourceSlot:S.sourceSlot,isCut:S.type==="cut"}}),l({type:"PASTE_SLOT",payload:{isCut:S.type==="cut"}}))},disabled:!!!S}]},mt=b.useCallback(N=>{l({type:"SELECT_SLOT",payload:{slotId:N}})},[l]),Pe=b.useCallback(N=>{e&&E(N)},[e]),ht=b.useCallback(()=>{},[]),Rt=b.useMemo(()=>t==="modular"?So:xo,[t]),Ye=b.useMemo(()=>[...Ke,...Je,...Rt],[Rt]).filter(N=>!!(Ke.includes(N)&&y.periods.manha||Je.includes(N)&&y.periods.tarde||Rt.includes(N)&&y.periods.noite)),Ae=ue.filter(N=>y.turmas[N.id]),Ht=b.useMemo(()=>[...s].sort((N,z)=>N.nome.localeCompare(z.nome)),[s]).map(N=>({...N,turmas:ue.filter(z=>z.cursoId===N.id)})).filter(N=>y.cursos[N.id]),Tn=b.useMemo(()=>{const N=new Set;return Ae.forEach((z,W)=>{const A=Ae[W+1];(!A||A.cursoId!==z.cursoId)&&N.add(z.id)}),N},[Ae]),Wn=b.useMemo(()=>{const N=new Map;return f.forEach(z=>{const W=`${z.turmaId}_${z.dia}_${z.horario}`;N.has(W)||N.set(W,[]),N.get(W).push(z)}),N},[f]),Bt=b.useMemo(()=>{const N=new Map;return g.forEach(z=>{z.gradeSlotIds.forEach(W=>{N.has(W)||N.set(W,[]),N.get(W).push(z)})}),N},[g]),U=b.useMemo(()=>{let N=null;if((m==null?void 0:m.type)==="SIDEBAR_ITEM"&&m.disciplinaId&&m.professorId)N={professorId:m.professorId,disciplinaId:m.disciplinaId,slotIdToIgnore:null};else{const Q=D||((m==null?void 0:m.type)==="GRID_ITEM"?m.sourceSlotId:null);if(Q){const te=f.find(V=>V.id===Q);te&&(N={professorId:te.professorId,disciplinaId:te.disciplinaId,slotIdToIgnore:Q})}}if(!N)return{};const{professorId:z,disciplinaId:W,slotIdToIgnore:A}=N,B=v.find(Q=>Q.id===z);if(!B)return{};const G=h.find(Q=>Q.id===W);if(!G)return{};const oe=new Map;f.forEach(Q=>{const te=`${Q.turmaId}_${Q.dia}_${Q.horario}`;oe.has(te)||oe.set(te,[]),oe.get(te).push(Q)});const q=[];if(G.bnccId){const Q=new Set;h.forEach(te=>{if(te.bnccId===G.bnccId){const V=w.find(J=>J.disciplinaId===te.id);V&&V.professores.includes(z)&&Q.add(te.turmaId)}}),q.push(...Ae.filter(te=>Q.has(te.id)))}else{const Q=Ae.find(te=>te.id===G.turmaId);Q&&q.push(Q)}const le={},Y={},pe={};f.forEach(Q=>{if(Q.professorId!==z||A&&Q.id===A)return;le[Q.dia]||(le[Q.dia]=new Set),le[Q.dia].add(Q.horario);const te=p.find(Fe=>Fe.id===Q.turmaId),V=te!=null&&te.isModular?1.25:1;Y[Q.dia]=(Y[Q.dia]||0)+V;const{start:J,end:Ct}=ma(Q.horario),Ce=pe[Q.dia];Ce?(Ce.minStart=Math.min(Ce.minStart,J),Ce.maxEnd=Math.max(Ce.maxEnd,Ct)):pe[Q.dia]={minStart:J,maxEnd:Ct}});const rt={};return q.forEach(Q=>{de.forEach(te=>{Ye.forEach(V=>{const J=`${Q.id}_${te}_${V}`,Ce=(oe.get(J)||[]).filter(ae=>!A||ae.id!==A),Fe=[];G.divisao?(Ce.some(ae=>ae.id===`${J}-0`)||Fe.push(`${J}-0`),Ce.some(ae=>ae.id===`${J}-1`)||Fe.push(`${J}-1`)):Ce.length===0&&Fe.push(J),Fe.forEach(ae=>{var Vn,Gn;let ce=!1,kt=!1,ze="noite";Ke.includes(V)?ze="manha":Je.includes(V)&&(ze="tarde"),Q.periodo!==ze&&(ce=!0),!ce&&!((Vn=B.disponibilidade[te])!=null&&Vn.includes(V))&&(kt=!0),!ce&&((Gn=le[te])!=null&&Gn.has(V))&&(ce=!0);const Ut=p.find(Wt=>Wt.id===Q.id),Vl=Ut!=null&&Ut.isModular?1.25:1;if(!ce&&(Y[te]||0)+Vl>8&&(ce=!0),!ce){const{start:Wt,end:Nt}=ma(V),Eo=de.indexOf(te)-1;if(Eo>=0){const Qn=de[Eo],ke=pe[Qn];ke&&24*60-ke.maxEnd+Wt<11*60&&(ce=!0)}if(!ce){const Qn=de.indexOf(te)+1;if(Qn<de.length){const ke=de[Qn],Tr=pe[ke];Tr&&24*60-Nt+Tr.minStart<11*60&&(ce=!0)}}}ce||(rt[ae]=kt?"warning":"valid")})})})}),rt},[D,m,f,h,p,v,Ae,Ye,w]);return k("div",{ref:T,className:"flex-1 overflow-auto bg-gray-200 p-4",onClick:()=>{ee(),mt(null)},onDragOver:K,children:[c(Ym,{visibility:y,onVisibilityChange:H,cursos:s,turmas:ue}),c("div",{style:{display:"inline-block"},onMouseLeave:()=>E(null),children:k("div",{className:"relative grid",style:{gridTemplateColumns:`${F.dayColWidth}px ${F.timeColWidth}px repeat(${Ae.length}, ${F.turmaColWidth}px)`},children:[c("div",{className:"sticky top-0 left-0 z-40 bg-slate-200 border-b-2 border-r border-slate-300 flex items-center justify-center p-1",style:{gridColumn:"1 / span 2",gridRow:"1 / span 2"},children:O?k("div",{className:"flex flex-col items-center",children:[c("label",{htmlFor:"year-input",className:"text-xs text-slate-600 mb-1",children:"Ano"}),c("input",{id:"year-input",type:"number",value:j,onChange:N=>X(N.target.value),onBlur:xe,onKeyDown:L,className:"w-20 text-center bg-white rounded border-2 border-indigo-500 shadow-inner",autoFocus:!0,onFocus:N=>N.target.select()})]}):k("div",{onClick:()=>R(!0),className:"p-2 cursor-pointer text-center text-slate-700 hover:bg-slate-300 rounded-md",children:[c("div",{className:"font-bold",style:{fontSize:`${F.fontSizeYear}px`},children:a}),c("div",{className:"text-xs font-semibold uppercase tracking-wider",style:{fontSize:`${F.fontSizeYearLabel}px`},children:"Ano"})]})}),Ht.map(N=>{const z=N.turmas.filter(B=>y.turmas[B.id]);if(z.length===0)return null;const W=z[0],A=Ae.findIndex(B=>B.id===W.id)+3;return c("div",{className:"sticky top-0 z-30 bg-slate-200 text-slate-800 flex items-center justify-center font-bold p-2 uppercase tracking-wider border-b-2 border-slate-300",style:{gridColumn:`${A} / span ${z.length}`,height:`${F.headerHeight}px`,fontSize:`${F.fontSizeHeader}px`},children:c("span",{className:"truncate",title:N.nome,children:N.nome})},N.id)}),Ae.map((N,z)=>c("div",{className:`sticky z-20 bg-slate-100 text-slate-600 flex items-center justify-center font-semibold p-2 border-b border-slate-300 ${Tn.has(N.id)?"border-r-2 border-r-slate-400":"border-r border-slate-300"}`,style:{gridColumn:z+3,top:`${F.headerHeight}px`,height:`${F.headerHeight}px`,fontSize:`${F.fontSizeTurmaHeader}px`},children:N.nome},N.id)),de.map((N,z)=>{if(Ye.length===0)return null;const W=z===de.length-1,A=Ye.filter((oe,q)=>{if(q===Ye.length-1)return!1;const le=Ke[Ke.length-1]===oe,Y=Je[Je.length-1]===oe;return le||Y}),B=Ye.length+A.length,G=Ye.flatMap((oe,q)=>{const le=Ke[Ke.length-1]===oe,Y=Je[Je.length-1]===oe,pe=le||Y,rt=q===Ye.length-1,J=[...[c("div",{className:"sticky z-20 bg-slate-50 p-1 text-center border-r border-slate-300 flex items-center justify-center border-b border-slate-300",style:{left:`${F.dayColWidth}px`,fontSize:`${F.fontSizeTime}px`},children:oe},`${N}_${oe}_time`),...Ae.map(Ct=>{const Ce=`${Ct.id}_${N}_${oe}`,Fe=Wn.get(Ce)||[],ae=Fe.find(ze=>!(ze.id.endsWith("-0")||ze.id.endsWith("-1"))),ce=Fe.find(ze=>ze.id.endsWith("-0")),kt=Fe.find(ze=>ze.id.endsWith("-1"));return c(Qm,{id:Ce,gridType:t,turma:Ct,fullSlot:ae,slot0:ce,slot1:kt,isLastInCourse:Tn.has(Ct.id),onOpenContextMenu:Ot,onSelectSlot:mt,selectedSlotId:D||null,hoveredProfessorId:e?_:null,onProfessorHover:e?Pe:ht,highlightStatus:U[Ce]||null,cellAlerts:Bt.get(Ce)||wi,subCellAlerts0:Bt.get(`${Ce}-0`)||wi,subCellAlerts1:Bt.get(`${Ce}-1`)||wi,highlightStatus0:U[`${Ce}-0`]||null,highlightStatus1:U[`${Ce}-1`]||null,scaledCellMinHeight:F.cellMinHeight,scaledCellFontSize:F.fontSizeCell},Ce)})]];if(pe&&!rt){const Ct=c("div",{style:{gridColumn:`2 / span ${1+Ae.length}`,height:`${F.periodSeparatorHeight}px`}},`${N}_${oe}_separator`);J.push(Ct)}return J});return k(Fn.Fragment,{children:[c("div",{className:"sticky left-0 z-30 bg-slate-200 py-2 text-center font-semibold border-r-2 border-slate-300 flex items-center justify-center capitalize [writing-mode:vertical-rl] rotate-180",style:{gridRow:`span ${B}`,fontSize:`${F.fontSizeHeader}px`},children:N}),c("div",{style:{display:"contents"},children:G}),!W&&k(Fn.Fragment,{children:[c("div",{className:"sticky left-0 z-30 bg-slate-300 border-b-2 border-r-2 border-slate-300",style:{gridColumn:"1",height:`${F.daySeparatorHeight}px`}}),c("div",{className:"bg-slate-300 border-b-2 border-slate-300",style:{gridColumn:`2 / span ${1+Ae.length}`,height:`${F.daySeparatorHeight}px`}})]})]},N)})]})}),c(Xm,{isOpen:x.isOpen,onClose:ee,x:x.x,y:x.y,items:Ue()})]})},Jm=({id:e,label:t,subLabel:n,isLocked:r=!1,isBeingDragged:o=!1})=>{const{dispatch:l}=Wl(),i=f=>{if(r){f.preventDefault();return}const[h,v]=e.split("|"),w={type:"SIDEBAR_ITEM",disciplinaId:h,professorId:v};f.dataTransfer.setData("application/json",JSON.stringify(w)),f.dataTransfer.effectAllowed="move",l({type:"DRAG_START",payload:w})},a=()=>{l({type:"DRAG_END"})},s="p-2 rounded-md shadow-sm transition-all duration-150";let p="";return o?p="opacity-40 border-dashed border-indigo-400 bg-white":r?p="opacity-50 cursor-not-allowed bg-gray-100 border border-gray-200":p="cursor-grab active:cursor-grabbing hover:bg-indigo-50 bg-white border border-gray-200",k("div",{draggable:!r,onDragStart:i,onDragEnd:a,className:`${s} ${p}`,children:[c("div",{className:"font-semibold text-sm text-gray-800",children:t}),c("p",{className:"text-xs text-gray-500",children:n})]})},Zm=Fn.memo(Jm),qm=(e,t)=>{const{disciplinas:n}=t,r=n.find(i=>i.id===e.disciplinaId);if(!r)return{finalDisciplinaId:e.disciplinaId,isSwap:!1};if(!(r.turmaId!==e.turmaId))return{finalDisciplinaId:e.disciplinaId,isSwap:!1};if(!!r.bnccId){const i=n.find(a=>a.turmaId===e.turmaId&&a.bnccId===r.bnccId);if(i)return{finalDisciplinaId:i.id,isSwap:!0}}return{finalDisciplinaId:e.disciplinaId,isSwap:!0}},eh=({gridType:e})=>{const{state:t,dispatch:n}=Cr(),{state:r,dispatch:o}=Wl(),{atribuicoes:l,disciplinas:i,professores:a,turmas:s}=t,{draggedItem:p}=r,[f,h]=b.useState("all"),[v,w]=b.useState(""),[g,S]=b.useState(!1),D=E=>{h(E.target.value)},m=E=>{var T;return((T=s.find(O=>O.id===E))==null?void 0:T.nome)||"N/A"},u=b.useMemo(()=>{const E={};return t.grade.forEach(T=>{const{finalDisciplinaId:O}=qm(T,t),R=T.professorId,j=t.turmas.find(F=>F.id===T.turmaId),X=j!=null&&j.isModular?1.25:1;E[O]||(E[O]={}),E[O][R]=(E[O][R]||0)+X}),E},[t]),d=b.useMemo(()=>s.filter(E=>E.isModular===(e==="modular")),[s,e]),C=b.useMemo(()=>l.flatMap(E=>{const T=i.find(R=>R.id===E.disciplinaId);if(!T)return[];const O=s.find(R=>R.id===T.turmaId);return!O||O.isModular!==(e==="modular")?[]:E.professores.map((R,j)=>({disciplina:T,professor:a.find(X=>X.id===R),turmaId:T.turmaId,assignmentIndex:j}))}).filter(E=>E.professor),[l,i,s,a,e]).filter(E=>{var T;return!(f!=="all"&&E.turmaId!==f||v.trim()!==""&&!((T=E.professor)!=null&&T.nome.toLowerCase().includes(v.toLowerCase())))});return k("div",{className:`p-4 h-full flex flex-col transition-colors duration-200 ${g?"bg-blue-200 border-2 border-dashed border-blue-500":"bg-gray-50"}`,onDragOver:E=>{E.preventDefault(),(p==null?void 0:p.type)==="GRID_ITEM"?(S(!0),E.dataTransfer.dropEffect="move"):E.dataTransfer.dropEffect="none"},onDragLeave:()=>{S(!1)},onDrop:E=>{E.preventDefault(),S(!1),(p==null?void 0:p.type)==="GRID_ITEM"&&p.sourceSlotId&&n({type:"UPDATE_GRADE",payload:{id:p.sourceSlotId,slot:null}}),o({type:"DRAG_END"})},children:[c("h2",{className:"text-lg font-bold mb-4",children:"Atribuies"}),k("div",{className:"mb-4 grid grid-cols-1 md:grid-cols-2 gap-4 items-end",children:[k("div",{children:[c("label",{htmlFor:"search-professor",className:"block text-sm font-medium text-gray-700",children:"Buscar Professor"}),c("input",{type:"text",id:"search-professor",value:v,onChange:E=>w(E.target.value),placeholder:"Digite o nome...",className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md"})]}),k("div",{children:[c("label",{htmlFor:"turma-filter",className:"block text-sm font-medium text-gray-700",children:"Filtrar por Turma"}),k("select",{id:"turma-filter",value:f,onChange:D,className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",children:[c("option",{value:"all",children:"Ver Todas"}),d.map(E=>c("option",{value:E.id,children:E.nome},E.id))]})]})]}),c("div",{className:"flex-1 overflow-y-auto space-y-2 pr-2",children:C.map(E=>{const{disciplina:T,professor:O,assignmentIndex:R}=E;if(!T||!O)return null;const j=u[T.id]&&u[T.id][O.id]||0,X=T.aulasSemanais,F=j>=X,ue=`${T.id}|${O.id}`,xe=`${T.id}|${O.id}|${R}`,L=(p==null?void 0:p.type)==="SIDEBAR_ITEM"&&p.disciplinaId===T.id&&p.professorId===O.id,H=k("span",{children:[T.nome,T.bnccId&&c("span",{className:"text-xs bg-pink-100 text-pink-800 font-semibold ml-2 px-2 py-0.5 rounded-full align-middle",children:"BNCC"}),T.divisao&&k("span",{className:"text-xs bg-blue-100 text-blue-800 font-semibold ml-2 px-2 py-0.5 rounded-full align-middle",children:["Diviso (",T.numProfessores,")"]}),` (${j}/${X}) - ${O.nome}`]}),M=`Turma: ${m(T.turmaId)}`;return c(Zm,{id:ue,label:H,subLabel:M,isLocked:F,isBeingDragged:L},xe)})})]})},th=e=>{let t=0;for(let v=0;v<e.length;v++)t=e.charCodeAt(v)+((t<<5)-t);const n=t%360,r=70,o=50,l=(1-Math.abs(2*(o/100)-1))*(r/100),i=l*(1-Math.abs(n/60%2-1)),a=o/100-l/2;let s=0,p=0,f=0;0<=n&&n<60?(s=l,p=i,f=0):60<=n&&n<120?(s=i,p=l,f=0):120<=n&&n<180?(s=0,p=l,f=i):180<=n&&n<240?(s=0,p=i,f=l):240<=n&&n<300?(s=i,p=0,f=l):300<=n&&n<360&&(s=l,p=0,f=i),s=Math.round((s+a)*255),p=Math.round((p+a)*255),f=Math.round((f+a)*255);const h=v=>("0"+v.toString(16)).slice(-2);return`#${h(s)}${h(p)}${h(f)}`},nh=()=>{const{state:e}=Nn(),{onlineUsers:t}=e;if(t.length===0)return null;const n=at==null?void 0:at.currentUser,r=[...t].sort((o,l)=>o.id===(n==null?void 0:n.uid)?1:l.id===(n==null?void 0:n.uid)?-1:o.name.localeCompare(l.name));return c("div",{className:"flex items-center -space-x-2 pr-2",children:r.map(o=>k("div",{className:"group relative",children:[c("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-white font-bold text-sm ring-2 ring-white",style:{backgroundColor:th(o.id)},children:o.id===(n==null?void 0:n.uid)?"VC":o.name.charAt(0).toUpperCase()}),k("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 w-max bg-gray-800 text-white text-xs rounded py-1 px-2 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap",children:[o.id===(n==null?void 0:n.uid)?`${o.name} (Voc)`:o.name,c("svg",{className:"absolute text-gray-800 h-2 w-full left-0 top-full",x:"0px",y:"0px",viewBox:"0 0 255 255",children:c("polygon",{className:"fill-current",points:"0,0 127.5,127.5 255,0"})})]})]},o.id))})},rh=({status:e,lastModifiedBy:t,lastModifiedAt:n})=>{const o=(()=>{switch(e){case"saving":return{icon:k("svg",{className:"animate-spin h-5 w-5 text-gray-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),text:"Salvando...",textColor:"text-gray-500"};case"saved":return{icon:k("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:[c("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 15a4 4 0 004 4h9a5 5 0 10-.1-9.999 5.002 5.002 0 10-9.78 2.096A4.001 4.001 0 003 15z"}),c("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4"})]}),text:"Salvo",textColor:"text-green-600"};case"error":return{icon:k("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:[c("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 15a4 4 0 004 4h9a5 5 0 10-.1-9.999 5.002 5.002 0 10-9.78 2.096A4.001 4.001 0 003 15z"}),c("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 13V9.5m0 6.5v.01"})]}),text:"Erro ao salvar",textColor:"text-red-600"};default:return null}})();if(!o)return null;const l=e==="saved"&&t&&n?`(por ${t} s ${new Date(n).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})`:null;return k("div",{className:"flex items-center space-x-2",children:[o.icon,c("span",{className:`text-sm font-medium ${o.textColor}`,children:o.text}),l&&c("span",{className:"text-xs text-gray-500 whitespace-nowrap",children:l})]})},Ne={title:{font:{name:"Calibri",size:18,bold:!0,color:{argb:"FFFFFFFF"}},fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FF2F5496"}},alignment:{horizontal:"center",vertical:"middle"}},curso:{font:{name:"Calibri",size:12,bold:!0},fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FFAEC6CF"}},alignment:{horizontal:"center",vertical:"middle"},border:{top:{style:"medium"},bottom:{style:"medium"},left:{style:"medium"},right:{style:"medium"}}},turma:{font:{name:"Calibri",size:11,bold:!0},fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FF8EA9DB"}},alignment:{horizontal:"center",vertical:"middle",wrapText:!0},border:{bottom:{style:"medium",color:{argb:"FF2F5496"}}}},day:{font:{name:"Calibri",size:12,bold:!0,color:{argb:"FF404040"}},fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FFE7E6E6"}},alignment:{horizontal:"center",vertical:"middle",textRotation:90},border:{right:{style:"medium",color:{argb:"FF2F5496"}}}},periodo:{font:{name:"Calibri",size:11,bold:!0,color:{argb:"FF404040"}},fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FFE7E6E6"}},alignment:{horizontal:"center",vertical:"middle",textRotation:90},border:{right:{style:"medium",color:{argb:"FF2F5496"}}}},time:{font:{name:"Calibri",size:10,bold:!0,color:{argb:"FF404040"}},fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FFE7E6E6"}},alignment:{horizontal:"center",vertical:"middle"},border:{right:{style:"medium",color:{argb:"FF2F5496"}}}},cell_white:{font:{name:"Calibri",size:9},alignment:{horizontal:"center",vertical:"middle",wrapText:!0},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}},fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FFFFFFFF"}}},cell_gray:{font:{name:"Calibri",size:9},alignment:{horizontal:"center",vertical:"middle",wrapText:!0},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}},fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FFF2F2F2"}}},disabledCell:{fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FFD9D9D9"}},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}}}},Du=(e,t,n,r)=>{const{ano:o,cursos:l,turmas:i,grade:a,disciplinas:s,professores:p}=t,f=i.filter(x=>x.isModular===(n==="modular")).sort((x,I)=>{var T,O;const _=((T=l.find(R=>R.id===x.cursoId))==null?void 0:T.nome)||"",E=((O=l.find(R=>R.id===I.cursoId))==null?void 0:O.nome)||"";return _.localeCompare(E)!==0?_.localeCompare(E):x.nome.localeCompare(I.nome)});if(f.length===0)return;const h=l.map(x=>({...x,turmas:f.filter(I=>I.cursoId===x.id)})).filter(x=>x.turmas.length>0),v=new Map;a.forEach(x=>{const I=`${x.turmaId}_${x.dia}_${x.horario}`;v.has(I)||v.set(I,[]),v.get(I).push(x)});const w=e.addWorksheet(r),g=w.addRow([`Grade de Horrios ${o}`]);g.height=24,w.mergeCells(1,1,1,3+f.length),w.getCell("A1").style=Ne.title;const S=[null,null,null];h.forEach(x=>{S.push(x.nome);for(let I=1;I<x.turmas.length;I++)S.push(null)});const D=w.addRow(S);D.height=20;let m=4;h.forEach(x=>{if(x.turmas.length>0){x.turmas.length>1&&w.mergeCells(2,m,2,m+x.turmas.length-1);for(let I=0;I<x.turmas.length;I++)w.getCell(2,m+I).style=Ne.curso;m+=x.turmas.length}});const u=w.addRow(["Dia","Perodo","Horrio",...f.map(x=>x.nome)]);u.height=35,u.getCell(1).style={...Ne.day,alignment:{...Ne.day.alignment,textRotation:0}},u.getCell(2).style={...Ne.periodo,alignment:{...Ne.periodo.alignment,textRotation:0}},u.getCell(3).style=Ne.time;for(let x=4;x<=u.cellCount;x++)u.getCell(x).style=Ne.turma;const y=[{name:"Manh",horarios:Ke},{name:"Tarde",horarios:Je},{name:"Noite",horarios:n==="modular"?So:xo}];let C=!1;de.forEach((x,I)=>{const _=w.rowCount+1;if(y.forEach((E,T)=>{if(E.horarios.length===0)return;const O=w.rowCount+1;if(E.horarios.forEach(j=>{const X=f.map(ue=>{if(n==="modular"&&j==="18:10-19:00")return null;const xe=`${ue.id}_${x}_${j}`,L=v.get(xe);return L?L.map(H=>{const M=s.find(ee=>ee.id===H.disciplinaId),K=p.find(ee=>ee.id===H.professorId);return`${(M==null?void 0:M.nome)||"?"}
${(K==null?void 0:K.nome)||"?"}`}).join(`

`):""}),F=w.addRow([null,null,j,...X]);F.height=50,F.getCell(3).style=Ne.time;for(let ue=4;ue<=F.cellCount;ue++)F.getCell(ue).style=F.getCell(ue).value===null?Ne.disabledCell:C?Ne.cell_gray:Ne.cell_white;C=!C}),E.horarios.length>0){const j=w.getCell(O,2);j.value=E.name,j.style=Ne.periodo,E.horarios.length>1&&w.mergeCells(O,2,w.rowCount,2)}if(y.slice(T+1).some(j=>j.horarios.length>0)){const j=w.addRow([]);j.height=3;for(let X=3;X<=3+f.length;X++){const F=j.getCell(X);F.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFC5D4EA"}}}}}),w.rowCount>=_){const E=w.getCell(_,1);E.value=x.charAt(0).toUpperCase()+x.slice(1),E.style=Ne.day,w.rowCount>_&&w.mergeCells(_,1,w.rowCount,1)}if(I<de.length-1){const E=w.addRow([]);E.height=5;for(let T=1;T<=3+f.length;T++)E.getCell(T).fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF2F5496"}}}}),w.columns=[{width:8},{width:10},{width:15},...Array(f.length).fill({width:25})],w.views=[{state:"frozen",xSplit:3,ySplit:3}]},oh=e=>{const t=new Au.Workbook;return t.creator="Timetable Scheduler",t.created=new Date,Du(t,e,"regular","Grade Regular"),Du(t,e,"modular","Grade Modular"),t.worksheets.length===0?{workbook:null,error:"No h dados para exportar."}:{workbook:t}},Ph=(e,t)=>{const{professores:n,grade:r,turmas:o,disciplinas:l}=e,i=n.find(u=>u.id===t);if(!i)return{workbook:null,error:"Professor no encontrado."};const a=new Au.Workbook;a.creator="Timetable Scheduler",a.created=new Date;const s=a.addWorksheet(i.nome.substring(0,31)),p=r.filter(u=>u.professorId===t),f=p.reduce((u,d)=>{const y=o.find(C=>C.id===d.turmaId);return u+(y!=null&&y.isModular?1.25:1)},0),h={};p.forEach(u=>{var d,y;h[u.dia]||(h[u.dia]={}),h[u.dia][u.horario]={turma:((d=o.find(C=>C.id===u.turmaId))==null?void 0:d.nome)||"?",disciplina:((y=l.find(C=>C.id===u.disciplinaId))==null?void 0:y.nome)||"?"}}),s.mergeCells("A1:F1");const v=s.getCell("A1");v.value=i.nome,v.style=Ne.title,s.mergeCells("A2:F2");const w=s.getCell("A2");w.value=`Total de Aulas Semanais: ${f}`,w.style={font:{bold:!0},alignment:{horizontal:"center"}},s.addRow(["Horrio",...de.map(u=>u.charAt(0).toUpperCase()+u.slice(1))]).eachCell(u=>{u.style=Ne.turma,u.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFC5D4EA"}}});const S=[...new Set([...Ke,...Je,...xo,...So])].sort();S.forEach((u,d)=>{const y=[u];de.forEach(E=>{var O;const T=(O=h[E])==null?void 0:O[u];y.push(T?`${T.disciplina}
${T.turma}`:"")});const C=s.addRow(y);C.getCell(1).style=Ne.time;for(let E=2;E<=6;E++)C.getCell(E).style=Ne.cell_white;C.height=30;const x=Ke[Ke.length-1]===u,I=Je[Je.length-1]===u,_=d===S.length-1;if((x||I)&&!_){const E=s.addRow([]);E.height=3;for(let T=1;T<=1+de.length;T++){const O=E.getCell(T);O.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFC5D4EA"}}}}});const D=de.map(u=>p.filter(d=>d.dia===u).reduce((d,y)=>{var C;return d+((C=o.find(x=>x.id===y.turmaId))!=null&&C.isModular?1.25:1)},0));return s.addRow(["Carga Diria",...D]).eachCell(u=>{u.style={...Ne.turma,font:{...Ne.turma.font,bold:!0}}}),s.columns=[{width:15},{width:25},{width:25},{width:25},{width:25},{width:25}],{workbook:a}},Ah=(e,t,n,r)=>{if(!e||!t||!n||!r)return{doc:null,error:"Dados incompletos para gerar o PDF."};const o=t.filter(E=>E.professorId===e.id),l=o.reduce((E,T)=>{const O=n.find(R=>R.id===T.turmaId);return E+(O!=null&&O.isModular?1.25:1)},0),i=de.reduce((E,T)=>(E[T]=o.filter(O=>O.dia===T).reduce((O,R)=>{const j=n.find(X=>X.id===R.turmaId);return O+(j!=null&&j.isModular?1.25:1)},0),E),{}),a={};o.forEach(E=>{var R,j;a[E.dia]||(a[E.dia]={});const T=((R=n.find(X=>X.id===E.turmaId))==null?void 0:R.nome)||"N/A",O=((j=r.find(X=>X.id===E.disciplinaId))==null?void 0:j.nome)||"N/A";a[E.dia][E.horario]={turma:T,disciplina:O}});const s=[...new Set([...xo,...So])].sort(),p=[{label:"Manh",horarios:Ke},{label:"Tarde",horarios:Je},{label:"Noite",horarios:s}],f=new Lu({orientation:"landscape",unit:"pt",format:"a4"}),h=f.internal.pageSize.getWidth(),v=f.internal.pageSize.getHeight(),w=30;let g={titleFontSize:16,subtitleFontSize:10,headerFontSize:9,periodFontSize:8,cellFontSize:8,footerFontSize:9,titleSpacing:18,subtitleSpacing:25,headerRowH:20,regularRowH:32,periodSeparatorH:5,periodHeaderH:15,footerSpacing:5},S=w;S+=g.titleSpacing,S+=g.subtitleSpacing,S+=g.headerRowH,p.forEach(E=>{E.horarios.length>0&&(S+=g.periodSeparatorH,S+=g.periodHeaderH,S+=E.horarios.length*g.regularRowH)}),S+=g.footerSpacing,S+=g.headerRowH,S+=w;const D=v;let m=1;S>D&&(m=D/S);const u=w*Math.min(m,1),d=h-u*2;for(const E in g)g[E]*=m;let y=u;f.setFont("helvetica","bold"),f.setFontSize(g.titleFontSize),f.text(e.nome,h/2,y,{align:"center"}),y+=g.titleSpacing,f.setFont("helvetica","normal"),f.setFontSize(g.subtitleFontSize),f.text(`Total de Aulas Semanais: ${l}`,h/2,y,{align:"center"}),y+=g.subtitleSpacing;const C=65*Math.min(m,1),x=(d-C)/de.length;f.setFillColor(230,230,230),f.rect(u,y,d,g.headerRowH,"F"),f.setFont("helvetica","bold"),f.setFontSize(g.headerFontSize),f.setDrawColor(180,180,180),f.rect(u,y,d,g.headerRowH);const I=y+g.headerRowH/2+g.headerFontSize*.35;f.text("Horrio",u+C/2,I,{align:"center"}),de.forEach((E,T)=>{const O=u+C+T*x+x/2;f.text(E.charAt(0).toUpperCase()+E.slice(1),O,I,{align:"center"});const R=u+C+T*x;f.line(R,y,R,y+g.headerRowH)}),y+=g.headerRowH,p.forEach(E=>{E.horarios.length>0&&(y+=g.periodSeparatorH,f.setFillColor(240,240,240),f.rect(u,y,d,g.periodHeaderH,"F"),f.setFont("helvetica","bold"),f.setFontSize(g.periodFontSize),f.text(E.label,u+5,y+g.periodHeaderH/2,{baseline:"middle"}),y+=g.periodHeaderH,E.horarios.forEach(T=>{const O=y;f.setDrawColor(220,220,220),f.rect(u,O,d,g.regularRowH),f.setFont("helvetica","normal"),f.setFontSize(g.cellFontSize),f.text(T,u+C/2,O+g.regularRowH/2,{align:"center",baseline:"middle"}),f.line(u+C,O,u+C,O+g.regularRowH),de.forEach((R,j)=>{var ue;const X=(ue=a[R])==null?void 0:ue[T],F=u+C+j*x;if(X){f.setFillColor(232,242,255),f.rect(F,O,x,g.regularRowH,"F");const xe=O+g.regularRowH/2-g.cellFontSize*.2,L=xe+g.cellFontSize*1.1,H=x-6;let M=X.disciplina;if(f.setFont("helvetica","bold"),f.setFontSize(g.cellFontSize),f.getTextWidth(M)>H){for(;M.length>0&&f.getTextWidth(M+"...")>H;)M=M.slice(0,-1);M+="..."}f.text(M,F+x/2,xe,{align:"center"});let K=X.turma;if(f.setFont("helvetica","normal"),f.getTextWidth(K)>H){for(;K.length>0&&f.getTextWidth(K+"...")>H;)K=K.slice(0,-1);K+="..."}f.text(K,F+x/2,L,{align:"center"})}f.line(F,O,F,O+g.regularRowH)}),y+=g.regularRowH}))}),y+=g.footerSpacing,f.setFillColor(230,230,230),f.rect(u,y,d,g.headerRowH,"F"),f.setFont("helvetica","bold"),f.setFontSize(g.footerFontSize),f.setDrawColor(180,180,180),f.rect(u,y,d,g.headerRowH);const _=y+g.headerRowH/2+g.footerFontSize*.35;return f.text("Carga Diria",u+C/2,_,{align:"center"}),de.forEach((E,T)=>{const O=u+C+T*x+x/2;f.text(String(i[E]||0),O,_,{align:"center"});const R=u+C+T*x;f.line(R,y,R,y+g.headerRowH)}),{doc:f}},lh=e=>{const t=new Map,n=new Map,r=new Map,o=[...e].sort((i,a)=>i.nome.localeCompare(a.nome));for(const i of o){const a=new Set(["de","da","do","dos","das"]),s=i.nome.trim().split(" ").filter(f=>!a.has(f.toLowerCase()));let p="??";if(s.length>0){const f=s[0].charAt(0).toUpperCase(),h=s.length>1?s[s.length-1].charAt(0).toUpperCase():"";p=`${f}${h}`}n.set(p,(n.get(p)||0)+1),r.set(i.nome,p)}const l=new Map;for(const i of o){const a=r.get(i.nome),s=n.get(a);let p=a;if(s>1){const h=(l.get(a)||0)+1;h>1&&(p=`${a}${h}`),l.set(a,h)}t.set(i.id,p)}return t},ih=e=>{const t=new Map,n=new Set;for(const r of e){if(n.has(r.nome))continue;const l=r.nome.trim().split(" ").filter(a=>a.length>0);let i="???";l.length>1?i=l.map(a=>a.charAt(0)).join("").toUpperCase():l.length===1&&l[0].length>0&&(i=l[0].substring(0,3).toUpperCase()),i.length>5&&(i=i.substring(0,5)),t.set(r.nome,i),n.add(r.nome)}return t},bu=(e,t,n,r)=>{const i=n.w-12,a=n.h-n.h*.1;if(i<=0||a<4)return;let s=Math.min(r,a),p=t;for(;s>4&&(e.setFontSize(s),!(e.getTextWidth(p)<i));)s-=.25;if(e.setFontSize(4),e.getTextWidth(t)>i){let h=t;for(;h.length>0&&e.getTextWidth(h+"...")>i;)h=h.slice(0,-1);p=h+"..."}const f=Math.max(s,4);e.setFontSize(f),e.setFont("helvetica","bold"),e.text(p,n.x+n.w/2,n.y+n.h/2,{align:"center",baseline:"middle",maxWidth:i})},ah=(e,t,n,r,o,l,i,a,s,p,f)=>{const h=e.internal.pageSize.getWidth(),v=e.internal.pageSize.getHeight()-i;e.setFontSize(a*.6),e.setFont("helvetica","bold"),e.setTextColor(0,0,0);const w=n>1?`(Pgina ${t+1} de ${n})`:"";if(e.text(`Grade de Horrios ${l} - ${o} ${w}`,h/2,i,{align:"center"}),e.setFontSize(a*.4),e.setFont("helvetica","italic"),e.setTextColor(100,100,100),r.length>0){const g=r[0].nome,S=r[r.length-1].nome,D=`Exibindo turmas: ${g} a ${S}`;e.text(D,h/2,i+a*.5,{align:"center"})}if(e.setFontSize(s*.4),e.setFont("helvetica","normal"),e.setTextColor(150,150,150),e.text(`Gerado em: ${new Date().toLocaleString("pt-BR")}`,i,v+s*.6),n>1&&e.text("Instrues: Para montar, imprima todas as pginas e alinhe as guias pontilhadas laterais.",h/2,v+s*.6,{align:"center"}),n>1){if(e.setLineDashPattern([2,2],0),e.setDrawColor(180,180,180),e.setLineWidth(.5),t<n-1){const g=h-i;e.line(g,p,g,f),e.setFontSize(s*.45),e.setTextColor(150,150,150),e.text(`Continua na Pg. ${t+2} ->`,g-5,p+10,{align:"right",angle:90})}if(t>0){const g=i;e.line(g,p,g,f),e.setFontSize(s*.45),e.setTextColor(150,150,150),e.text(`<- Vem da Pg. ${t}`,g+5,f-10,{align:"left",angle:90})}e.setLineDashPattern([],0),e.setTextColor(0,0,0)}},sh=(e,t)=>{if(!e||!e.grade||!e.turmas)return{doc:null,error:"Dados incompletos para gerar o PDF da grade."};const{ano:n,cursos:r,turmas:o,grade:l,disciplinas:i,professores:a}=e,s=o.filter(U=>U.isModular===(t==="modular")).sort((U,N)=>{var A,B;const z=((A=r.find(G=>G.id===U.cursoId))==null?void 0:A.nome)||"",W=((B=r.find(G=>G.id===N.cursoId))==null?void 0:B.nome)||"";return z.localeCompare(W)!==0?z.localeCompare(W):U.nome.localeCompare(N.nome)});if(s.length===0)return{doc:null,error:`Nenhuma turma para a grade ${t==="regular"?"Regular":"Modular"}.`};const p=new Set,f=new Set,h=new Set(s.map(U=>U.id));l.forEach(U=>{h.has(U.turmaId)&&(p.add(U.professorId),f.add(U.disciplinaId))});const v=e.professores.filter(U=>p.has(U.id)),w=e.disciplinas.filter(U=>f.has(U.id)),g=lh(v),S=ih(w),D=s.filter(U=>U.periodo!=="noite"),m=s.filter(U=>U.periodo==="noite"),u=new Map;l.forEach(U=>{const N=`${U.turmaId}_${U.dia}_${U.horario}`;u.has(N)||u.set(N,[]),u.get(N).push(U)});const d=new Lu({orientation:"landscape",unit:"pt",format:"a3"}),y=d.internal.pageSize.getWidth(),C=d.internal.pageSize.getHeight(),x=30,I={title:14,header:11,cell:9,dividedCell:8},_={titleHeader:25,titleSubheader:15,footer:20,curso:18,turma:45,cell:35,periodSeparator:3,daySeparator:5},E={day:40,period:40,time:60,turma:90},T=E.day+E.period+E.time,O=y-x*2-T,R=Math.max(1,Math.floor(O/E.turma)),j=[];for(let U=0;U<D.length;U+=R)j.push(D.slice(U,U+R));const X=[];for(let U=0;U<m.length;U+=R)X.push(m.slice(U,U+R));const F=j.length+X.length;if(F===0)return{doc:null,error:`Nenhuma aula encontrada para a grade ${t==="regular"?"Regular":"Modular"}.`};const ue=F+1;let xe=0;const L=(U,N,z)=>{U.length!==0&&U.forEach(W=>{xe>0&&d.addPage();let A=0;de.forEach((ae,ce)=>{N.forEach((kt,ze)=>{kt.horarios.length!==0&&(A+=kt.horarios.length*_.cell,N.slice(ze+1).some(Ut=>Ut.horarios.length>0)&&(A+=_.periodSeparator))}),ce<de.length-1&&(A+=_.daySeparator)});const G=_.curso+_.turma+A,oe=_.titleHeader+_.titleSubheader+_.footer+20,q=C-x*2-oe;let le=Math.min(1,q/G);le<1&&(le=le*.95);const Y={..._};for(const ae in Y)Y[ae]*=le;const pe={...I};for(const ae in pe)pe[ae]*=le;const rt=`${t==="regular"?"Grade Regular":"Grade Modular"} - ${z}`,Q=x+Y.titleHeader+Y.titleSubheader,te=Q+G*le;ah(d,xe,ue,W,rt,n,x,Y.titleHeader,Y.footer,Q,te);let V=Q;d.setFont("helvetica","bold"),d.setDrawColor(150);let J=x+T;const Ct=new Set(W.map(ae=>ae.id));r.map(ae=>({...ae,turmas:o.filter(ce=>ce.cursoId===ae.id&&Ct.has(ce.id))})).filter(ae=>ae.turmas.length>0).forEach(ae=>{const ce=ae.turmas.length*E.turma;d.setFillColor(220,220,220),d.rect(J,V,ce,Y.curso,"FD"),d.setFontSize(pe.header*1.2),d.setFont("helvetica","bold"),d.text(ae.nome,J+ce/2,V+Y.curso/2,{align:"center",baseline:"middle",maxWidth:ce-4}),J+=ce}),J=x+T,W.forEach(ae=>{d.setFillColor(235,235,235),d.setTextColor(0,0,0),d.rect(J,V+Y.curso,E.turma,Y.turma,"FD"),d.setFontSize(pe.header*1.1),d.setFont("helvetica","bold");const ce=d.splitTextToSize(ae.nome,E.turma-4);d.text(ce,J+E.turma/2,V+Y.curso+Y.turma/2,{align:"center",baseline:"middle"}),J+=E.turma});const Fe=Y.curso+Y.turma;d.setFillColor(220,220,220),d.rect(x,V,T,Fe,"FD"),d.setFontSize(pe.header*1.15),d.setFont("helvetica","bold"),d.text("Dia",x+E.day/2,V+Fe/2,{align:"center",baseline:"middle"}),d.text("Perodo",x+E.day+E.period/2,V+Fe/2,{align:"center",baseline:"middle"}),d.text("Horrio",x+E.day+E.period+E.time/2,V+Fe/2,{align:"center",baseline:"middle"}),V+=Fe,de.forEach((ae,ce)=>{const kt=V;N.forEach((Ut,Vl)=>{if(Ut.horarios.length===0)return;const Vn=V;Ut.horarios.forEach(Wt=>{d.setFontSize(pe.header),d.setFont("helvetica","bold"),d.setFillColor(245,245,245),d.setDrawColor(200),d.rect(x+E.day+E.period,V,E.time,Y.cell,"FD"),d.text(Wt,x+E.day+E.period+E.time/2,V+Y.cell/2,{align:"center",baseline:"middle"});let Nt=x+T;W.forEach(Eo=>{const Qn=t==="modular"&&Wt==="18:10-19:00";if(d.setDrawColor(200),Qn){d.setFillColor(220,220,220),d.rect(Nt,V,E.turma,Y.cell,"FD");const ke=4*le;d.line(Nt+ke,V+ke,Nt+E.turma-ke,V+Y.cell-ke),d.line(Nt+E.turma-ke,V+ke,Nt+ke,V+Y.cell-ke)}else{const ke=u.get(`${Eo.id}_${ae}_${Wt}`);if(d.setFillColor(255,255,255),d.rect(Nt,V,E.turma,Y.cell,"FD"),ke&&ke.length>0){const Tr=i.find(gt=>gt.id===ke[0].disciplinaId),hs=Tr&&S.get(Tr.nome)||"???";if(ke.length===1){const gt=g.get(ke[0].professorId)||"??";bu(d,`${hs} - ${gt}`,{x:Nt,y:V,w:E.turma,h:Y.cell},pe.cell)}else{const gt=ke.sort((In,tn)=>In.id.localeCompare(tn.id)),Ir=E.turma/gt.length;let _r=pe.dividedCell;gt.length===2?_r*=.7:gt.length===3?_r*=.55:gt.length>=4&&(_r*=.45),console.log(`Divises: ${gt.length}, Largura sub-clula: ${Ir.toFixed(2)}, Fonte inicial: ${_r.toFixed(2)}`);const qd=gt.length>2?(In,tn)=>`${In}${tn}`:(In,tn)=>`${In} - ${tn}`;gt.forEach((In,tn)=>{const ef=g.get(In.professorId)||"??",tf=qd(hs,ef),Gl=Nt+tn*Ir,nf={x:Gl,y:V,w:Ir,h:Y.cell};bu(d,tf,nf,_r),tn<gt.length-1&&(d.setDrawColor(200),d.setLineWidth(.5),d.line(Gl+Ir,V,Gl+Ir,V+Y.cell))})}}}Nt+=E.turma}),V+=Y.cell});const Gn=V-Vn;Gn>0&&(d.setFillColor(240,240,240),d.setDrawColor(150),d.rect(x+E.day,Vn,E.period,Gn,"FD"),d.text(Ut.name,x+E.day+E.period/2,Vn+Gn/2,{align:"center",baseline:"middle",angle:90})),N.slice(Vl+1).some(Wt=>Wt.horarios.length>0)&&(d.setFillColor(200,200,200),d.rect(x,V,y-x*2,Y.periodSeparator,"F"),V+=Y.periodSeparator)});const ze=V-kt;ze>0&&(d.setFillColor(230,230,230),d.setDrawColor(150),d.rect(x,kt,E.day,ze,"FD"),d.text(ae.charAt(0).toUpperCase()+ae.slice(1),x+E.day/2,kt+ze/2,{align:"center",baseline:"middle",angle:90})),ce<de.length-1&&(d.setFillColor(150,150,150),d.rect(x,V,y-x*2,Y.daySeparator,"F"),V+=Y.daySeparator)}),xe++})},H=[{name:"Manh",horarios:Ke},{name:"Tarde",horarios:Je}],K=[{name:"Noite",horarios:t==="modular"?So:xo}];L(j,H,"Diurno"),L(X,K,"Noturno"),d.addPage("a3","landscape");let ee=x;d.setFontSize(16),d.setFont("helvetica","bold"),d.text("Legenda de Siglas",y/2,ee,{align:"center"}),ee+=30;const Ot=x,Ue=y/3+x,mt=y/3*2+x,Pe=y/3-x-10,ht=8,Rt=ht*1.3;d.setFontSize(12),d.setFont("helvetica","bold"),d.text("Disciplinas",Ot,ee),d.text("Professores",Ue,ee),ee+=20;const kr=[...S.entries()].sort((U,N)=>U[0].localeCompare(N[0])),Ye=[...v].sort((U,N)=>U.nome.localeCompare(N.nome));let Ae=ee,Nr=ee,Ht=ee;const Tn=Math.ceil(Ye.length/2),Wn=Ye.slice(0,Tn),Bt=Ye.slice(Tn);d.setFontSize(ht),d.setFont("helvetica","normal");for(const[U,N]of kr){const z=`${N}: ${U}`,W=d.splitTextToSize(z,Pe);d.text(W,Ot,Ae),Ae+=W.length*Rt}for(const U of Wn){const N=g.get(U.id)||"??";d.text(`${N}: ${U.nome}`,Ue,Nr,{maxWidth:Pe}),Nr+=Rt}for(const U of Bt){const N=g.get(U.id)||"??";d.text(`${N}: ${U.nome}`,mt,Ht,{maxWidth:Pe}),Ht+=Rt}return{doc:d}},uh=({currentView:e,setCurrentView:t,activeGrid:n,isFocusModeEnabled:r,onFocusModeChange:o,onOpenClearDataModal:l,onOpenLoadExampleModal:i})=>{const{state:a,dispatch:s}=Cr(),{state:p,dispatch:f}=Nn(),h=()=>{const d=JSON.stringify(a,null,2),y="data:application/json;charset=utf-8,"+encodeURIComponent(d),C="grade_horarios.json",x=document.createElement("a");x.setAttribute("href",y),x.setAttribute("download",C),x.click()},v=()=>{const{grade:d,turmas:y,disciplinas:C,professores:x}=a,I="Turma,Dia,Horario,Disciplina,Professor",_=d.map(j=>{var xe,L,H;const X=((xe=y.find(M=>M.id===j.turmaId))==null?void 0:xe.nome)||j.turmaId,F=((L=C.find(M=>M.id===j.disciplinaId))==null?void 0:L.nome)||j.disciplinaId,ue=((H=x.find(M=>M.id===j.professorId))==null?void 0:H.nome)||j.professorId;return[X,j.dia,j.horario,`"${F}"`,`"${ue}"`].join(",")}),E=[I,..._].join(`
`),T=new Blob([`\uFEFF${E}`],{type:"text/csv;charset=utf-8;"}),O=URL.createObjectURL(T),R=document.createElement("a");R.setAttribute("href",O),R.setAttribute("download","grade_horarios.csv"),R.click(),URL.revokeObjectURL(O)},w=()=>{f({type:"SHOW_TOAST",payload:"Gerando arquivo XLSX..."}),setTimeout(()=>{try{const{workbook:d,error:y}=oh(a);if(y){f({type:"SHOW_TOAST",payload:y});return}d&&d.xlsx.writeBuffer().then(C=>{const x=new Blob([C],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),I=URL.createObjectURL(x),_=document.createElement("a");_.setAttribute("href",I),_.setAttribute("download","grade_horarios.xlsx"),document.body.appendChild(_),_.click(),document.body.removeChild(_),URL.revokeObjectURL(I),f({type:"SHOW_TOAST",payload:"Exportao para XLSX concluda!"})}).catch(C=>{console.error("Error writing XLSX buffer:",C),f({type:"SHOW_TOAST",payload:"Erro ao gerar o arquivo XLSX."})})}catch(d){console.error("Error generating XLSX file:",d),f({type:"SHOW_TOAST",payload:"Erro ao gerar o arquivo XLSX."})}},50)},g=()=>{e==="grid"&&(f({type:"SHOW_TOAST",payload:"Gerando arquivo PDF..."}),setTimeout(()=>{try{const{doc:d,error:y}=sh(a,n);if(y||!d){f({type:"SHOW_TOAST",payload:y||"Erro ao gerar PDF."});return}const C=`grade_${n}.pdf`;d.save(C),f({type:"SHOW_TOAST",payload:"Exportao para PDF concluda!"})}catch(d){console.error("Error generating PDF:",d),f({type:"SHOW_TOAST",payload:"Erro ao gerar o arquivo PDF."})}},50))},S=d=>{const y=new FileReader;d.target.files&&d.target.files[0]&&(y.readAsText(d.target.files[0],"UTF-8"),y.onload=C=>{if(C.target&&typeof C.target.result=="string")try{const x=JSON.parse(C.target.result);x.version&&x.cursos?(s({type:"SET_STATE",payload:x}),f({type:"SHOW_TOAST",payload:"Arquivo importado com sucesso!"})):f({type:"SHOW_TOAST",payload:"Arquivo JSON invlido."})}catch{f({type:"SHOW_TOAST",payload:"Erro ao processar o arquivo JSON."})}},d.target.value="")},D="px-4 py-2 text-sm font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500",m="bg-indigo-600 text-white",u="bg-gray-200 text-gray-700 hover:bg-gray-300";return c(dn,{children:k("div",{className:"flex items-center justify-between p-2 bg-white",children:[k("div",{className:"flex items-center space-x-4",children:[c("h1",{className:"text-xl font-bold text-gray-700",children:"Construtor de Horrio"}),k("div",{className:"flex items-center bg-gray-200 rounded-md p-1",role:"tablist","aria-label":"Navegao principal",children:[c("button",{onClick:()=>t("dashboard"),role:"tab","aria-selected":e==="dashboard",className:`${D} ${e==="dashboard"?m:u}`,children:"Painel"}),c("button",{onClick:()=>t("grid"),role:"tab","aria-selected":e==="grid",className:`${D} ${e==="grid"?m:u}`,children:"Grade"}),c("button",{onClick:()=>t("management"),role:"tab","aria-selected":e==="management",className:`${D} ${e==="management"?m:u}`,children:"Gerenciamento"}),c("button",{onClick:()=>t("professor"),role:"tab","aria-selected":e==="professor",className:`${D} ${e==="professor"?m:u}`,children:"Professor"})]}),e==="grid"&&k("div",{className:"flex items-center space-x-2 ml-6",children:[c("label",{htmlFor:"focus-mode-toggle",className:"text-sm font-medium text-gray-700 select-none cursor-pointer",children:"Modo Foco"}),k("div",{className:"relative",children:[c("input",{id:"focus-mode-toggle",type:"checkbox",className:"sr-only",checked:r,onChange:d=>o(d.target.checked),"aria-label":"Ativar modo foco"}),c("div",{onClick:()=>o(!r),className:`block w-10 h-6 rounded-full transition-colors cursor-pointer ${r?"bg-indigo-600":"bg-gray-200"}`}),c("div",{className:`dot absolute left-1 top-1 bg-white w-4 h-4 rounded-full transition-transform ${r?"translate-x-4":""}`})]})]})]}),k("div",{className:"flex items-center flex-wrap gap-x-2 gap-y-1",children:[c(rh,{status:p.saveStatus,lastModifiedBy:a.lastModifiedBy,lastModifiedAt:a.lastModifiedAt}),c("div",{className:"w-px h-6 bg-gray-300 mx-2"}),c(nh,{}),c("div",{className:"w-px h-6 bg-gray-300 mx-2"}),c("button",{onClick:()=>f({type:"TOGGLE_ONBOARDING",payload:!0}),className:"p-2 rounded hover:bg-gray-200 focus:ring-2 focus:ring-indigo-500 focus:outline-none text-indigo-600",title:"Ajuda e Tutorial","aria-label":"Ajuda",children:c("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:c("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),c("button",{onClick:i,disabled:!0,className:"p-2 rounded hover:bg-gray-200 focus:ring-2 focus:ring-indigo-500 focus:outline-none disabled:opacity-50 disabled:cursor-not-allowed",title:"Carregar dados de demonstrao (Desabilitado)","aria-label":"Carregar dados de exemplo",children:c("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 pointer-events-none",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:c("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4M4 7v4c0 2.21 3.582 4 8 4s8-1.79 8-4V7"})})}),c("button",{onClick:l,className:"p-2 rounded hover:bg-gray-200 focus:ring-2 focus:ring-indigo-500 focus:outline-none",title:"Limpar todos os dados da aplicao","aria-label":"Apagar todos os dados",children:c("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 pointer-events-none",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:c("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),c("button",{onClick:()=>s({type:"UNDO"}),className:"p-2 rounded hover:bg-gray-200 focus:ring-2 focus:ring-indigo-500 focus:outline-none",title:"Desfazer (Ctrl+Z)","aria-label":"Desfazer ao",children:c("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 pointer-events-none",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 15l-3-3m0 0l3-3m-3 3h8a5 5 0 015 5v1"})})}),c("button",{onClick:()=>s({type:"REDO"}),className:"p-2 rounded hover:bg-gray-200 focus:ring-2 focus:ring-indigo-500 focus:outline-none",title:"Refazer (Ctrl+Y)","aria-label":"Refazer ao",children:c("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 pointer-events-none",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 15l3-3m0 0l-3-3m3 3H5a5 5 0 01-5-5v-1"})})}),k("label",{htmlFor:"import-json",className:"cursor-pointer p-2 rounded hover:bg-gray-200 focus-within:ring-2 focus-within:ring-indigo-500",title:"Restaurar backup (JSON)","aria-label":"Importar backup JSON",children:[c("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 pointer-events-none",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4 4m0 0L8 8m4-4v12"})}),c("input",{type:"file",id:"import-json",className:"hidden",accept:".json",onChange:S})]}),c("button",{onClick:h,className:"p-2 rounded hover:bg-gray-200 focus:ring-2 focus:ring-indigo-500 focus:outline-none",title:"Fazer backup dos dados (JSON)","aria-label":"Exportar backup JSON",children:c("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 pointer-events-none",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})})}),c("button",{onClick:v,className:"p-2 rounded hover:bg-gray-200 focus:ring-2 focus:ring-indigo-500 focus:outline-none",title:"Exportar dados brutos para planilha (CSV)","aria-label":"Exportar CSV",children:c("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-700 pointer-events-none",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:c("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),c("button",{onClick:w,className:"p-2 rounded hover:bg-gray-200 focus:ring-2 focus:ring-indigo-500 focus:outline-none",title:"Exportar grades formatadas para Excel (XLSX)","aria-label":"Exportar Excel (XLSX)",children:c("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-700 pointer-events-none",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:c("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 10h18M3 14h18m-9-4v8m-7 0h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),c("button",{onClick:g,disabled:e!=="grid",className:"p-2 rounded hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed focus:ring-2 focus:ring-indigo-500 focus:outline-none",title:"Exportar grade atual para PDF","aria-label":"Exportar PDF da grade",children:c("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-red-700 pointer-events-none",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:c("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})})]})]})})},ch=()=>k("div",{className:"px-4",children:[c("h3",{className:"text-sm font-semibold mb-2",children:"Legenda de Alertas:"}),k("div",{className:"flex flex-wrap gap-x-4 gap-y-2",children:[k("div",{className:"flex items-center space-x-2 text-xs",children:[c("span",{className:"w-4 h-4 rounded-full bg-green-200 border border-gray-300"}),c("span",{children:"Horrio Vlido (sem conflitos)"})]},"valid-slot"),Object.keys(Tl).map(e=>{const t=e,{bg:n,name:r}=Tl[t];return k("div",{className:"flex items-center space-x-2 text-xs",children:[c("span",{className:`w-4 h-4 rounded-full ${n}`}),c("span",{children:r})]},e)})]})]}),dh=({message:e,onClose:t})=>(b.useEffect(()=>{const n=setTimeout(()=>{t()},3e3);return()=>clearTimeout(n)},[t]),k("div",{className:"fixed bottom-5 left-1/2 -translate-x-1/2 z-50",children:[k("div",{className:"bg-gray-800 text-white font-bold py-2 px-4 rounded-lg shadow-lg flex items-center animate-fade-in-up",children:[c("span",{className:"mr-3",children:e}),c("button",{onClick:t,className:"text-gray-300 hover:text-white leading-none text-2xl",children:""})]}),c("style",{children:`
        @keyframes fade-in-up {
          0% { opacity: 0; transform: translate(-50%, 10px); }
          100% { opacity: 1; transform: translate(-50%, 0); }
        }
        .animate-fade-in-up { animation: fade-in-up 0.3s ease-out forwards; }
      `})]})),Jd=({isOpen:e,onClose:t,title:n,children:r,size:o="md",contentRef:l})=>{const i=b.useRef(null);if(b.useEffect(()=>{i.current=document.getElementById("modal-root")},[]),b.useEffect(()=>{const s=p=>{e&&p.key==="Escape"&&t()};return e&&document.addEventListener("keydown",s),()=>{document.removeEventListener("keydown",s)}},[e,t]),!e||!i.current)return null;const a={md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl","2xl":"max-w-2xl","3xl":"max-w-3xl","4xl":"max-w-4xl","5xl":"max-w-5xl"};return ps.createPortal(k("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",onClick:t,role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",children:[k("div",{className:`bg-white rounded-lg shadow-xl w-full ${a[o]} flex flex-col max-h-[90vh] animate-fade-in-up`,onClick:s=>s.stopPropagation(),children:[k("div",{className:"flex-shrink-0 flex justify-between items-center p-6 pb-4 border-b",children:[c("h3",{id:"modal-title",className:"text-lg font-medium text-gray-900",children:n}),c("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-indigo-500 rounded-md p-1","aria-label":"Fechar modal",children:c("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),c("div",{className:"overflow-y-auto p-6",ref:l,children:r})]}),c("style",{children:`
        @keyframes fade-in-up {
          0% { opacity: 0; transform: scale(0.95); }
          100% { opacity: 1; transform: scale(1); }
        }
        .animate-fade-in-up { animation: fade-in-up 0.2s ease-out forwards; }
      `})]}),i.current)},fh=({isOpen:e,onClose:t})=>{const{dispatch:n}=Cr(),[r,o]=b.useState(""),l=r==="DELETE";return b.useEffect(()=>{e||o("")},[e]),c(Jd,{isOpen:e,onClose:t,title:"Apagar Todos os Dados",children:k("div",{className:"space-y-4",children:[k("p",{className:"text-sm text-gray-700",children:[c("strong",{children:"Ateno:"})," Esta ao  irreversvel. Todos os cursos, turmas, disciplinas, professores, atribuies e a grade de horrios sero permanentemente apagados."]}),k("p",{className:"text-sm text-gray-700",children:["Para confirmar, por favor, digite ",c("strong",{children:"DELETE"})," no campo abaixo."]}),k("div",{children:[c("label",{htmlFor:"confirm-delete",className:"sr-only",children:"Confirmar excluso"}),c("input",{type:"text",id:"confirm-delete",value:r,onChange:a=>o(a.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",placeholder:"DELETE",autoComplete:"off"})]}),k("div",{className:"mt-4 flex justify-end space-x-2",children:[c("button",{type:"button",onClick:t,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300",children:"Cancelar"}),c("button",{type:"button",onClick:()=>{if(l)try{n({type:"CLEAR_DATA"})}finally{window.location.reload()}},disabled:!l,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:bg-red-300 disabled:cursor-not-allowed",children:"Apagar Tudo"})]})]})})},ph=({isOpen:e,onClose:t})=>{const{dispatch:n}=Cr(),{dispatch:r}=Nn();return c(Jd,{isOpen:e,onClose:t,title:"Carregar Dados de Exemplo",children:k("div",{className:"space-y-4",children:[k("p",{className:"text-sm text-gray-700",children:[c("strong",{children:"Ateno:"})," Esta ao ir substituir todos os dados atuais pelos dados de exemplo."]}),c("p",{className:"text-sm text-gray-700",children:"Qualquer trabalho no salvo ser perdido. Deseja continuar?"}),k("div",{className:"mt-4 flex justify-end space-x-2",children:[c("button",{type:"button",onClick:t,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300",children:"Cancelar"}),c("button",{type:"button",onClick:async()=>{try{const l=await fetch("/mock-data.json");if(!l.ok)throw new Error(`HTTP error! status: ${l.status}`);const i=await l.json();if(i&&i.version&&Array.isArray(i.cursos))n({type:"SET_STATE",payload:i}),r({type:"SHOW_TOAST",payload:"Dados de exemplo carregados com sucesso!"});else throw new Error("Arquivo de exemplo invlido.")}catch(l){console.error("Erro ao carregar dados de exemplo:",l),r({type:"SHOW_TOAST",payload:"Falha ao carregar dados de exemplo."})}finally{t()}},className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Carregar Exemplo"})]})]})})},Pu="app_has_seen_onboarding",Ho=({scenario:e})=>{const[t,n]=b.useState("sidebar"),[r,o]=b.useState({cell1:"Matemtica",cell2:"Histria"}),[l,i]=b.useState(!1),[a,s]=b.useState({top:!1,bottom:!1}),[p,f]=b.useState(!1);b.useEffect(()=>{n("sidebar"),o({cell1:"Matemtica",cell2:"Histria"}),i(!1),s({top:!1,bottom:!1}),f(!1)},[e]);const h=(u,d,y)=>{u.dataTransfer.setData("source",d),y&&u.dataTransfer.setData("payload",y),u.dataTransfer.effectAllowed="move"},v=u=>{u.preventDefault(),u.dataTransfer.dropEffect="move"},w=u=>{u.preventDefault(),n("cell1")},g=(u,d)=>{u.preventDefault();const y=u.dataTransfer.getData("source");y&&y!==d&&(o(C=>{const x=C[y],I=C[d];return{...C,[y]:I,[d]:x}}),i(!0),setTimeout(()=>i(!1),2e3))},S=(u,d)=>{u.preventDefault(),u.stopPropagation(),s(y=>({...y,[d]:!0}))},D=()=>{n("sidebar"),o({cell1:"Matemtica",cell2:"Histria"}),i(!1),s({top:!1,bottom:!1}),f(!1)};if(e==="bncc-manager")return k("div",{className:"border border-gray-300 rounded-lg overflow-hidden shadow-sm my-4 flex flex-col h-64 select-none bg-white text-left font-sans",children:[k("div",{className:"bg-white border-b border-gray-200 px-4 py-3 flex items-center justify-between shrink-0",children:[c("div",{className:"text-sm font-bold text-gray-800",children:"Gerenciar Grupos BNCC"}),c("div",{className:"text-gray-400 cursor-pointer hover:text-gray-600",children:""})]}),k("div",{className:"flex-1 p-3 bg-white grid grid-cols-2 gap-3 text-left overflow-hidden min-h-0",children:[k("div",{className:"bg-gray-50 p-2 rounded-lg border border-gray-200 shadow-inner flex flex-col h-full overflow-hidden",children:[c("h3",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-wider mb-2 shrink-0",children:"Sugestes de Agrupamento"}),c("div",{className:"flex-1 overflow-y-auto",children:p?c("div",{className:"text-[10px] text-gray-400 text-center mt-4 italic",children:"Nenhuma sugesto pendente."}):k("div",{className:"bg-white p-2 rounded border border-gray-200 shadow-sm flex flex-col space-y-2 animate-fade-in-up",children:[c("div",{className:"flex justify-between items-start",children:k("div",{children:[c("div",{className:"text-[11px] font-bold text-gray-800 truncate",children:"Matemtica"}),k("div",{className:"text-[9px] text-gray-500 leading-tight mt-0.5",children:["Encontrado em:",c("br",{}),"1 A, 1 B"]})]})}),c("button",{onClick:()=>f(!0),className:"w-full bg-green-500 hover:bg-green-600 text-white text-[9px] font-bold py-1.5 px-2 rounded shadow-sm transition-colors text-center",children:"Criar Grupo"})]})})]}),k("div",{className:"bg-gray-50 p-2 rounded-lg border border-gray-200 shadow-inner flex flex-col h-full overflow-hidden",children:[c("h3",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-wider mb-2 shrink-0",children:"Grupos BNCC Atuais"}),c("div",{className:"flex-1 overflow-y-auto",children:p?k("div",{className:"bg-white p-2 rounded border border-gray-200 shadow-sm flex flex-col space-y-2 animate-fade-in-up",children:[c("div",{className:"flex justify-between items-start",children:k("div",{children:[c("div",{className:"text-[11px] font-bold text-gray-800 truncate",children:"Matemtica"}),c("div",{className:"text-[9px] text-green-600 font-medium",children:"Grupo Ativo"})]})}),c("button",{onClick:()=>f(!1),className:"w-full bg-red-50 text-red-600 hover:bg-red-100 border border-red-200 text-[9px] font-bold py-1.5 px-2 rounded transition-colors text-center",children:"Desfazer"})]}):c("div",{className:"text-[10px] text-gray-400 text-center mt-4 italic",children:"Nenhum grupo criado."})})]})]}),c("div",{className:"bg-gray-50 p-2 border-t border-gray-200 text-[10px] text-gray-500 text-center shrink-0",children:p?"Agora as disciplinas de Matemtica esto vinculadas. O sistema permitir trocas entre as turmas.":"O sistema detectou disciplinas com o mesmo nome. Clique em 'Criar Grupo' para vincular."})]});const m=({label:u,subLabel:d,color:y="indigo",isDragging:C=!1,onDragStart:x,draggingSource:I})=>k("div",{draggable:!0,onDragStart:_=>x(_,I,u),className:`
        w-full h-full p-1.5 rounded shadow-sm border cursor-grab active:cursor-grabbing text-left flex flex-col justify-center
        ${C?"opacity-50 border-dashed bg-white":`bg-white hover:bg-${y}-50 border-gray-200`}
        transition-all duration-150 select-none relative group overflow-hidden
      `,children:[c("div",{className:`font-bold text-[10px] text-${y}-800 leading-tight truncate`,children:u}),c("div",{className:"text-[8px] text-gray-500 mt-0.5 leading-none",children:d})]});return k("div",{className:"border border-gray-300 rounded-lg overflow-hidden shadow-sm my-4 flex flex-col h-64 select-none bg-gray-50 text-left",children:[k("div",{className:"bg-white border-b border-gray-200 px-3 py-2 flex items-center justify-between shrink-0 h-9",children:[k("div",{className:"flex space-x-1.5",children:[c("div",{className:"w-2.5 h-2.5 rounded-full bg-red-400"}),c("div",{className:"w-2.5 h-2.5 rounded-full bg-yellow-400"}),c("div",{className:"w-2.5 h-2.5 rounded-full bg-green-400"})]}),c("div",{className:"text-[10px] font-medium text-gray-400 tracking-wide uppercase",children:e==="grid-swap"?"Modo Troca (Swap)":e==="grid-split"?"Modo Diviso":"Simulador de Grade"})]}),k("div",{className:"flex flex-1 overflow-hidden",children:[k("div",{className:"w-3/4 flex flex-col bg-gray-200 border-r border-gray-300 overflow-hidden relative",children:[k("div",{className:"flex bg-slate-200 border-b border-slate-300 h-8 shrink-0",children:[c("div",{className:"w-12 border-r border-slate-300 flex items-center justify-center text-[9px] font-bold text-slate-600 bg-slate-200",children:"H"}),c("div",{className:"flex-1 border-r border-slate-300 flex items-center justify-center text-[9px] font-bold text-slate-600 uppercase",children:"Segunda"}),c("div",{className:"flex-1 flex items-center justify-center text-[9px] font-bold text-slate-600 uppercase",children:"Tera"})]}),k("div",{className:"flex h-28 shrink-0 bg-white shadow-sm z-10",children:[c("div",{className:"w-12 bg-slate-50 border-r border-b border-slate-300 flex items-center justify-center text-[9px] font-bold text-slate-600",children:"07:00"}),e==="sidebar-to-grid"&&k(dn,{children:[c("div",{onDragOver:v,onDrop:w,className:`flex-1 border-r border-b border-gray-300 p-1 transition-colors ${t==="sidebar"?"bg-white animate-pulse-border":"bg-white"}`,children:t==="sidebar"?c("div",{className:"h-full border-2 border-dashed border-indigo-200 rounded flex items-center justify-center text-[9px] text-indigo-400",children:"Arraste aqui"}):c(m,{label:"Matemtica",subLabel:"Prof. Silva",onDragStart:h,draggingSource:"cell1"})}),c("div",{className:"flex-1 border-b border-gray-300 bg-gray-50"})]}),e==="grid-swap"&&k(dn,{children:[c("div",{onDragOver:v,onDrop:u=>g(u,"cell1"),className:"flex-1 border-r border-b border-gray-300 p-1",children:c(m,{label:r.cell1,subLabel:"Prof. A",color:r.cell1==="Matemtica"?"indigo":"orange",onDragStart:h,draggingSource:"cell1"})}),c("div",{onDragOver:v,onDrop:u=>g(u,"cell2"),className:"flex-1 border-b border-gray-300 p-1",children:c(m,{label:r.cell2,subLabel:"Prof. B",color:r.cell2==="Matemtica"?"indigo":"orange",onDragStart:h,draggingSource:"cell2"})})]}),e==="grid-split"&&k(dn,{children:[k("div",{className:"flex-1 border-r border-b border-gray-300 flex flex-col",children:[c("div",{onDragOver:a.top?void 0:v,onDrop:a.top?void 0:u=>S(u,"top"),className:`flex-1 p-1 border-b border-dashed border-gray-300 transition-colors relative h-1/2 min-h-0 ${a.top?"bg-blue-50":"hover:bg-blue-50"}`,children:a.top?c(m,{label:"Tc. Redao",subLabel:"Prof. Ana",color:"blue",onDragStart:()=>{}}):c("div",{className:"h-full flex items-center justify-center text-[8px] text-gray-300 uppercase tracking-widest",children:"Parte A"})}),c("div",{onDragOver:a.bottom?void 0:v,onDrop:a.bottom?void 0:u=>S(u,"bottom"),className:`flex-1 p-1 transition-colors relative h-1/2 min-h-0 ${a.bottom?"bg-blue-50":"hover:bg-blue-50"}`,children:a.bottom?c(m,{label:"Tc. Redao",subLabel:"Prof. Ana",color:"blue",onDragStart:()=>{}}):c("div",{className:"h-full flex items-center justify-center text-[8px] text-gray-300 uppercase tracking-widest",children:"Parte B"})})]}),c("div",{className:"flex-1 border-b border-gray-300 bg-gray-50"})]})]}),c("div",{className:"flex-1 bg-gray-100 flex items-center justify-center border-t border-gray-200",children:l?c("span",{className:"text-green-500 font-bold text-xs animate-bounce",children:"Troca realizada!"}):c("div",{className:"text-gray-300 text-3xl opacity-20 font-black tracking-widest transform -rotate-6",children:"GRADE"})})]}),k("div",{className:"w-1/4 bg-white flex flex-col border-l border-gray-200",children:[k("div",{className:"p-2 border-b border-gray-200 bg-gray-50 shrink-0",children:[c("div",{className:"h-2 w-12 bg-gray-300 rounded mb-1.5"}),c("div",{className:"h-5 w-full bg-white border border-gray-300 rounded"})]}),k("div",{className:"p-2 space-y-2 flex-1 overflow-hidden bg-gray-50",children:[e==="sidebar-to-grid"&&t==="sidebar"&&c("div",{className:"h-14",children:c(m,{label:"Matemtica",subLabel:"Prof. Silva",onDragStart:h,draggingSource:"sidebar"})}),e==="grid-split"&&(!a.top||!a.bottom)&&c("div",{className:"h-14 animate-pulse-slow",children:k("div",{draggable:!0,onDragStart:u=>h(u,"sidebar"),className:"w-full h-full p-1.5 rounded shadow-sm border border-blue-200 bg-white cursor-grab hover:bg-blue-50 flex flex-col justify-center relative",children:[c("div",{className:"font-bold text-[10px] text-blue-800 leading-tight",children:"Tc. Redao"}),c("div",{className:"absolute top-1 right-1 w-2 h-2 bg-blue-400 rounded-full"}),c("div",{className:"text-[8px] text-gray-500 mt-0.5",children:"Prof. Ana"})]})}),c("div",{className:"h-10 rounded bg-white border border-gray-200 opacity-40"}),c("div",{className:"h-10 rounded bg-white border border-gray-200 opacity-30"})]})]})]}),k("div",{className:"shrink-0 py-2 px-3 border-t border-gray-200 text-xs flex items-center justify-between bg-white text-gray-600",children:[k("span",{className:"font-medium flex items-center",children:[c("svg",{className:"w-4 h-4 mr-1.5 text-indigo-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e==="sidebar-to-grid"&&"Arraste da direita para a grade.",e==="grid-swap"&&"Arraste uma aula sobre a outra para trocar.",e==="grid-split"&&"Arraste para a metade superior ou inferior."]}),c("button",{onClick:D,className:"text-[9px] uppercase font-bold text-indigo-600 hover:underline",children:"Repetir"})]}),c("style",{children:`
        @keyframes pulse-slow {
          0%, 100% { transform: scale(1); }
          50% { transform: scale(1.02); }
        }
        .animate-pulse-slow {
          animation: pulse-slow 2s infinite;
        }
      `})]})},_n=[{title:"Bem-vindo ao Construtor de Horrio",content:k("div",{className:"space-y-3",children:[c("p",{children:"Este aplicativo simplifica a criao de grades escolares complexas (Regular e Modular)."}),c("p",{className:"font-medium text-indigo-600",children:"Confira as novidades e funcionalidades principais:"})]}),icon:c("svg",{className:"w-16 h-16 text-indigo-500 mx-auto mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})},{title:"1. Gerenciamento de Grupos",content:k("div",{className:"space-y-2",children:[k("p",{children:["Use a aba ",c("strong",{children:"Gerenciar Grupos BNCC"})," para unir disciplinas idnticas de turmas diferentes."]}),c(Ho,{scenario:"bncc-manager"}),c("p",{className:"text-xs text-gray-500",children:'Isso permite que voc troque aulas entre turmas do mesmo grupo sem gerar alertas de "Turma Errada".'})]}),icon:null},{title:"2. Atribuindo Aulas",content:k("div",{className:"space-y-2",children:[c("p",{children:"Na grade, arraste as disciplinas do painel lateral para os horrios vagos."}),c(Ho,{scenario:"sidebar-to-grid"}),c("p",{className:"text-xs text-gray-500",children:"O sistema controla a contagem de aulas automaticamente."})]}),icon:null},{title:"3. Trocando Aulas (Swap)",content:k("div",{className:"space-y-2",children:[k("p",{children:["Precisa reorganizar? Simplesmente arraste uma aula da grade ",c("strong",{children:"sobre outra aula j alocada"}),"."]}),c(Ho,{scenario:"grid-swap"}),c("p",{className:"text-xs text-gray-500",children:"O sistema troca automaticamente as duas aulas de lugar, mantendo os dados de cada uma."})]}),icon:null},{title:"4. Aulas Divididas",content:k("div",{className:"space-y-2",children:[c("p",{children:"Para disciplinas com diviso de turma, a clula da grade se divide em duas partes."}),c(Ho,{scenario:"grid-split"}),c("p",{className:"text-xs text-gray-500",children:"Arraste a aula para a metade superior ou inferior para alocar professores diferentes no mesmo horrio."})]}),icon:null},{title:"5. Salvar e Exportar",content:k("div",{className:"space-y-3",children:[c("p",{children:"Seus dados so salvos automaticamente no seu navegador."}),c("p",{children:"Ao finalizar, use os botes na barra superior para:"}),k("ul",{className:"list-disc list-inside text-sm text-gray-600 space-y-1 text-left",children:[c("li",{children:"Exportar PDF (timo para impresso A3)."}),c("li",{children:"Exportar Excel (para compartilhar com a secretaria)."}),c("li",{children:"Fazer backup dos dados (JSON)."})]})]}),icon:c("svg",{className:"w-16 h-16 text-orange-500 mx-auto mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})})}],mh=()=>{const{state:e,dispatch:t}=Nn(),[n,r]=b.useState(0);b.useEffect(()=>{localStorage.getItem(Pu)||t({type:"TOGGLE_ONBOARDING",payload:!0})},[t]);const o=()=>{n<_n.length-1?r(a=>a+1):i()},l=()=>{n>0&&r(a=>a-1)},i=()=>{localStorage.setItem(Pu,"true"),t({type:"TOGGLE_ONBOARDING",payload:!1}),setTimeout(()=>r(0),300)};return e.isOnboardingOpen?c("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-[60] flex items-center justify-center p-4 backdrop-blur-sm transition-opacity duration-300",children:k("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-lg overflow-hidden flex flex-col animate-fade-in-up max-h-[90vh]",children:[_n[n].icon&&c("div",{className:"bg-gray-50 p-6 flex justify-center items-center border-b border-gray-100",children:_n[n].icon}),k("div",{className:"p-6 md:p-8 text-center flex-1 overflow-y-auto",children:[c("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:_n[n].title}),c("div",{className:"text-gray-600 leading-relaxed text-sm md:text-base",children:_n[n].content})]}),k("div",{className:"p-6 border-t border-gray-100 flex flex-col gap-4 bg-white",children:[c("div",{className:"flex justify-center space-x-2 mb-2",children:_n.map((a,s)=>c("div",{className:`w-2 h-2 rounded-full transition-all duration-300 ${s===n?"bg-indigo-600 w-4":"bg-gray-300"}`},s))}),k("div",{className:"flex justify-between items-center",children:[c("button",{onClick:i,className:"text-gray-400 hover:text-gray-600 text-sm font-medium px-4 py-2",children:"Pular"}),k("div",{className:"flex space-x-3",children:[c("button",{onClick:l,disabled:n===0,className:`px-4 py-2 rounded-md text-sm font-medium border border-gray-300 text-gray-700 hover:bg-gray-50 transition-colors ${n===0?"opacity-50 cursor-not-allowed invisible":""}`,children:"Anterior"}),c("button",{onClick:o,className:"px-6 py-2 rounded-md text-sm font-medium bg-indigo-600 text-white hover:bg-indigo-700 shadow-sm transition-all transform hover:scale-105",children:n===_n.length-1?"Comear!":"Prximo"})]})]})]})]})}):null},hh=({size:e=24,color:t="text-indigo-600"})=>k("svg",{className:`animate-spin ${t}`,width:e,height:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),gh=b.lazy(()=>ms(()=>import("./ManagementPage-1b098455.js"),[],import.meta.url)),vh=b.lazy(()=>ms(()=>import("./ProfessorViewPage-a315189f.js"),[],import.meta.url)),yh=b.lazy(()=>ms(()=>import("./DashboardPage-a3ab553b.js"),[],import.meta.url)),xi=()=>c("div",{className:"flex items-center justify-center h-full",children:c(hh,{size:48})}),wh=()=>{const[e,t]=b.useState(()=>localStorage.getItem("app_lastView")||"grid"),[n,r]=b.useState(()=>localStorage.getItem("app_lastGridType")||"regular"),[o,l]=b.useState(!1),[i,a]=b.useState(!1),[s,p]=b.useState(!1),{state:f,dispatch:h}=Nn();return b.useEffect(()=>{if(!at||!bt)return;const w=at.currentUser;if(!w)return;const g=w.uid,S=bt.collection("presence").doc(g);S.set({id:g,name:w.displayName||"Usurio",email:w.email,online:!0,lastActive:new Date().toISOString()}).catch(m=>console.error("Error setting presence:",m));const D=bt.collection("presence").onSnapshot(m=>{const u=[];m.forEach(d=>{const y=d.data();y.online&&u.push({id:y.id,name:y.name,email:y.email})}),h({type:"SET_ONLINE_USERS",payload:u})},m=>{console.error("Error listening to presence:",m)});return()=>{S.delete().catch(m=>console.error("Error clearing presence:",m)),D()}},[h]),b.useEffect(()=>{localStorage.setItem("app_lastView",e)},[e]),b.useEffect(()=>{localStorage.setItem("app_lastGridType",n)},[n]),k("div",{className:"flex flex-col h-screen font-sans text-gray-800",children:[c("header",{className:"bg-white shadow-md z-20",children:c(uh,{currentView:e,setCurrentView:t,activeGrid:n,isFocusModeEnabled:o,onFocusModeChange:l,onOpenClearDataModal:()=>a(!0),onOpenLoadExampleModal:()=>p(!0)})}),k("main",{className:"flex flex-1 overflow-hidden relative",children:[(()=>{switch(e){case"dashboard":return c(b.Suspense,{fallback:c(xi,{}),children:c(yh,{})});case"grid":return k("div",{className:"flex flex-col flex-1 overflow-hidden",children:[c("div",{className:"flex-shrink-0 px-4 pt-2 border-b border-gray-200 bg-gray-50",children:k("nav",{className:"flex space-x-2","aria-label":"Tabs",children:[c("button",{onClick:()=>r("regular"),className:`px-3 py-2 font-medium text-sm rounded-t-md ${n==="regular"?"bg-white text-indigo-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:"Grade Regular"}),c("button",{onClick:()=>r("modular"),className:`px-3 py-2 font-medium text-sm rounded-t-md ${n==="modular"?"bg-white text-indigo-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:"Grade Modular"})]})}),k("div",{className:"flex flex-1 overflow-hidden",children:[k("div",{className:"flex-1 flex flex-col overflow-auto",children:[c(Km,{isFocusModeEnabled:o,gridType:n}),c("footer",{className:"bg-white p-2 border-t",children:c(ch,{})})]}),c("aside",{className:`bg-gray-50 border-l border-gray-200 overflow-y-auto flex-shrink-0 transition-all duration-300 ease-in-out ${f.isSidebarCollapsed?"w-0":"w-64 lg:w-80"}`,children:c("div",{className:`h-full overflow-hidden ${f.isSidebarCollapsed?"invisible":"visible"}`,children:c(eh,{gridType:n})})})]})]});case"management":return c(b.Suspense,{fallback:c(xi,{}),children:c(gh,{})});case"professor":return c(b.Suspense,{fallback:c(xi,{}),children:c(vh,{})});default:return null}})(),e==="grid"&&c("button",{onClick:()=>h({type:"TOGGLE_SIDEBAR"}),className:`absolute top-1/2 -translate-y-1/2 z-30 bg-white hover:bg-gray-100 text-gray-600 border border-gray-300 rounded-full w-8 h-8 flex items-center justify-center shadow-md focus:outline-none focus:ring-2 focus:ring-indigo-500 transition-all duration-300 ease-in-out ${f.isSidebarCollapsed?"right-0 translate-x-1/2":"right-[16rem] lg:right-[20rem] translate-x-1/2"}`,title:f.isSidebarCollapsed?"Expandir painel":"Recolher painel","aria-label":f.isSidebarCollapsed?"Expandir painel lateral":"Recolher painel lateral",children:f.isSidebarCollapsed?c("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})}):c("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})})})]}),f.toastMessage&&c(dh,{message:f.toastMessage,onClose:()=>h({type:"SHOW_TOAST",payload:null})}),c(fh,{isOpen:i,onClose:()=>a(!1)}),c(ph,{isOpen:s,onClose:()=>p(!1)}),c(mh,{})]})},xh=()=>c(Om,{children:c(Wm,{children:c(Hm,{children:c(wh,{})})})}),Sh=({onRetry:e})=>{const[t,n]=b.useState(!1),[r,o]=b.useState(null),i=`https://console.firebase.google.com/u/0/project/${{}.VITE_FIREBASE_PROJECT_ID||"seu-project-id"}/authentication/providers`;return b.useEffect(()=>{o(window.location.hostname||"domnio no detectado")},[]),k(dn,{children:[c("h3",{className:"text-xl font-bold text-red-700 mb-4 text-center",children:"Configurao Necessria"}),c("p",{className:"text-sm text-gray-700 mb-4",children:"Para que o login com Google funcione, o domnio que voc est usando para acessar esta aplicao precisa ser autorizado no seu projeto Firebase."}),k("div",{className:"bg-red-50 p-3 rounded-md border border-red-200 mb-4",children:[c("p",{className:"text-sm text-gray-600",children:"Copie este domnio:"}),k("div",{className:"flex items-center justify-between mt-1 gap-2",children:[c("code",{className:"text-red-800 font-mono bg-red-100 px-2 py-1 rounded w-full break-all h-8 flex items-center",children:r===null?"Carregando...":r}),c("button",{onClick:()=>{r&&r!=="domnio no detectado"&&navigator.clipboard.writeText(r).then(()=>{n(!0),setTimeout(()=>n(!1),2e3)})},disabled:!r||r==="domnio no detectado",className:"px-3 py-1 text-sm bg-red-100 text-red-700 rounded hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-red-400 flex-shrink-0 disabled:opacity-50 disabled:cursor-not-allowed",children:t?"Copiado!":"Copiar"})]})]}),c("h4",{className:"font-semibold mb-2 text-gray-800",children:"Como Corrigir:"}),k("ol",{className:"list-decimal list-inside text-sm space-y-2 mb-4 text-gray-700",children:[c("li",{children:"Abra o Console do Firebase (link abaixo)."}),k("li",{children:["Navegue at a seo ",c("strong",{className:"font-semibold",children:"Authentication"}),"."]}),k("li",{children:["Clique na aba ",c("strong",{className:"font-semibold",children:"Sign-in method"}),"."]}),k("li",{children:["Role para baixo at a seo ",c("strong",{className:"font-semibold",children:"Authorized domains"}),"."]}),k("li",{children:["Clique em ",c("strong",{className:"font-semibold",children:"Add domain"})," e cole o domnio copiado."]})]}),k("div",{className:"space-y-3 mt-6",children:[c("a",{href:i,target:"_blank",rel:"noopener noreferrer",className:"w-full flex items-center justify-center bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Abrir Firebase Console"}),c("button",{onClick:e,className:"w-full bg-gray-600 text-white py-2 px-4 rounded-md hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:"Tentar Novamente"})]})]})},Eh=()=>{if(!at)return c("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 p-4",children:k("div",{className:"bg-white p-8 rounded-lg shadow-md max-w-lg w-full text-center border-l-4 border-red-500",children:[c("h2",{className:"text-xl font-bold text-red-600 mb-4",children:"Erro de Configurao do Firebase"}),c("p",{className:"text-gray-700 mb-4",children:"O modo Firebase est ativado, mas as credenciais no foram encontradas."}),c("div",{className:"bg-gray-50 p-3 rounded text-left text-sm text-gray-600 font-mono overflow-auto",children:c("p",{children:"Verifique se as variveis de ambiente (VITE_FIREBASE_*) esto definidas corretamente no seu ambiente de build (ex: GitHub Secrets, Vercel Env Vars, ou arquivo .env)."})}),k("p",{className:"mt-4 text-sm text-gray-500",children:["Se voc pretende usar o modo offline, defina ",c("code",{children:"FIREBASE_ENABLED = false"})," no arquivo ",c("code",{children:"config.ts"}),"."]})]})});const[e,t]=b.useState("loading"),[n,r]=b.useState(null),[o,l]=b.useState(null),i=async()=>{const p=new window.firebase.auth.GoogleAuthProvider;t("loading"),l(null);try{await at.signInWithPopup(p)}catch(f){console.error("Firebase login error:",f);let h="Falha ao fazer login. Por favor, tente novamente.";if(f.code)switch(f.code){case"auth/popup-closed-by-user":case"auth/cancelled-popup-request":t("unauthenticated");return;case"auth/popup-blocked":h="O popup de login foi bloqueado pelo seu navegador. Por favor, habilite popups para este site e tente novamente.";break;case"auth/operation-not-allowed":h="O login com Google no est habilitado para este aplicativo. Por favor, contate o administrador.";break;case"auth/unauthorized-domain":l("auth/unauthorized-domain"),t("unauthenticated");return}l(h),t("unauthenticated")}};b.useEffect(()=>{const p=at.onAuthStateChanged(async f=>{if(t("loading"),f&&f.email){r(f);const h=`app_auth_allowed_${f.email}`,v=localStorage.getItem(h),w=Date.now(),g=12*60*60*1e3;if(v)try{const{timestamp:D}=JSON.parse(v);if(w-D<g){console.log("Auth cached used."),t("authenticated"),l(null);return}}catch{console.warn("Invalid auth cache, verifying with Firestore.")}const S=bt.doc(`allowed_users/${f.email}`);try{if((await S.get()).exists)localStorage.setItem(h,JSON.stringify({timestamp:w})),t("authenticated"),l(null);else{t("unauthorized"),localStorage.removeItem(h);try{await bt.collection("access_requests").doc(f.email).set({email:f.email,displayName:f.displayName||"Sem nome",photoURL:f.photoURL||"",uid:f.uid,lastAttemptAt:new Date().toISOString()},{merge:!0}),console.log(`Access attempt logged for ${f.email}`)}catch(m){console.error("Failed to log access attempt",m)}}}catch(D){console.error("Error checking Firestore permissions:",D),D.code==="permission-denied"||D.code==="unauthenticated"?l("Erro de permisso ao verificar usurio. Tente novamente."):l("Erro ao verificar permisses. Tente novamente mais tarde."),t("unauthenticated"),await at.signOut()}}else r(null),t("unauthenticated"),o!=="auth/unauthorized-domain"&&l(null)});return()=>p()},[o]);const a=async()=>{n!=null&&n.email&&localStorage.removeItem(`app_auth_allowed_${n.email}`),await at.signOut(),l(null)};return e==="authenticated"?c(xh,{}):c("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:c("div",{className:"bg-white p-8 rounded-lg shadow-md w-full max-w-sm",children:(()=>{if(o==="auth/unauthorized-domain")return c(Sh,{onRetry:i});switch(e){case"loading":return c("p",{className:"text-gray-600 text-center",children:"Verificando..."});case"unauthorized":return k(dn,{children:[k("div",{className:"text-center mb-6",children:[n!=null&&n.photoURL?c("img",{src:n.photoURL,alt:n.displayName||"User",className:"mx-auto w-16 h-16 rounded-full mb-4 shadow-sm border border-gray-200"}):c("div",{className:"mx-auto w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mb-4",children:c("svg",{className:"w-8 h-8 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),c("h3",{className:"text-lg font-medium text-gray-900",children:"Acesso Pendente"}),k("p",{className:"mt-2 text-sm text-gray-500",children:["Ol, ",c("strong",{children:n==null?void 0:n.displayName})," (",n==null?void 0:n.email,")."]}),c("p",{className:"mt-2 text-sm text-gray-600",children:"Sua solicitao de acesso foi registrada. Por favor, aguarde a liberao do administrador."})]}),c("button",{onClick:a,className:"w-full bg-gray-500 text-white py-2 px-4 rounded-md hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-400",children:"Voltar para o Login"})]});case"unauthenticated":default:return k(dn,{children:[c("h2",{className:"text-2xl font-bold text-center text-gray-800 mb-6",children:"Acesso ao Sistema"}),c("p",{className:"text-center text-gray-600 mb-6",children:"Por favor, utilize sua conta Google para continuar."}),o&&c("p",{className:"text-sm text-red-600 mb-4 text-center",children:o}),k("button",{onClick:i,className:"w-full flex items-center justify-center bg-white border border-gray-300 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[k("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 48 48",children:[c("path",{fill:"#EA4335",d:"M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"}),c("path",{fill:"#4285F4",d:"M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.53-4.18 7.13-10.12 7.13-17.65z"}),c("path",{fill:"#FBBC05",d:"M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"}),c("path",{fill:"#34A853",d:"M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"}),c("path",{fill:"none",d:"M0 0h48v48H0z"})]}),"Entrar com Google"]})]})}})()})})};class Ch extends Fn.Component{constructor(){super(...arguments),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){console.error("Uncaught error:",t,n)}render(){return this.state.hasError?c("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 p-4",children:k("div",{className:"bg-white p-8 rounded-lg shadow-md max-w-lg w-full text-center",children:[c("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Ops! Algo deu errado."}),c("p",{className:"text-gray-600 mb-4",children:"Ocorreu um erro inesperado na aplicao. Tente recarregar a pgina."}),this.state.error&&c("div",{className:"bg-red-50 border border-red-200 p-2 rounded text-left overflow-auto max-h-32 text-xs text-red-800 mb-4 font-mono",children:this.state.error.toString()}),c("button",{onClick:()=>window.location.reload(),className:"bg-indigo-600 text-white px-4 py-2 rounded hover:bg-indigo-700 transition-colors",children:"Recarregar Pgina"})]})}):this.props.children}}const Zd=document.getElementById("root");if(!Zd)throw new Error("Could not find root element to mount to");const kh=Si.createRoot(Zd);kh.render(c(Fn.StrictMode,{children:c(Ch,{children:c(Eh,{})})}));export{Tl as A,de as D,dn as F,Ke as H,hh as L,Jd as M,Fn as R,k as a,Je as b,xo as c,So as d,Nn as e,Ph as f,Ah as g,qm as h,it as i,c as j,b as r,Cr as u};
